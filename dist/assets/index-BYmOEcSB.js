function xg(s,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in s)){const u=Object.getOwnPropertyDescriptor(o,a);u&&Object.defineProperty(s,a,u.get?u:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function yh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function _g(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(o){var a=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return s[o]}})}),n}var Tl={exports:{}},Is={},Ol={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf;function Sg(){if(wf)return me;wf=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function C(j,A,le){this.props=j,this.context=A,this.refs=T,this.updater=le||E}C.prototype.isReactComponent={},C.prototype.setState=function(j,A){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,A,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function L(){}L.prototype=C.prototype;function H(j,A,le){this.props=j,this.context=A,this.refs=T,this.updater=le||E}var z=H.prototype=new L;z.constructor=H,N(z,C.prototype),z.isPureReactComponent=!0;var J=Array.isArray,se=Object.prototype.hasOwnProperty,ve={current:null},ye={key:!0,ref:!0,__self:!0,__source:!0};function Ee(j,A,le){var D,ee={},ne=null,ie=null;if(A!=null)for(D in A.ref!==void 0&&(ie=A.ref),A.key!==void 0&&(ne=""+A.key),A)se.call(A,D)&&!ye.hasOwnProperty(D)&&(ee[D]=A[D]);var de=arguments.length-2;if(de===1)ee.children=le;else if(1<de){for(var pe=Array(de),ot=0;ot<de;ot++)pe[ot]=arguments[ot+2];ee.children=pe}if(j&&j.defaultProps)for(D in de=j.defaultProps,de)ee[D]===void 0&&(ee[D]=de[D]);return{$$typeof:s,type:j,key:ne,ref:ie,props:ee,_owner:ve.current}}function ze(j,A){return{$$typeof:s,type:j.type,key:A,ref:j.ref,props:j.props,_owner:j._owner}}function Oe(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function it(j){var A={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(le){return A[le]})}var V=/\/+/g;function ue(j,A){return typeof j=="object"&&j!==null&&j.key!=null?it(""+j.key):A.toString(36)}function $(j,A,le,D,ee){var ne=typeof j;(ne==="undefined"||ne==="boolean")&&(j=null);var ie=!1;if(j===null)ie=!0;else switch(ne){case"string":case"number":ie=!0;break;case"object":switch(j.$$typeof){case s:case r:ie=!0}}if(ie)return ie=j,ee=ee(ie),j=D===""?"."+ue(ie,0):D,J(ee)?(le="",j!=null&&(le=j.replace(V,"$&/")+"/"),$(ee,A,le,"",function(ot){return ot})):ee!=null&&(Oe(ee)&&(ee=ze(ee,le+(!ee.key||ie&&ie.key===ee.key?"":(""+ee.key).replace(V,"$&/")+"/")+j)),A.push(ee)),1;if(ie=0,D=D===""?".":D+":",J(j))for(var de=0;de<j.length;de++){ne=j[de];var pe=D+ue(ne,de);ie+=$(ne,A,le,pe,ee)}else if(pe=S(j),typeof pe=="function")for(j=pe.call(j),de=0;!(ne=j.next()).done;)ne=ne.value,pe=D+ue(ne,de++),ie+=$(ne,A,le,pe,ee);else if(ne==="object")throw A=String(j),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ie}function q(j,A,le){if(j==null)return j;var D=[],ee=0;return $(j,D,"","",function(ne){return A.call(le,ne,ee++)}),D}function K(j){if(j._status===-1){var A=j._result;A=A(),A.then(function(le){(j._status===0||j._status===-1)&&(j._status=1,j._result=le)},function(le){(j._status===0||j._status===-1)&&(j._status=2,j._result=le)}),j._status===-1&&(j._status=0,j._result=A)}if(j._status===1)return j._result.default;throw j._result}var Z={current:null},I={transition:null},Y={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:I,ReactCurrentOwner:ve};function B(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:q,forEach:function(j,A,le){q(j,function(){A.apply(this,arguments)},le)},count:function(j){var A=0;return q(j,function(){A++}),A},toArray:function(j){return q(j,function(A){return A})||[]},only:function(j){if(!Oe(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},me.Component=C,me.Fragment=n,me.Profiler=a,me.PureComponent=H,me.StrictMode=o,me.Suspense=p,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,me.act=B,me.cloneElement=function(j,A,le){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var D=N({},j.props),ee=j.key,ne=j.ref,ie=j._owner;if(A!=null){if(A.ref!==void 0&&(ne=A.ref,ie=ve.current),A.key!==void 0&&(ee=""+A.key),j.type&&j.type.defaultProps)var de=j.type.defaultProps;for(pe in A)se.call(A,pe)&&!ye.hasOwnProperty(pe)&&(D[pe]=A[pe]===void 0&&de!==void 0?de[pe]:A[pe])}var pe=arguments.length-2;if(pe===1)D.children=le;else if(1<pe){de=Array(pe);for(var ot=0;ot<pe;ot++)de[ot]=arguments[ot+2];D.children=de}return{$$typeof:s,type:j.type,key:ee,ref:ne,props:D,_owner:ie}},me.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},me.createElement=Ee,me.createFactory=function(j){var A=Ee.bind(null,j);return A.type=j,A},me.createRef=function(){return{current:null}},me.forwardRef=function(j){return{$$typeof:m,render:j}},me.isValidElement=Oe,me.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:K}},me.memo=function(j,A){return{$$typeof:y,type:j,compare:A===void 0?null:A}},me.startTransition=function(j){var A=I.transition;I.transition={};try{j()}finally{I.transition=A}},me.unstable_act=B,me.useCallback=function(j,A){return Z.current.useCallback(j,A)},me.useContext=function(j){return Z.current.useContext(j)},me.useDebugValue=function(){},me.useDeferredValue=function(j){return Z.current.useDeferredValue(j)},me.useEffect=function(j,A){return Z.current.useEffect(j,A)},me.useId=function(){return Z.current.useId()},me.useImperativeHandle=function(j,A,le){return Z.current.useImperativeHandle(j,A,le)},me.useInsertionEffect=function(j,A){return Z.current.useInsertionEffect(j,A)},me.useLayoutEffect=function(j,A){return Z.current.useLayoutEffect(j,A)},me.useMemo=function(j,A){return Z.current.useMemo(j,A)},me.useReducer=function(j,A,le){return Z.current.useReducer(j,A,le)},me.useRef=function(j){return Z.current.useRef(j)},me.useState=function(j){return Z.current.useState(j)},me.useSyncExternalStore=function(j,A,le){return Z.current.useSyncExternalStore(j,A,le)},me.useTransition=function(){return Z.current.useTransition()},me.version="18.3.1",me}var xf;function mu(){return xf||(xf=1,Ol.exports=Sg()),Ol.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f;function bg(){if(_f)return Is;_f=1;var s=mu(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(m,p,y){var v,w={},S=null,E=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(E=p.ref);for(v in p)o.call(p,v)&&!u.hasOwnProperty(v)&&(w[v]=p[v]);if(m&&m.defaultProps)for(v in p=m.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:r,type:m,key:S,ref:E,props:w,_owner:a.current}}return Is.Fragment=n,Is.jsx=d,Is.jsxs=d,Is}var Sf;function kg(){return Sf||(Sf=1,Tl.exports=bg()),Tl.exports}var h=kg(),_=mu();const ke=yh(_),Yn=xg({__proto__:null,default:ke},[_]);var mo={},Rl={exports:{}},pt={},Dl={exports:{}},Al={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf;function jg(){return bf||(bf=1,function(s){function r(I,Y){var B=I.length;I.push(Y);e:for(;0<B;){var j=B-1>>>1,A=I[j];if(0<a(A,Y))I[j]=Y,I[B]=A,B=j;else break e}}function n(I){return I.length===0?null:I[0]}function o(I){if(I.length===0)return null;var Y=I[0],B=I.pop();if(B!==Y){I[0]=B;e:for(var j=0,A=I.length,le=A>>>1;j<le;){var D=2*(j+1)-1,ee=I[D],ne=D+1,ie=I[ne];if(0>a(ee,B))ne<A&&0>a(ie,ee)?(I[j]=ie,I[ne]=B,j=ne):(I[j]=ee,I[D]=B,j=D);else if(ne<A&&0>a(ie,B))I[j]=ie,I[ne]=B,j=ne;else break e}}return Y}function a(I,Y){var B=I.sortIndex-Y.sortIndex;return B!==0?B:I.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var p=[],y=[],v=1,w=null,S=3,E=!1,N=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(I){for(var Y=n(y);Y!==null;){if(Y.callback===null)o(y);else if(Y.startTime<=I)o(y),Y.sortIndex=Y.expirationTime,r(p,Y);else break;Y=n(y)}}function J(I){if(T=!1,z(I),!N)if(n(p)!==null)N=!0,K(se);else{var Y=n(y);Y!==null&&Z(J,Y.startTime-I)}}function se(I,Y){N=!1,T&&(T=!1,L(Ee),Ee=-1),E=!0;var B=S;try{for(z(Y),w=n(p);w!==null&&(!(w.expirationTime>Y)||I&&!it());){var j=w.callback;if(typeof j=="function"){w.callback=null,S=w.priorityLevel;var A=j(w.expirationTime<=Y);Y=s.unstable_now(),typeof A=="function"?w.callback=A:w===n(p)&&o(p),z(Y)}else o(p);w=n(p)}if(w!==null)var le=!0;else{var D=n(y);D!==null&&Z(J,D.startTime-Y),le=!1}return le}finally{w=null,S=B,E=!1}}var ve=!1,ye=null,Ee=-1,ze=5,Oe=-1;function it(){return!(s.unstable_now()-Oe<ze)}function V(){if(ye!==null){var I=s.unstable_now();Oe=I;var Y=!0;try{Y=ye(!0,I)}finally{Y?ue():(ve=!1,ye=null)}}else ve=!1}var ue;if(typeof H=="function")ue=function(){H(V)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=V,ue=function(){q.postMessage(null)}}else ue=function(){C(V,0)};function K(I){ye=I,ve||(ve=!0,ue())}function Z(I,Y){Ee=C(function(){I(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(I){I.callback=null},s.unstable_continueExecution=function(){N||E||(N=!0,K(se))},s.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ze=0<I?Math.floor(1e3/I):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(I){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var B=S;S=Y;try{return I()}finally{S=B}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=S;S=I;try{return Y()}finally{S=B}},s.unstable_scheduleCallback=function(I,Y,B){var j=s.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?j+B:j):B=j,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=B+A,I={id:v++,callback:Y,priorityLevel:I,startTime:B,expirationTime:A,sortIndex:-1},B>j?(I.sortIndex=B,r(y,I),n(p)===null&&I===n(y)&&(T?(L(Ee),Ee=-1):T=!0,Z(J,B-j))):(I.sortIndex=A,r(p,I),N||E||(N=!0,K(se))),I},s.unstable_shouldYield=it,s.unstable_wrapCallback=function(I){var Y=S;return function(){var B=S;S=Y;try{return I.apply(this,arguments)}finally{S=B}}}}(Al)),Al}var kf;function Eg(){return kf||(kf=1,Dl.exports=jg()),Dl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf;function Ng(){if(jf)return pt;jf=1;var s=mu(),r=Eg();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function S(e){return p.call(w,e)?!0:p.call(v,e)?!1:y.test(e)?w[e]=!0:(v[e]=!0,!1)}function E(e,t,i,l){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,i,l){if(t===null||typeof t>"u"||E(e,t,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function T(e,t,i,l,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new T(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,H);C[t]=new T(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,H);C[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,H);C[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,t,i,l){var c=C.hasOwnProperty(t)?C[t]:null;(c!==null?c.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,i,c,l)&&(i=null),l||c===null?S(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,l=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,l?e.setAttributeNS(l,t,i):e.setAttribute(t,i))))}var J=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),ve=Symbol.for("react.portal"),ye=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),it=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),I=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,j;function A(e){if(j===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var le=!1;function D(e,t){if(!e||le)return"";le=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var l=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){l=R}e.call(t.prototype)}else{try{throw Error()}catch(R){l=R}e()}}catch(R){if(R&&l&&typeof R.stack=="string"){for(var c=R.stack.split(`
`),f=l.stack.split(`
`),g=c.length-1,x=f.length-1;1<=g&&0<=x&&c[g]!==f[x];)x--;for(;1<=g&&0<=x;g--,x--)if(c[g]!==f[x]){if(g!==1||x!==1)do if(g--,x--,0>x||c[g]!==f[x]){var b=`
`+c[g].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=g&&0<=x);break}}}finally{le=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?A(e):""}function ee(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=D(e.type,!1),e;case 11:return e=D(e.type.render,!1),e;case 1:return e=D(e.type,!0),e;default:return""}}function ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ye:return"Fragment";case ve:return"Portal";case ze:return"Profiler";case Ee:return"StrictMode";case ue:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case it:return(e.displayName||"Context")+".Consumer";case Oe:return(e._context.displayName||"Context")+".Provider";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:ne(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return ne(e(t))}catch{}}return null}function ie(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(t);case 8:return t===Ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ot(e){var t=pe(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function je(e){e._valueTracker||(e._valueTracker=ot(e))}function bt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=pe(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function Ge(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function or(e,t){var i=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ju(e,t){var i=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;i=de(t.value!=null?t.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Eu(e,t){t=t.checked,t!=null&&z(e,"checked",t,!1)}function Mo(e,t){Eu(e,t);var i=de(t.value),l=t.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fo(e,t.type,i):t.hasOwnProperty("defaultValue")&&Fo(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nu(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Fo(e,t,i){(t!=="number"||Ge(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Xn=Array.isArray;function un(e,t,i,l){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+de(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Uo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cu(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(Xn(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:de(i)}}function Pu(e,t){var i=de(t.value),l=de(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function Tu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ou(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ou(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ii,Ru=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,l,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,l,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},km=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){km.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),es[t]=es[e]})});function Du(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||es.hasOwnProperty(e)&&es[e]?(""+t).trim():t+"px"}function Au(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var l=i.indexOf("--")===0,c=Du(i,t[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,c):e[i]=c}}var jm=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bo(e,t){if(t){if(jm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function Wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=null;function qo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vo=null,cn=null,dn=null;function Lu(e){if(e=Ss(e)){if(typeof Vo!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Ci(t),Vo(e.stateNode,e.type,t))}}function $u(e){cn?dn?dn.push(e):dn=[e]:cn=e}function Iu(){if(cn){var e=cn,t=dn;if(dn=cn=null,Lu(e),t)for(e=0;e<t.length;e++)Lu(t[e])}}function Mu(e,t){return e(t)}function Fu(){}var Yo=!1;function Uu(e,t,i){if(Yo)return e(t,i);Yo=!0;try{return Mu(e,t,i)}finally{Yo=!1,(cn!==null||dn!==null)&&(Fu(),Iu())}}function ts(e,t){var i=e.stateNode;if(i===null)return null;var l=Ci(i);if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var Ko=!1;if(m)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Ko=!1}function Em(e,t,i,l,c,f,g,x,b){var R=Array.prototype.slice.call(arguments,3);try{t.apply(i,R)}catch(F){this.onError(F)}}var ns=!1,oi=null,ai=!1,Go=null,Nm={onError:function(e){ns=!0,oi=e}};function Cm(e,t,i,l,c,f,g,x,b){ns=!1,oi=null,Em.apply(Nm,arguments)}function Pm(e,t,i,l,c,f,g,x,b){if(Cm.apply(this,arguments),ns){if(ns){var R=oi;ns=!1,oi=null}else throw Error(n(198));ai||(ai=!0,Go=R)}}function Ir(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function zu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bu(e){if(Ir(e)!==e)throw Error(n(188))}function Tm(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,l=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return Bu(c),e;if(f===l)return Bu(c),t;f=f.sibling}throw Error(n(188))}if(i.return!==l.return)i=c,l=f;else{for(var g=!1,x=c.child;x;){if(x===i){g=!0,i=c,l=f;break}if(x===l){g=!0,l=c,i=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===i){g=!0,i=f,l=c;break}if(x===l){g=!0,l=f,i=c;break}x=x.sibling}if(!g)throw Error(n(189))}}if(i.alternate!==l)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Wu(e){return e=Tm(e),e!==null?Hu(e):null}function Hu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hu(e);if(t!==null)return t;e=e.sibling}return null}var qu=r.unstable_scheduleCallback,Vu=r.unstable_cancelCallback,Om=r.unstable_shouldYield,Rm=r.unstable_requestPaint,Ie=r.unstable_now,Dm=r.unstable_getCurrentPriorityLevel,Qo=r.unstable_ImmediatePriority,Yu=r.unstable_UserBlockingPriority,li=r.unstable_NormalPriority,Am=r.unstable_LowPriority,Ku=r.unstable_IdlePriority,ui=null,Mt=null;function Lm(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(ui,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Mm,$m=Math.log,Im=Math.LN2;function Mm(e){return e>>>=0,e===0?32:31-($m(e)/Im|0)|0}var ci=64,di=4194304;function ss(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fi(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var x=g&~c;x!==0?l=ss(x):(f&=g,f!==0&&(l=ss(f)))}else g=i&~c,g!==0?l=ss(g):f!==0&&(l=ss(f));if(l===0)return 0;if(t!==0&&t!==l&&(t&c)===0&&(c=l&-l,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if((l&4)!==0&&(l|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)i=31-Tt(t),c=1<<i,l|=e[i],t&=~c;return l}function Fm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Um(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Tt(f),x=1<<g,b=c[g];b===-1?((x&i)===0||(x&l)!==0)&&(c[g]=Fm(x,t)):b<=t&&(e.expiredLanes|=x),f&=~x}}function Jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gu(){var e=ci;return ci<<=1,(ci&4194240)===0&&(ci=64),e}function Xo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function is(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=i}function zm(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Tt(i),f=1<<c;t[c]=0,l[c]=-1,e[c]=-1,i&=~f}}function Zo(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Tt(i),c=1<<l;c&t|e[l]&t&&(e[l]|=t),i&=~c}}var _e=0;function Qu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ju,ea,Xu,Zu,ec,ta=!1,hi=[],ar=null,lr=null,ur=null,os=new Map,as=new Map,cr=[],Bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tc(e,t){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(t.pointerId)}}function ls(e,t,i,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Ss(t),t!==null&&ea(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Wm(e,t,i,l,c){switch(t){case"focusin":return ar=ls(ar,e,t,i,l,c),!0;case"dragenter":return lr=ls(lr,e,t,i,l,c),!0;case"mouseover":return ur=ls(ur,e,t,i,l,c),!0;case"pointerover":var f=c.pointerId;return os.set(f,ls(os.get(f)||null,e,t,i,l,c)),!0;case"gotpointercapture":return f=c.pointerId,as.set(f,ls(as.get(f)||null,e,t,i,l,c)),!0}return!1}function rc(e){var t=Mr(e.target);if(t!==null){var i=Ir(t);if(i!==null){if(t=i.tag,t===13){if(t=zu(i),t!==null){e.blockedOn=t,ec(e.priority,function(){Xu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=na(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Ho=l,i.target.dispatchEvent(l),Ho=null}else return t=Ss(i),t!==null&&ea(t),e.blockedOn=i,!1;t.shift()}return!0}function nc(e,t,i){mi(e)&&i.delete(t)}function Hm(){ta=!1,ar!==null&&mi(ar)&&(ar=null),lr!==null&&mi(lr)&&(lr=null),ur!==null&&mi(ur)&&(ur=null),os.forEach(nc),as.forEach(nc)}function us(e,t){e.blockedOn===t&&(e.blockedOn=null,ta||(ta=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hm)))}function cs(e){function t(c){return us(c,e)}if(0<hi.length){us(hi[0],e);for(var i=1;i<hi.length;i++){var l=hi[i];l.blockedOn===e&&(l.blockedOn=null)}}for(ar!==null&&us(ar,e),lr!==null&&us(lr,e),ur!==null&&us(ur,e),os.forEach(t),as.forEach(t),i=0;i<cr.length;i++)l=cr[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<cr.length&&(i=cr[0],i.blockedOn===null);)rc(i),i.blockedOn===null&&cr.shift()}var fn=J.ReactCurrentBatchConfig,pi=!0;function qm(e,t,i,l){var c=_e,f=fn.transition;fn.transition=null;try{_e=1,ra(e,t,i,l)}finally{_e=c,fn.transition=f}}function Vm(e,t,i,l){var c=_e,f=fn.transition;fn.transition=null;try{_e=4,ra(e,t,i,l)}finally{_e=c,fn.transition=f}}function ra(e,t,i,l){if(pi){var c=na(e,t,i,l);if(c===null)xa(e,t,l,gi,i),tc(e,l);else if(Wm(c,e,t,i,l))l.stopPropagation();else if(tc(e,l),t&4&&-1<Bm.indexOf(e)){for(;c!==null;){var f=Ss(c);if(f!==null&&Ju(f),f=na(e,t,i,l),f===null&&xa(e,t,l,gi,i),f===c)break;c=f}c!==null&&l.stopPropagation()}else xa(e,t,l,null,i)}}var gi=null;function na(e,t,i,l){if(gi=null,e=qo(l),e=Mr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(i=t.tag,i===13){if(e=zu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gi=e,null}function sc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case Qo:return 1;case Yu:return 4;case li:case Am:return 16;case Ku:return 536870912;default:return 16}default:return 16}}var dr=null,sa=null,vi=null;function ic(){if(vi)return vi;var e,t=sa,i=t.length,l,c="value"in dr?dr.value:dr.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(l=1;l<=g&&t[i-l]===c[f-l];l++);return vi=c.slice(e,1<l?1-l:void 0)}function yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function oc(){return!1}function vt(e){function t(i,l,c,f,g){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:oc,this.isPropagationStopped=oc,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=vt(hn),ds=B({},hn,{view:0,detail:0}),Ym=vt(ds),oa,aa,fs,xi=B({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fs&&(fs&&e.type==="mousemove"?(oa=e.screenX-fs.screenX,aa=e.screenY-fs.screenY):aa=oa=0,fs=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),ac=vt(xi),Km=B({},xi,{dataTransfer:0}),Gm=vt(Km),Qm=B({},ds,{relatedTarget:0}),la=vt(Qm),Jm=B({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xm=vt(Jm),Zm=B({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ep=vt(Zm),tp=B({},hn,{data:0}),lc=vt(tp),rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ip(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sp[e])?!!t[e]:!1}function ua(){return ip}var op=B({},ds,{key:function(e){if(e.key){var t=rp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(e){return e.type==="keypress"?yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ap=vt(op),lp=B({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=vt(lp),up=B({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),cp=vt(up),dp=B({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fp=vt(dp),hp=B({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mp=vt(hp),pp=[9,13,27,32],ca=m&&"CompositionEvent"in window,hs=null;m&&"documentMode"in document&&(hs=document.documentMode);var gp=m&&"TextEvent"in window&&!hs,cc=m&&(!ca||hs&&8<hs&&11>=hs),dc=" ",fc=!1;function hc(e,t){switch(e){case"keyup":return pp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function vp(e,t){switch(e){case"compositionend":return mc(t);case"keypress":return t.which!==32?null:(fc=!0,dc);case"textInput":return e=t.data,e===dc&&fc?null:e;default:return null}}function yp(e,t){if(mn)return e==="compositionend"||!ca&&hc(e,t)?(e=ic(),vi=sa=dr=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cc&&t.locale!=="ko"?null:t.data;default:return null}}var wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wp[e.type]:t==="textarea"}function gc(e,t,i,l){$u(l),t=ji(t,"onChange"),0<t.length&&(i=new ia("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var ms=null,ps=null;function xp(e){Ac(e,0)}function _i(e){var t=wn(e);if(bt(t))return e}function _p(e,t){if(e==="change")return t}var vc=!1;if(m){var da;if(m){var fa="oninput"in document;if(!fa){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),fa=typeof yc.oninput=="function"}da=fa}else da=!1;vc=da&&(!document.documentMode||9<document.documentMode)}function wc(){ms&&(ms.detachEvent("onpropertychange",xc),ps=ms=null)}function xc(e){if(e.propertyName==="value"&&_i(ps)){var t=[];gc(t,ps,e,qo(e)),Uu(xp,t)}}function Sp(e,t,i){e==="focusin"?(wc(),ms=t,ps=i,ms.attachEvent("onpropertychange",xc)):e==="focusout"&&wc()}function bp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _i(ps)}function kp(e,t){if(e==="click")return _i(t)}function jp(e,t){if(e==="input"||e==="change")return _i(t)}function Ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:Ep;function gs(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!p.call(t,c)||!Ot(e[c],t[c]))return!1}return!0}function _c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var i=_c(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=_c(i)}}function bc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kc(){for(var e=window,t=Ge();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ge(e.document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Np(e){var t=kc(),i=e.focusedElem,l=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&bc(i.ownerDocument.documentElement,i)){if(l!==null&&ha(i)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!e.extend&&f>l&&(c=l,l=f,f=c),c=Sc(i,f);var g=Sc(i,l);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>l?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cp=m&&"documentMode"in document&&11>=document.documentMode,pn=null,ma=null,vs=null,pa=!1;function jc(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;pa||pn==null||pn!==Ge(l)||(l=pn,"selectionStart"in l&&ha(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vs&&gs(vs,l)||(vs=l,l=ji(ma,"onSelect"),0<l.length&&(t=new ia("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=pn)))}function Si(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var gn={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionend:Si("Transition","TransitionEnd")},ga={},Ec={};m&&(Ec=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function bi(e){if(ga[e])return ga[e];if(!gn[e])return e;var t=gn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ec)return ga[e]=t[i];return e}var Nc=bi("animationend"),Cc=bi("animationiteration"),Pc=bi("animationstart"),Tc=bi("transitionend"),Oc=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(e,t){Oc.set(e,t),u(t,[e])}for(var va=0;va<Rc.length;va++){var ya=Rc[va],Pp=ya.toLowerCase(),Tp=ya[0].toUpperCase()+ya.slice(1);fr(Pp,"on"+Tp)}fr(Nc,"onAnimationEnd"),fr(Cc,"onAnimationIteration"),fr(Pc,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(Tc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Op=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function Dc(e,t,i){var l=e.type||"unknown-event";e.currentTarget=i,Pm(l,t,void 0,e),e.currentTarget=null}function Ac(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var g=l.length-1;0<=g;g--){var x=l[g],b=x.instance,R=x.currentTarget;if(x=x.listener,b!==f&&c.isPropagationStopped())break e;Dc(c,x,R),f=b}else for(g=0;g<l.length;g++){if(x=l[g],b=x.instance,R=x.currentTarget,x=x.listener,b!==f&&c.isPropagationStopped())break e;Dc(c,x,R),f=b}}}if(ai)throw e=Go,ai=!1,Go=null,e}function Pe(e,t){var i=t[Ea];i===void 0&&(i=t[Ea]=new Set);var l=e+"__bubble";i.has(l)||(Lc(t,e,2,!1),i.add(l))}function wa(e,t,i){var l=0;t&&(l|=4),Lc(i,e,l,t)}var ki="_reactListening"+Math.random().toString(36).slice(2);function ws(e){if(!e[ki]){e[ki]=!0,o.forEach(function(i){i!=="selectionchange"&&(Op.has(i)||wa(i,!1,e),wa(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ki]||(t[ki]=!0,wa("selectionchange",!1,t))}}function Lc(e,t,i,l){switch(sc(t)){case 1:var c=qm;break;case 4:c=Vm;break;default:c=ra}i=c.bind(null,t,i,e),c=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function xa(e,t,i,l,c){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var x=l.stateNode.containerInfo;if(x===c||x.nodeType===8&&x.parentNode===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;x!==null;){if(g=Mr(x),g===null)return;if(b=g.tag,b===5||b===6){l=f=g;continue e}x=x.parentNode}}l=l.return}Uu(function(){var R=f,F=qo(i),U=[];e:{var M=Oc.get(e);if(M!==void 0){var G=ia,X=e;switch(e){case"keypress":if(yi(i)===0)break e;case"keydown":case"keyup":G=ap;break;case"focusin":X="focus",G=la;break;case"focusout":X="blur",G=la;break;case"beforeblur":case"afterblur":G=la;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=cp;break;case Nc:case Cc:case Pc:G=Xm;break;case Tc:G=fp;break;case"scroll":G=Ym;break;case"wheel":G=mp;break;case"copy":case"cut":case"paste":G=ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=uc}var te=(t&4)!==0,Me=!te&&e==="scroll",P=te?M!==null?M+"Capture":null:M;te=[];for(var k=R,O;k!==null;){O=k;var W=O.stateNode;if(O.tag===5&&W!==null&&(O=W,P!==null&&(W=ts(k,P),W!=null&&te.push(xs(k,W,O)))),Me)break;k=k.return}0<te.length&&(M=new G(M,X,null,i,F),U.push({event:M,listeners:te}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",M&&i!==Ho&&(X=i.relatedTarget||i.fromElement)&&(Mr(X)||X[Yt]))break e;if((G||M)&&(M=F.window===F?F:(M=F.ownerDocument)?M.defaultView||M.parentWindow:window,G?(X=i.relatedTarget||i.toElement,G=R,X=X?Mr(X):null,X!==null&&(Me=Ir(X),X!==Me||X.tag!==5&&X.tag!==6)&&(X=null)):(G=null,X=R),G!==X)){if(te=ac,W="onMouseLeave",P="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(te=uc,W="onPointerLeave",P="onPointerEnter",k="pointer"),Me=G==null?M:wn(G),O=X==null?M:wn(X),M=new te(W,k+"leave",G,i,F),M.target=Me,M.relatedTarget=O,W=null,Mr(F)===R&&(te=new te(P,k+"enter",X,i,F),te.target=O,te.relatedTarget=Me,W=te),Me=W,G&&X)t:{for(te=G,P=X,k=0,O=te;O;O=vn(O))k++;for(O=0,W=P;W;W=vn(W))O++;for(;0<k-O;)te=vn(te),k--;for(;0<O-k;)P=vn(P),O--;for(;k--;){if(te===P||P!==null&&te===P.alternate)break t;te=vn(te),P=vn(P)}te=null}else te=null;G!==null&&$c(U,M,G,te,!1),X!==null&&Me!==null&&$c(U,Me,X,te,!0)}}e:{if(M=R?wn(R):window,G=M.nodeName&&M.nodeName.toLowerCase(),G==="select"||G==="input"&&M.type==="file")var re=_p;else if(pc(M))if(vc)re=jp;else{re=bp;var oe=Sp}else(G=M.nodeName)&&G.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(re=kp);if(re&&(re=re(e,R))){gc(U,re,i,F);break e}oe&&oe(e,M,R),e==="focusout"&&(oe=M._wrapperState)&&oe.controlled&&M.type==="number"&&Fo(M,"number",M.value)}switch(oe=R?wn(R):window,e){case"focusin":(pc(oe)||oe.contentEditable==="true")&&(pn=oe,ma=R,vs=null);break;case"focusout":vs=ma=pn=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,jc(U,i,F);break;case"selectionchange":if(Cp)break;case"keydown":case"keyup":jc(U,i,F)}var ae;if(ca)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else mn?hc(e,i)&&(fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(cc&&i.locale!=="ko"&&(mn||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&mn&&(ae=ic()):(dr=F,sa="value"in dr?dr.value:dr.textContent,mn=!0)),oe=ji(R,fe),0<oe.length&&(fe=new lc(fe,e,null,i,F),U.push({event:fe,listeners:oe}),ae?fe.data=ae:(ae=mc(i),ae!==null&&(fe.data=ae)))),(ae=gp?vp(e,i):yp(e,i))&&(R=ji(R,"onBeforeInput"),0<R.length&&(F=new lc("onBeforeInput","beforeinput",null,i,F),U.push({event:F,listeners:R}),F.data=ae))}Ac(U,t)})}function xs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ji(e,t){for(var i=t+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=ts(e,i),f!=null&&l.unshift(xs(e,f,c)),f=ts(e,t),f!=null&&l.push(xs(e,f,c))),e=e.return}return l}function vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $c(e,t,i,l,c){for(var f=t._reactName,g=[];i!==null&&i!==l;){var x=i,b=x.alternate,R=x.stateNode;if(b!==null&&b===l)break;x.tag===5&&R!==null&&(x=R,c?(b=ts(i,f),b!=null&&g.unshift(xs(i,b,x))):c||(b=ts(i,f),b!=null&&g.push(xs(i,b,x)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Rp=/\r\n?/g,Dp=/\u0000|\uFFFD/g;function Ic(e){return(typeof e=="string"?e:""+e).replace(Rp,`
`).replace(Dp,"")}function Ei(e,t,i){if(t=Ic(t),Ic(e)!==t&&i)throw Error(n(425))}function Ni(){}var _a=null,Sa=null;function ba(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,Mc=typeof Promise=="function"?Promise:void 0,Lp=typeof queueMicrotask=="function"?queueMicrotask:typeof Mc<"u"?function(e){return Mc.resolve(null).then(e).catch($p)}:ka;function $p(e){setTimeout(function(){throw e})}function ja(e,t){var i=t,l=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(l===0){e.removeChild(c),cs(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=c}while(i);cs(t)}function hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var yn=Math.random().toString(36).slice(2),Ft="__reactFiber$"+yn,_s="__reactProps$"+yn,Yt="__reactContainer$"+yn,Ea="__reactEvents$"+yn,Ip="__reactListeners$"+yn,Mp="__reactHandles$"+yn;function Mr(e){var t=e[Ft];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Yt]||i[Ft]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Fc(e);e!==null;){if(i=e[Ft])return i;e=Fc(e)}return t}e=i,i=e.parentNode}return null}function Ss(e){return e=e[Ft]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Ci(e){return e[_s]||null}var Na=[],xn=-1;function mr(e){return{current:e}}function Te(e){0>xn||(e.current=Na[xn],Na[xn]=null,xn--)}function Ne(e,t){xn++,Na[xn]=e.current,e.current=t}var pr={},et=mr(pr),ct=mr(!1),Fr=pr;function _n(e,t){var i=e.type.contextTypes;if(!i)return pr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function dt(e){return e=e.childContextTypes,e!=null}function Pi(){Te(ct),Te(et)}function Uc(e,t,i){if(et.current!==pr)throw Error(n(168));Ne(et,t),Ne(ct,i)}function zc(e,t,i){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var c in l)if(!(c in t))throw Error(n(108,ie(e)||"Unknown",c));return B({},i,l)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Fr=et.current,Ne(et,e),Ne(ct,ct.current),!0}function Bc(e,t,i){var l=e.stateNode;if(!l)throw Error(n(169));i?(e=zc(e,t,Fr),l.__reactInternalMemoizedMergedChildContext=e,Te(ct),Te(et),Ne(et,e)):Te(ct),Ne(ct,i)}var Kt=null,Oi=!1,Ca=!1;function Wc(e){Kt===null?Kt=[e]:Kt.push(e)}function Fp(e){Oi=!0,Wc(e)}function gr(){if(!Ca&&Kt!==null){Ca=!0;var e=0,t=_e;try{var i=Kt;for(_e=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Kt=null,Oi=!1}catch(c){throw Kt!==null&&(Kt=Kt.slice(e+1)),qu(Qo,gr),c}finally{_e=t,Ca=!1}}return null}var Sn=[],bn=0,Ri=null,Di=0,kt=[],jt=0,Ur=null,Gt=1,Qt="";function zr(e,t){Sn[bn++]=Di,Sn[bn++]=Ri,Ri=e,Di=t}function Hc(e,t,i){kt[jt++]=Gt,kt[jt++]=Qt,kt[jt++]=Ur,Ur=e;var l=Gt;e=Qt;var c=32-Tt(l)-1;l&=~(1<<c),i+=1;var f=32-Tt(t)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Gt=1<<32-Tt(t)+c|i<<c|l,Qt=f+e}else Gt=1<<f|i<<c|l,Qt=e}function Pa(e){e.return!==null&&(zr(e,1),Hc(e,1,0))}function Ta(e){for(;e===Ri;)Ri=Sn[--bn],Sn[bn]=null,Di=Sn[--bn],Sn[bn]=null;for(;e===Ur;)Ur=kt[--jt],kt[jt]=null,Qt=kt[--jt],kt[jt]=null,Gt=kt[--jt],kt[jt]=null}var yt=null,wt=null,Re=!1,Rt=null;function qc(e,t){var i=Pt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Vc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,wt=hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Ur!==null?{id:Gt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Pt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,yt=e,wt=null,!0):!1;default:return!1}}function Oa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ra(e){if(Re){var t=wt;if(t){var i=t;if(!Vc(e,t)){if(Oa(e))throw Error(n(418));t=hr(i.nextSibling);var l=yt;t&&Vc(e,t)?qc(l,i):(e.flags=e.flags&-4097|2,Re=!1,yt=e)}}else{if(Oa(e))throw Error(n(418));e.flags=e.flags&-4097|2,Re=!1,yt=e}}}function Yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Ai(e){if(e!==yt)return!1;if(!Re)return Yc(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ba(e.type,e.memoizedProps)),t&&(t=wt)){if(Oa(e))throw Kc(),Error(n(418));for(;t;)qc(e,t),t=hr(t.nextSibling)}if(Yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){wt=hr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=yt?hr(e.stateNode.nextSibling):null;return!0}function Kc(){for(var e=wt;e;)e=hr(e.nextSibling)}function kn(){wt=yt=null,Re=!1}function Da(e){Rt===null?Rt=[e]:Rt.push(e)}var Up=J.ReactCurrentBatchConfig;function bs(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var l=i.stateNode}if(!l)throw Error(n(147,e));var c=l,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var x=c.refs;g===null?delete x[f]:x[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gc(e){var t=e._init;return t(e._payload)}function Qc(e){function t(P,k){if(e){var O=P.deletions;O===null?(P.deletions=[k],P.flags|=16):O.push(k)}}function i(P,k){if(!e)return null;for(;k!==null;)t(P,k),k=k.sibling;return null}function l(P,k){for(P=new Map;k!==null;)k.key!==null?P.set(k.key,k):P.set(k.index,k),k=k.sibling;return P}function c(P,k){return P=kr(P,k),P.index=0,P.sibling=null,P}function f(P,k,O){return P.index=O,e?(O=P.alternate,O!==null?(O=O.index,O<k?(P.flags|=2,k):O):(P.flags|=2,k)):(P.flags|=1048576,k)}function g(P){return e&&P.alternate===null&&(P.flags|=2),P}function x(P,k,O,W){return k===null||k.tag!==6?(k=kl(O,P.mode,W),k.return=P,k):(k=c(k,O),k.return=P,k)}function b(P,k,O,W){var re=O.type;return re===ye?F(P,k,O.props.children,W,O.key):k!==null&&(k.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===K&&Gc(re)===k.type)?(W=c(k,O.props),W.ref=bs(P,k,O),W.return=P,W):(W=io(O.type,O.key,O.props,null,P.mode,W),W.ref=bs(P,k,O),W.return=P,W)}function R(P,k,O,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==O.containerInfo||k.stateNode.implementation!==O.implementation?(k=jl(O,P.mode,W),k.return=P,k):(k=c(k,O.children||[]),k.return=P,k)}function F(P,k,O,W,re){return k===null||k.tag!==7?(k=Gr(O,P.mode,W,re),k.return=P,k):(k=c(k,O),k.return=P,k)}function U(P,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return k=kl(""+k,P.mode,O),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case se:return O=io(k.type,k.key,k.props,null,P.mode,O),O.ref=bs(P,null,k),O.return=P,O;case ve:return k=jl(k,P.mode,O),k.return=P,k;case K:var W=k._init;return U(P,W(k._payload),O)}if(Xn(k)||Y(k))return k=Gr(k,P.mode,O,null),k.return=P,k;Li(P,k)}return null}function M(P,k,O,W){var re=k!==null?k.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return re!==null?null:x(P,k,""+O,W);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case se:return O.key===re?b(P,k,O,W):null;case ve:return O.key===re?R(P,k,O,W):null;case K:return re=O._init,M(P,k,re(O._payload),W)}if(Xn(O)||Y(O))return re!==null?null:F(P,k,O,W,null);Li(P,O)}return null}function G(P,k,O,W,re){if(typeof W=="string"&&W!==""||typeof W=="number")return P=P.get(O)||null,x(k,P,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case se:return P=P.get(W.key===null?O:W.key)||null,b(k,P,W,re);case ve:return P=P.get(W.key===null?O:W.key)||null,R(k,P,W,re);case K:var oe=W._init;return G(P,k,O,oe(W._payload),re)}if(Xn(W)||Y(W))return P=P.get(O)||null,F(k,P,W,re,null);Li(k,W)}return null}function X(P,k,O,W){for(var re=null,oe=null,ae=k,fe=k=0,Ve=null;ae!==null&&fe<O.length;fe++){ae.index>fe?(Ve=ae,ae=null):Ve=ae.sibling;var xe=M(P,ae,O[fe],W);if(xe===null){ae===null&&(ae=Ve);break}e&&ae&&xe.alternate===null&&t(P,ae),k=f(xe,k,fe),oe===null?re=xe:oe.sibling=xe,oe=xe,ae=Ve}if(fe===O.length)return i(P,ae),Re&&zr(P,fe),re;if(ae===null){for(;fe<O.length;fe++)ae=U(P,O[fe],W),ae!==null&&(k=f(ae,k,fe),oe===null?re=ae:oe.sibling=ae,oe=ae);return Re&&zr(P,fe),re}for(ae=l(P,ae);fe<O.length;fe++)Ve=G(ae,P,fe,O[fe],W),Ve!==null&&(e&&Ve.alternate!==null&&ae.delete(Ve.key===null?fe:Ve.key),k=f(Ve,k,fe),oe===null?re=Ve:oe.sibling=Ve,oe=Ve);return e&&ae.forEach(function(jr){return t(P,jr)}),Re&&zr(P,fe),re}function te(P,k,O,W){var re=Y(O);if(typeof re!="function")throw Error(n(150));if(O=re.call(O),O==null)throw Error(n(151));for(var oe=re=null,ae=k,fe=k=0,Ve=null,xe=O.next();ae!==null&&!xe.done;fe++,xe=O.next()){ae.index>fe?(Ve=ae,ae=null):Ve=ae.sibling;var jr=M(P,ae,xe.value,W);if(jr===null){ae===null&&(ae=Ve);break}e&&ae&&jr.alternate===null&&t(P,ae),k=f(jr,k,fe),oe===null?re=jr:oe.sibling=jr,oe=jr,ae=Ve}if(xe.done)return i(P,ae),Re&&zr(P,fe),re;if(ae===null){for(;!xe.done;fe++,xe=O.next())xe=U(P,xe.value,W),xe!==null&&(k=f(xe,k,fe),oe===null?re=xe:oe.sibling=xe,oe=xe);return Re&&zr(P,fe),re}for(ae=l(P,ae);!xe.done;fe++,xe=O.next())xe=G(ae,P,fe,xe.value,W),xe!==null&&(e&&xe.alternate!==null&&ae.delete(xe.key===null?fe:xe.key),k=f(xe,k,fe),oe===null?re=xe:oe.sibling=xe,oe=xe);return e&&ae.forEach(function(wg){return t(P,wg)}),Re&&zr(P,fe),re}function Me(P,k,O,W){if(typeof O=="object"&&O!==null&&O.type===ye&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case se:e:{for(var re=O.key,oe=k;oe!==null;){if(oe.key===re){if(re=O.type,re===ye){if(oe.tag===7){i(P,oe.sibling),k=c(oe,O.props.children),k.return=P,P=k;break e}}else if(oe.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===K&&Gc(re)===oe.type){i(P,oe.sibling),k=c(oe,O.props),k.ref=bs(P,oe,O),k.return=P,P=k;break e}i(P,oe);break}else t(P,oe);oe=oe.sibling}O.type===ye?(k=Gr(O.props.children,P.mode,W,O.key),k.return=P,P=k):(W=io(O.type,O.key,O.props,null,P.mode,W),W.ref=bs(P,k,O),W.return=P,P=W)}return g(P);case ve:e:{for(oe=O.key;k!==null;){if(k.key===oe)if(k.tag===4&&k.stateNode.containerInfo===O.containerInfo&&k.stateNode.implementation===O.implementation){i(P,k.sibling),k=c(k,O.children||[]),k.return=P,P=k;break e}else{i(P,k);break}else t(P,k);k=k.sibling}k=jl(O,P.mode,W),k.return=P,P=k}return g(P);case K:return oe=O._init,Me(P,k,oe(O._payload),W)}if(Xn(O))return X(P,k,O,W);if(Y(O))return te(P,k,O,W);Li(P,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,k!==null&&k.tag===6?(i(P,k.sibling),k=c(k,O),k.return=P,P=k):(i(P,k),k=kl(O,P.mode,W),k.return=P,P=k),g(P)):i(P,k)}return Me}var jn=Qc(!0),Jc=Qc(!1),$i=mr(null),Ii=null,En=null,Aa=null;function La(){Aa=En=Ii=null}function $a(e){var t=$i.current;Te($i),e._currentValue=t}function Ia(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function Nn(e,t){Ii=e,Aa=En=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ft=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},En===null){if(Ii===null)throw Error(n(308));En=e,Ii.dependencies={lanes:0,firstContext:e}}else En=En.next=e;return t}var Br=null;function Ma(e){Br===null?Br=[e]:Br.push(e)}function Xc(e,t,i,l){var c=t.interleaved;return c===null?(i.next=i,Ma(t)):(i.next=c.next,c.next=i),t.interleaved=i,Jt(e,l)}function Jt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var vr=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,Jt(e,i)}return c=l.interleaved,c===null?(t.next=t,Ma(l)):(t.next=c.next,c.next=t),l.interleaved=t,Jt(e,i)}function Mi(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Zo(e,i)}}function ed(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Fi(e,t,i,l){var c=e.updateQueue;vr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var b=x,R=b.next;b.next=null,g===null?f=R:g.next=R,g=b;var F=e.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==g&&(x===null?F.firstBaseUpdate=R:x.next=R,F.lastBaseUpdate=b))}if(f!==null){var U=c.baseState;g=0,F=R=b=null,x=f;do{var M=x.lane,G=x.eventTime;if((l&M)===M){F!==null&&(F=F.next={eventTime:G,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var X=e,te=x;switch(M=t,G=i,te.tag){case 1:if(X=te.payload,typeof X=="function"){U=X.call(G,U,M);break e}U=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=te.payload,M=typeof X=="function"?X.call(G,U,M):X,M==null)break e;U=B({},U,M);break e;case 2:vr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,M=c.effects,M===null?c.effects=[x]:M.push(x))}else G={eventTime:G,lane:M,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(R=F=G,b=U):F=F.next=G,g|=M;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;M=x,x=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);if(F===null&&(b=U),c.baseState=b,c.firstBaseUpdate=R,c.lastBaseUpdate=F,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);qr|=g,e.lanes=g,e.memoizedState=U}}function td(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],c=l.callback;if(c!==null){if(l.callback=null,l=i,typeof c!="function")throw Error(n(191,c));c.call(l)}}}var ks={},Ut=mr(ks),js=mr(ks),Es=mr(ks);function Wr(e){if(e===ks)throw Error(n(174));return e}function Ua(e,t){switch(Ne(Es,t),Ne(js,e),Ne(Ut,ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zo(t,e)}Te(Ut),Ne(Ut,t)}function Cn(){Te(Ut),Te(js),Te(Es)}function rd(e){Wr(Es.current);var t=Wr(Ut.current),i=zo(t,e.type);t!==i&&(Ne(js,e),Ne(Ut,i))}function za(e){js.current===e&&(Te(Ut),Te(js))}var De=mr(0);function Ui(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=[];function Wa(){for(var e=0;e<Ba.length;e++)Ba[e]._workInProgressVersionPrimary=null;Ba.length=0}var zi=J.ReactCurrentDispatcher,Ha=J.ReactCurrentBatchConfig,Hr=0,Ae=null,Be=null,He=null,Bi=!1,Ns=!1,Cs=0,zp=0;function tt(){throw Error(n(321))}function qa(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ot(e[i],t[i]))return!1;return!0}function Va(e,t,i,l,c,f){if(Hr=f,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zi.current=e===null||e.memoizedState===null?qp:Vp,e=i(l,c),Ns){f=0;do{if(Ns=!1,Cs=0,25<=f)throw Error(n(301));f+=1,He=Be=null,t.updateQueue=null,zi.current=Yp,e=i(l,c)}while(Ns)}if(zi.current=qi,t=Be!==null&&Be.next!==null,Hr=0,He=Be=Ae=null,Bi=!1,t)throw Error(n(300));return e}function Ya(){var e=Cs!==0;return Cs=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ae.memoizedState=He=e:He=He.next=e,He}function Nt(){if(Be===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=He===null?Ae.memoizedState:He.next;if(t!==null)He=t,Be=e;else{if(e===null)throw Error(n(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},He===null?Ae.memoizedState=He=e:He=He.next=e}return He}function Ps(e,t){return typeof t=="function"?t(e):t}function Ka(e){var t=Nt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=Be,c=l.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}l.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,l=l.baseState;var x=g=null,b=null,R=f;do{var F=R.lane;if((Hr&F)===F)b!==null&&(b=b.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),l=R.hasEagerState?R.eagerState:e(l,R.action);else{var U={lane:F,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};b===null?(x=b=U,g=l):b=b.next=U,Ae.lanes|=F,qr|=F}R=R.next}while(R!==null&&R!==f);b===null?g=l:b.next=x,Ot(l,t.memoizedState)||(ft=!0),t.memoizedState=l,t.baseState=g,t.baseQueue=b,i.lastRenderedState=l}if(e=i.interleaved,e!==null){c=e;do f=c.lane,Ae.lanes|=f,qr|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ga(e){var t=Nt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Ot(f,t.memoizedState)||(ft=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,l]}function nd(){}function sd(e,t){var i=Ae,l=Nt(),c=t(),f=!Ot(l.memoizedState,c);if(f&&(l.memoizedState=c,ft=!0),l=l.queue,Qa(ad.bind(null,i,l,e),[e]),l.getSnapshot!==t||f||He!==null&&He.memoizedState.tag&1){if(i.flags|=2048,Ts(9,od.bind(null,i,l,c,t),void 0,null),qe===null)throw Error(n(349));(Hr&30)!==0||id(i,t,c)}return c}function id(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function od(e,t,i,l){t.value=i,t.getSnapshot=l,ld(t)&&ud(e)}function ad(e,t,i){return i(function(){ld(t)&&ud(e)})}function ld(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ot(e,i)}catch{return!0}}function ud(e){var t=Jt(e,1);t!==null&&$t(t,e,1,-1)}function cd(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:e},t.queue=e,e=e.dispatch=Hp.bind(null,Ae,e),[t.memoizedState,e]}function Ts(e,t,i,l){return e={tag:e,create:t,destroy:i,deps:l,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e)),e}function dd(){return Nt().memoizedState}function Wi(e,t,i,l){var c=zt();Ae.flags|=e,c.memoizedState=Ts(1|t,i,void 0,l===void 0?null:l)}function Hi(e,t,i,l){var c=Nt();l=l===void 0?null:l;var f=void 0;if(Be!==null){var g=Be.memoizedState;if(f=g.destroy,l!==null&&qa(l,g.deps)){c.memoizedState=Ts(t,i,f,l);return}}Ae.flags|=e,c.memoizedState=Ts(1|t,i,f,l)}function fd(e,t){return Wi(8390656,8,e,t)}function Qa(e,t){return Hi(2048,8,e,t)}function hd(e,t){return Hi(4,2,e,t)}function md(e,t){return Hi(4,4,e,t)}function pd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gd(e,t,i){return i=i!=null?i.concat([e]):null,Hi(4,4,pd.bind(null,t,e),i)}function Ja(){}function vd(e,t){var i=Nt();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&qa(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function yd(e,t){var i=Nt();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&qa(t,l[1])?l[0]:(e=e(),i.memoizedState=[e,t],e)}function wd(e,t,i){return(Hr&21)===0?(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=i):(Ot(i,t)||(i=Gu(),Ae.lanes|=i,qr|=i,e.baseState=!0),t)}function Bp(e,t){var i=_e;_e=i!==0&&4>i?i:4,e(!0);var l=Ha.transition;Ha.transition={};try{e(!1),t()}finally{_e=i,Ha.transition=l}}function xd(){return Nt().memoizedState}function Wp(e,t,i){var l=Sr(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},_d(e))Sd(t,i);else if(i=Xc(e,t,i,l),i!==null){var c=lt();$t(i,e,l,c),bd(i,t,l)}}function Hp(e,t,i){var l=Sr(e),c={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(_d(e))Sd(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,i);if(c.hasEagerState=!0,c.eagerState=x,Ot(x,g)){var b=t.interleaved;b===null?(c.next=c,Ma(t)):(c.next=b.next,b.next=c),t.interleaved=c;return}}catch{}finally{}i=Xc(e,t,c,l),i!==null&&(c=lt(),$t(i,e,l,c),bd(i,t,l))}}function _d(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Sd(e,t){Ns=Bi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function bd(e,t,i){if((i&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Zo(e,i)}}var qi={readContext:Et,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},qp={readContext:Et,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:fd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Wi(4194308,4,pd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wi(4,2,e,t)},useMemo:function(e,t){var i=zt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var l=zt();return t=i!==void 0?i(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Wp.bind(null,Ae,e),[l.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:cd,useDebugValue:Ja,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=cd(!1),t=e[0];return e=Bp.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var l=Ae,c=zt();if(Re){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),qe===null)throw Error(n(349));(Hr&30)!==0||id(l,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,fd(ad.bind(null,l,f,e),[e]),l.flags|=2048,Ts(9,od.bind(null,l,f,i,t),void 0,null),i},useId:function(){var e=zt(),t=qe.identifierPrefix;if(Re){var i=Qt,l=Gt;i=(l&~(1<<32-Tt(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=Cs++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=zp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vp={readContext:Et,useCallback:vd,useContext:Et,useEffect:Qa,useImperativeHandle:gd,useInsertionEffect:hd,useLayoutEffect:md,useMemo:yd,useReducer:Ka,useRef:dd,useState:function(){return Ka(Ps)},useDebugValue:Ja,useDeferredValue:function(e){var t=Nt();return wd(t,Be.memoizedState,e)},useTransition:function(){var e=Ka(Ps)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:nd,useSyncExternalStore:sd,useId:xd,unstable_isNewReconciler:!1},Yp={readContext:Et,useCallback:vd,useContext:Et,useEffect:Qa,useImperativeHandle:gd,useInsertionEffect:hd,useLayoutEffect:md,useMemo:yd,useReducer:Ga,useRef:dd,useState:function(){return Ga(Ps)},useDebugValue:Ja,useDeferredValue:function(e){var t=Nt();return Be===null?t.memoizedState=e:wd(t,Be.memoizedState,e)},useTransition:function(){var e=Ga(Ps)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:nd,useSyncExternalStore:sd,useId:xd,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=B({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Xa(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:B({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Vi={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=lt(),c=Sr(e),f=Xt(l,c);f.payload=t,i!=null&&(f.callback=i),t=yr(e,f,c),t!==null&&($t(t,e,c,l),Mi(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=lt(),c=Sr(e),f=Xt(l,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=yr(e,f,c),t!==null&&($t(t,e,c,l),Mi(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=lt(),l=Sr(e),c=Xt(i,l);c.tag=2,t!=null&&(c.callback=t),t=yr(e,c,l),t!==null&&($t(t,e,l,i),Mi(t,e,l))}};function kd(e,t,i,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):t.prototype&&t.prototype.isPureReactComponent?!gs(i,l)||!gs(c,f):!0}function jd(e,t,i){var l=!1,c=pr,f=t.contextType;return typeof f=="object"&&f!==null?f=Et(f):(c=dt(t)?Fr:et.current,l=t.contextTypes,f=(l=l!=null)?_n(e,c):pr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function Ed(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function Za(e,t,i,l){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},Fa(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=Et(f):(f=dt(t)?Fr:et.current,c.context=_n(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Xa(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Vi.enqueueReplaceState(c,c.state,null),Fi(e,i,c,l),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Pn(e,t){try{var i="",l=t;do i+=ee(l),l=l.return;while(l);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function el(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function tl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Kp=typeof WeakMap=="function"?WeakMap:Map;function Nd(e,t,i){i=Xt(-1,i),i.tag=3,i.payload={element:null};var l=t.value;return i.callback=function(){Zi||(Zi=!0,gl=l),tl(e,t)},i}function Cd(e,t,i){i=Xt(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var c=t.value;i.payload=function(){return l(c)},i.callback=function(){tl(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){tl(e,t),typeof l!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function Pd(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Kp;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(i)||(c.add(i),e=lg.bind(null,e,t,i),t.then(e,e))}function Td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Od(e,t,i,l,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Xt(-1,1),t.tag=2,yr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Gp=J.ReactCurrentOwner,ft=!1;function at(e,t,i,l){t.child=e===null?Jc(t,null,i,l):jn(t,e.child,i,l)}function Rd(e,t,i,l,c){i=i.render;var f=t.ref;return Nn(t,c),l=Va(e,t,i,l,f,c),i=Ya(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Zt(e,t,c)):(Re&&i&&Pa(t),t.flags|=1,at(e,t,l,c),t.child)}function Dd(e,t,i,l,c){if(e===null){var f=i.type;return typeof f=="function"&&!bl(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,Ad(e,t,f,l,c)):(e=io(i.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&c)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:gs,i(g,l)&&e.ref===t.ref)return Zt(e,t,c)}return t.flags|=1,e=kr(f,l),e.ref=t.ref,e.return=t,t.child=e}function Ad(e,t,i,l,c){if(e!==null){var f=e.memoizedProps;if(gs(f,l)&&e.ref===t.ref)if(ft=!1,t.pendingProps=l=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,Zt(e,t,c)}return rl(e,t,i,l,c)}function Ld(e,t,i){var l=t.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(On,xt),xt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(On,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,Ne(On,xt),xt|=l}else f!==null?(l=f.baseLanes|i,t.memoizedState=null):l=i,Ne(On,xt),xt|=l;return at(e,t,c,i),t.child}function $d(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function rl(e,t,i,l,c){var f=dt(i)?Fr:et.current;return f=_n(t,f),Nn(t,c),i=Va(e,t,i,l,f,c),l=Ya(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Zt(e,t,c)):(Re&&l&&Pa(t),t.flags|=1,at(e,t,i,c),t.child)}function Id(e,t,i,l,c){if(dt(i)){var f=!0;Ti(t)}else f=!1;if(Nn(t,c),t.stateNode===null)Ki(e,t),jd(t,i,l),Za(t,i,l,c),l=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var b=g.context,R=i.contextType;typeof R=="object"&&R!==null?R=Et(R):(R=dt(i)?Fr:et.current,R=_n(t,R));var F=i.getDerivedStateFromProps,U=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function";U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==l||b!==R)&&Ed(t,g,l,R),vr=!1;var M=t.memoizedState;g.state=M,Fi(t,l,g,c),b=t.memoizedState,x!==l||M!==b||ct.current||vr?(typeof F=="function"&&(Xa(t,i,F,l),b=t.memoizedState),(x=vr||kd(t,i,x,l,M,b,R))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=b),g.props=l,g.state=b,g.context=R,l=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{g=t.stateNode,Zc(e,t),x=t.memoizedProps,R=t.type===t.elementType?x:Dt(t.type,x),g.props=R,U=t.pendingProps,M=g.context,b=i.contextType,typeof b=="object"&&b!==null?b=Et(b):(b=dt(i)?Fr:et.current,b=_n(t,b));var G=i.getDerivedStateFromProps;(F=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==U||M!==b)&&Ed(t,g,l,b),vr=!1,M=t.memoizedState,g.state=M,Fi(t,l,g,c);var X=t.memoizedState;x!==U||M!==X||ct.current||vr?(typeof G=="function"&&(Xa(t,i,G,l),X=t.memoizedState),(R=vr||kd(t,i,R,l,M,X,b)||!1)?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,X,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,X,b)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=X),g.props=l,g.state=X,g.context=b,l=R):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),l=!1)}return nl(e,t,i,l,f,c)}function nl(e,t,i,l,c,f){$d(e,t);var g=(t.flags&128)!==0;if(!l&&!g)return c&&Bc(t,i,!1),Zt(e,t,f);l=t.stateNode,Gp.current=t;var x=g&&typeof i.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&g?(t.child=jn(t,e.child,null,f),t.child=jn(t,null,x,f)):at(e,t,x,f),t.memoizedState=l.state,c&&Bc(t,i,!0),t.child}function Md(e){var t=e.stateNode;t.pendingContext?Uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uc(e,t.context,!1),Ua(e,t.containerInfo)}function Fd(e,t,i,l,c){return kn(),Da(c),t.flags|=256,at(e,t,i,l),t.child}var sl={dehydrated:null,treeContext:null,retryLane:0};function il(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ud(e,t,i){var l=t.pendingProps,c=De.current,f=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(c&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ne(De,c&1),e===null)return Ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=l.children,e=l.fallback,f?(l=t.mode,f=t.child,g={mode:"hidden",children:g},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=oo(g,l,0,null),e=Gr(e,l,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=il(i),t.memoizedState=sl,e):ol(t,g));if(c=e.memoizedState,c!==null&&(x=c.dehydrated,x!==null))return Qp(e,t,g,l,x,c,i);if(f){f=l.fallback,g=t.mode,c=e.child,x=c.sibling;var b={mode:"hidden",children:l.children};return(g&1)===0&&t.child!==c?(l=t.child,l.childLanes=0,l.pendingProps=b,t.deletions=null):(l=kr(c,b),l.subtreeFlags=c.subtreeFlags&14680064),x!==null?f=kr(x,f):(f=Gr(f,g,i,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,l=f,f=t.child,g=e.child.memoizedState,g=g===null?il(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=sl,l}return f=e.child,e=f.sibling,l=kr(f,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=i),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l}function ol(e,t){return t=oo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yi(e,t,i,l){return l!==null&&Da(l),jn(t,e.child,null,i),e=ol(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qp(e,t,i,l,c,f,g){if(i)return t.flags&256?(t.flags&=-257,l=el(Error(n(422))),Yi(e,t,g,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=l.fallback,c=t.mode,l=oo({mode:"visible",children:l.children},c,0,null),f=Gr(f,c,g,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,(t.mode&1)!==0&&jn(t,e.child,null,g),t.child.memoizedState=il(g),t.memoizedState=sl,f);if((t.mode&1)===0)return Yi(e,t,g,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var x=l.dgst;return l=x,f=Error(n(419)),l=el(f,l,void 0),Yi(e,t,g,l)}if(x=(g&e.childLanes)!==0,ft||x){if(l=qe,l!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(l.suspendedLanes|g))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Jt(e,c),$t(l,e,c,-1))}return Sl(),l=el(Error(n(421))),Yi(e,t,g,l)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=ug.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,wt=hr(c.nextSibling),yt=t,Re=!0,Rt=null,e!==null&&(kt[jt++]=Gt,kt[jt++]=Qt,kt[jt++]=Ur,Gt=e.id,Qt=e.overflow,Ur=t),t=ol(t,l.children),t.flags|=4096,t)}function zd(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ia(e.return,t,i)}function al(e,t,i,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=c)}function Bd(e,t,i){var l=t.pendingProps,c=l.revealOrder,f=l.tail;if(at(e,t,l.children,i),l=De.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zd(e,i,t);else if(e.tag===19)zd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ne(De,l),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Ui(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),al(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ui(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}al(t,!0,i,null,f);break;case"together":al(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ki(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),qr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=kr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=kr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Jp(e,t,i){switch(t.tag){case 3:Md(t),kn();break;case 5:rd(t);break;case 1:dt(t.type)&&Ti(t);break;case 4:Ua(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,c=t.memoizedProps.value;Ne($i,l._currentValue),l._currentValue=c;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Ne(De,De.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Ud(e,t,i):(Ne(De,De.current&1),e=Zt(e,t,i),e!==null?e.sibling:null);Ne(De,De.current&1);break;case 19:if(l=(i&t.childLanes)!==0,(e.flags&128)!==0){if(l)return Bd(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ne(De,De.current),l)break;return null;case 22:case 23:return t.lanes=0,Ld(e,t,i)}return Zt(e,t,i)}var Wd,ll,Hd,qd;Wd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ll=function(){},Hd=function(e,t,i,l){var c=e.memoizedProps;if(c!==l){e=t.stateNode,Wr(Ut.current);var f=null;switch(i){case"input":c=or(e,c),l=or(e,l),f=[];break;case"select":c=B({},c,{value:void 0}),l=B({},l,{value:void 0}),f=[];break;case"textarea":c=Uo(e,c),l=Uo(e,l),f=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ni)}Bo(i,l);var g;i=null;for(R in c)if(!l.hasOwnProperty(R)&&c.hasOwnProperty(R)&&c[R]!=null)if(R==="style"){var x=c[R];for(g in x)x.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(a.hasOwnProperty(R)?f||(f=[]):(f=f||[]).push(R,null));for(R in l){var b=l[R];if(x=c!=null?c[R]:void 0,l.hasOwnProperty(R)&&b!==x&&(b!=null||x!=null))if(R==="style")if(x){for(g in x)!x.hasOwnProperty(g)||b&&b.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in b)b.hasOwnProperty(g)&&x[g]!==b[g]&&(i||(i={}),i[g]=b[g])}else i||(f||(f=[]),f.push(R,i)),i=b;else R==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,x=x?x.__html:void 0,b!=null&&x!==b&&(f=f||[]).push(R,b)):R==="children"?typeof b!="string"&&typeof b!="number"||(f=f||[]).push(R,""+b):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(a.hasOwnProperty(R)?(b!=null&&R==="onScroll"&&Pe("scroll",e),f||x===b||(f=[])):(f=f||[]).push(R,b))}i&&(f=f||[]).push("style",i);var R=f;(t.updateQueue=R)&&(t.flags|=4)}},qd=function(e,t,i,l){i!==l&&(t.flags|=4)};function Os(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function Xp(e,t,i){var l=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return dt(t.type)&&Pi(),rt(t),null;case 3:return l=t.stateNode,Cn(),Te(ct),Te(et),Wa(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rt!==null&&(wl(Rt),Rt=null))),ll(e,t),rt(t),null;case 5:za(t);var c=Wr(Es.current);if(i=t.type,e!==null&&t.stateNode!=null)Hd(e,t,i,l,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(n(166));return rt(t),null}if(e=Wr(Ut.current),Ai(t)){l=t.stateNode,i=t.type;var f=t.memoizedProps;switch(l[Ft]=t,l[_s]=f,e=(t.mode&1)!==0,i){case"dialog":Pe("cancel",l),Pe("close",l);break;case"iframe":case"object":case"embed":Pe("load",l);break;case"video":case"audio":for(c=0;c<ys.length;c++)Pe(ys[c],l);break;case"source":Pe("error",l);break;case"img":case"image":case"link":Pe("error",l),Pe("load",l);break;case"details":Pe("toggle",l);break;case"input":ju(l,f),Pe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},Pe("invalid",l);break;case"textarea":Cu(l,f),Pe("invalid",l)}Bo(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var x=f[g];g==="children"?typeof x=="string"?l.textContent!==x&&(f.suppressHydrationWarning!==!0&&Ei(l.textContent,x,e),c=["children",x]):typeof x=="number"&&l.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&Ei(l.textContent,x,e),c=["children",""+x]):a.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&Pe("scroll",l)}switch(i){case"input":je(l),Nu(l,f,!0);break;case"textarea":je(l),Tu(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ni)}l=c,t.updateQueue=l,l!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ou(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=g.createElement(i,{is:l.is}):(e=g.createElement(i),i==="select"&&(g=e,l.multiple?g.multiple=!0:l.size&&(g.size=l.size))):e=g.createElementNS(e,i),e[Ft]=t,e[_s]=l,Wd(e,t,!1,!1),t.stateNode=e;e:{switch(g=Wo(i,l),i){case"dialog":Pe("cancel",e),Pe("close",e),c=l;break;case"iframe":case"object":case"embed":Pe("load",e),c=l;break;case"video":case"audio":for(c=0;c<ys.length;c++)Pe(ys[c],e);c=l;break;case"source":Pe("error",e),c=l;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),c=l;break;case"details":Pe("toggle",e),c=l;break;case"input":ju(e,l),c=or(e,l),Pe("invalid",e);break;case"option":c=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},c=B({},l,{value:void 0}),Pe("invalid",e);break;case"textarea":Cu(e,l),c=Uo(e,l),Pe("invalid",e);break;default:c=l}Bo(i,c),x=c;for(f in x)if(x.hasOwnProperty(f)){var b=x[f];f==="style"?Au(e,b):f==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Ru(e,b)):f==="children"?typeof b=="string"?(i!=="textarea"||b!=="")&&Zn(e,b):typeof b=="number"&&Zn(e,""+b):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?b!=null&&f==="onScroll"&&Pe("scroll",e):b!=null&&z(e,f,b,g))}switch(i){case"input":je(e),Nu(e,l,!1);break;case"textarea":je(e),Tu(e);break;case"option":l.value!=null&&e.setAttribute("value",""+de(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?un(e,!!l.multiple,f,!1):l.defaultValue!=null&&un(e,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ni)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)qd(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(n(166));if(i=Wr(Es.current),Wr(Ut.current),Ai(t)){if(l=t.stateNode,i=t.memoizedProps,l[Ft]=t,(f=l.nodeValue!==i)&&(e=yt,e!==null))switch(e.tag){case 3:Ei(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ei(l.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[Ft]=t,t.stateNode=l}return rt(t),null;case 13:if(Te(De),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Kc(),kn(),t.flags|=98560,f=!1;else if(f=Ai(t),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Ft]=t}else kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),f=!1}else Rt!==null&&(wl(Rt),Rt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(De.current&1)!==0?We===0&&(We=3):Sl())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Cn(),ll(e,t),e===null&&ws(t.stateNode.containerInfo),rt(t),null;case 10:return $a(t.type._context),rt(t),null;case 17:return dt(t.type)&&Pi(),rt(t),null;case 19:if(Te(De),f=t.memoizedState,f===null)return rt(t),null;if(l=(t.flags&128)!==0,g=f.rendering,g===null)if(l)Os(f,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ui(e),g!==null){for(t.flags|=128,Os(f,!1),l=g.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=i,i=t.child;i!==null;)f=i,e=l,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ne(De,De.current&1|2),t.child}e=e.sibling}f.tail!==null&&Ie()>Rn&&(t.flags|=128,l=!0,Os(f,!1),t.lanes=4194304)}else{if(!l)if(e=Ui(g),e!==null){if(t.flags|=128,l=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Os(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Re)return rt(t),null}else 2*Ie()-f.renderingStartTime>Rn&&i!==1073741824&&(t.flags|=128,l=!0,Os(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Ie(),t.sibling=null,i=De.current,Ne(De,l?i&1|2:i&1),t):(rt(t),null);case 22:case 23:return _l(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(xt&1073741824)!==0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Zp(e,t){switch(Ta(t),t.tag){case 1:return dt(t.type)&&Pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(),Te(ct),Te(et),Wa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return za(t),null;case 13:if(Te(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(De),null;case 4:return Cn(),null;case 10:return $a(t.type._context),null;case 22:case 23:return _l(),null;case 24:return null;default:return null}}var Gi=!1,nt=!1,eg=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Tn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){$e(e,t,l)}else i.current=null}function ul(e,t,i){try{i()}catch(l){$e(e,t,l)}}var Vd=!1;function tg(e,t){if(_a=pi,e=kc(),ha(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,x=-1,b=-1,R=0,F=0,U=e,M=null;t:for(;;){for(var G;U!==i||c!==0&&U.nodeType!==3||(x=g+c),U!==f||l!==0&&U.nodeType!==3||(b=g+l),U.nodeType===3&&(g+=U.nodeValue.length),(G=U.firstChild)!==null;)M=U,U=G;for(;;){if(U===e)break t;if(M===i&&++R===c&&(x=g),M===f&&++F===l&&(b=g),(G=U.nextSibling)!==null)break;U=M,M=U.parentNode}U=G}i=x===-1||b===-1?null:{start:x,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Sa={focusedElem:e,selectionRange:i},pi=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var X=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var te=X.memoizedProps,Me=X.memoizedState,P=t.stateNode,k=P.getSnapshotBeforeUpdate(t.elementType===t.type?te:Dt(t.type,te),Me);P.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){$e(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return X=Vd,Vd=!1,X}function Rs(e,t,i){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&ul(t,i,f)}c=c.next}while(c!==l)}}function Qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==t)}}function cl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Yd(e){var t=e.alternate;t!==null&&(e.alternate=null,Yd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[_s],delete t[Ea],delete t[Ip],delete t[Mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kd(e){return e.tag===5||e.tag===3||e.tag===4}function Gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ni));else if(l!==4&&(e=e.child,e!==null))for(dl(e,t,i),e=e.sibling;e!==null;)dl(e,t,i),e=e.sibling}function fl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(fl(e,t,i),e=e.sibling;e!==null;)fl(e,t,i),e=e.sibling}var Qe=null,At=!1;function wr(e,t,i){for(i=i.child;i!==null;)Qd(e,t,i),i=i.sibling}function Qd(e,t,i){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(ui,i)}catch{}switch(i.tag){case 5:nt||Tn(i,t);case 6:var l=Qe,c=At;Qe=null,wr(e,t,i),Qe=l,At=c,Qe!==null&&(At?(e=Qe,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Qe.removeChild(i.stateNode));break;case 18:Qe!==null&&(At?(e=Qe,i=i.stateNode,e.nodeType===8?ja(e.parentNode,i):e.nodeType===1&&ja(e,i),cs(e)):ja(Qe,i.stateNode));break;case 4:l=Qe,c=At,Qe=i.stateNode.containerInfo,At=!0,wr(e,t,i),Qe=l,At=c;break;case 0:case 11:case 14:case 15:if(!nt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&ul(i,t,g),c=c.next}while(c!==l)}wr(e,t,i);break;case 1:if(!nt&&(Tn(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(x){$e(i,t,x)}wr(e,t,i);break;case 21:wr(e,t,i);break;case 22:i.mode&1?(nt=(l=nt)||i.memoizedState!==null,wr(e,t,i),nt=l):wr(e,t,i);break;default:wr(e,t,i)}}function Jd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new eg),t.forEach(function(l){var c=cg.bind(null,e,l);i.has(l)||(i.add(l),l.then(c,c))})}}function Lt(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];try{var f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:Qe=x.stateNode,At=!1;break e;case 3:Qe=x.stateNode.containerInfo,At=!0;break e;case 4:Qe=x.stateNode.containerInfo,At=!0;break e}x=x.return}if(Qe===null)throw Error(n(160));Qd(f,g,c),Qe=null,At=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch(R){$e(c,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xd(t,e),t=t.sibling}function Xd(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Bt(e),l&4){try{Rs(3,e,e.return),Qi(3,e)}catch(te){$e(e,e.return,te)}try{Rs(5,e,e.return)}catch(te){$e(e,e.return,te)}}break;case 1:Lt(t,e),Bt(e),l&512&&i!==null&&Tn(i,i.return);break;case 5:if(Lt(t,e),Bt(e),l&512&&i!==null&&Tn(i,i.return),e.flags&32){var c=e.stateNode;try{Zn(c,"")}catch(te){$e(e,e.return,te)}}if(l&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,x=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&Eu(c,f),Wo(x,g);var R=Wo(x,f);for(g=0;g<b.length;g+=2){var F=b[g],U=b[g+1];F==="style"?Au(c,U):F==="dangerouslySetInnerHTML"?Ru(c,U):F==="children"?Zn(c,U):z(c,F,U,R)}switch(x){case"input":Mo(c,f);break;case"textarea":Pu(c,f);break;case"select":var M=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var G=f.value;G!=null?un(c,!!f.multiple,G,!1):M!==!!f.multiple&&(f.defaultValue!=null?un(c,!!f.multiple,f.defaultValue,!0):un(c,!!f.multiple,f.multiple?[]:"",!1))}c[_s]=f}catch(te){$e(e,e.return,te)}}break;case 6:if(Lt(t,e),Bt(e),l&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(te){$e(e,e.return,te)}}break;case 3:if(Lt(t,e),Bt(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch(te){$e(e,e.return,te)}break;case 4:Lt(t,e),Bt(e);break;case 13:Lt(t,e),Bt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(pl=Ie())),l&4&&Jd(e);break;case 22:if(F=i!==null&&i.memoizedState!==null,e.mode&1?(nt=(R=nt)||F,Lt(t,e),nt=R):Lt(t,e),Bt(e),l&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!F&&(e.mode&1)!==0)for(Q=e,F=e.child;F!==null;){for(U=Q=F;Q!==null;){switch(M=Q,G=M.child,M.tag){case 0:case 11:case 14:case 15:Rs(4,M,M.return);break;case 1:Tn(M,M.return);var X=M.stateNode;if(typeof X.componentWillUnmount=="function"){l=M,i=M.return;try{t=l,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(te){$e(l,i,te)}}break;case 5:Tn(M,M.return);break;case 22:if(M.memoizedState!==null){tf(U);continue}}G!==null?(G.return=M,Q=G):tf(U)}F=F.sibling}e:for(F=null,U=e;;){if(U.tag===5){if(F===null){F=U;try{c=U.stateNode,R?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=U.stateNode,b=U.memoizedProps.style,g=b!=null&&b.hasOwnProperty("display")?b.display:null,x.style.display=Du("display",g))}catch(te){$e(e,e.return,te)}}}else if(U.tag===6){if(F===null)try{U.stateNode.nodeValue=R?"":U.memoizedProps}catch(te){$e(e,e.return,te)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;F===U&&(F=null),U=U.return}F===U&&(F=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Lt(t,e),Bt(e),l&4&&Jd(e);break;case 21:break;default:Lt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Kd(i)){var l=i;break e}i=i.return}throw Error(n(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(Zn(c,""),l.flags&=-33);var f=Gd(e);fl(e,f,c);break;case 3:case 4:var g=l.stateNode.containerInfo,x=Gd(e);dl(e,x,g);break;default:throw Error(n(161))}}catch(b){$e(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rg(e,t,i){Q=e,Zd(e)}function Zd(e,t,i){for(var l=(e.mode&1)!==0;Q!==null;){var c=Q,f=c.child;if(c.tag===22&&l){var g=c.memoizedState!==null||Gi;if(!g){var x=c.alternate,b=x!==null&&x.memoizedState!==null||nt;x=Gi;var R=nt;if(Gi=g,(nt=b)&&!R)for(Q=c;Q!==null;)g=Q,b=g.child,g.tag===22&&g.memoizedState!==null?rf(c):b!==null?(b.return=g,Q=b):rf(c);for(;f!==null;)Q=f,Zd(f),f=f.sibling;Q=c,Gi=x,nt=R}ef(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,Q=f):ef(e)}}function ef(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:nt||Qi(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!nt)if(i===null)l.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Dt(t.type,i.memoizedProps);l.componentDidUpdate(c,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&td(t,f,l);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}td(t,g,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&i.focus();break;case"img":b.src&&(i.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var F=R.memoizedState;if(F!==null){var U=F.dehydrated;U!==null&&cs(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nt||t.flags&512&&cl(t)}catch(M){$e(t,t.return,M)}}if(t===e){Q=null;break}if(i=t.sibling,i!==null){i.return=t.return,Q=i;break}Q=t.return}}function tf(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Q=i;break}Q=t.return}}function rf(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Qi(4,t)}catch(b){$e(t,i,b)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var c=t.return;try{l.componentDidMount()}catch(b){$e(t,c,b)}}var f=t.return;try{cl(t)}catch(b){$e(t,f,b)}break;case 5:var g=t.return;try{cl(t)}catch(b){$e(t,g,b)}}}catch(b){$e(t,t.return,b)}if(t===e){Q=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Q=x;break}Q=t.return}}var ng=Math.ceil,Ji=J.ReactCurrentDispatcher,hl=J.ReactCurrentOwner,Ct=J.ReactCurrentBatchConfig,we=0,qe=null,Fe=null,Je=0,xt=0,On=mr(0),We=0,Ds=null,qr=0,Xi=0,ml=0,As=null,ht=null,pl=0,Rn=1/0,er=null,Zi=!1,gl=null,xr=null,eo=!1,_r=null,to=0,Ls=0,vl=null,ro=-1,no=0;function lt(){return(we&6)!==0?Ie():ro!==-1?ro:ro=Ie()}function Sr(e){return(e.mode&1)===0?1:(we&2)!==0&&Je!==0?Je&-Je:Up.transition!==null?(no===0&&(no=Gu()),no):(e=_e,e!==0||(e=window.event,e=e===void 0?16:sc(e.type)),e)}function $t(e,t,i,l){if(50<Ls)throw Ls=0,vl=null,Error(n(185));is(e,i,l),((we&2)===0||e!==qe)&&(e===qe&&((we&2)===0&&(Xi|=i),We===4&&br(e,Je)),mt(e,l),i===1&&we===0&&(t.mode&1)===0&&(Rn=Ie()+500,Oi&&gr()))}function mt(e,t){var i=e.callbackNode;Um(e,t);var l=fi(e,e===qe?Je:0);if(l===0)i!==null&&Vu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(i!=null&&Vu(i),t===1)e.tag===0?Fp(sf.bind(null,e)):Wc(sf.bind(null,e)),Lp(function(){(we&6)===0&&gr()}),i=null;else{switch(Qu(l)){case 1:i=Qo;break;case 4:i=Yu;break;case 16:i=li;break;case 536870912:i=Ku;break;default:i=li}i=hf(i,nf.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function nf(e,t){if(ro=-1,no=0,(we&6)!==0)throw Error(n(327));var i=e.callbackNode;if(Dn()&&e.callbackNode!==i)return null;var l=fi(e,e===qe?Je:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=so(e,l);else{t=l;var c=we;we|=2;var f=af();(qe!==e||Je!==t)&&(er=null,Rn=Ie()+500,Yr(e,t));do try{og();break}catch(x){of(e,x)}while(!0);La(),Ji.current=f,we=c,Fe!==null?t=0:(qe=null,Je=0,t=We)}if(t!==0){if(t===2&&(c=Jo(e),c!==0&&(l=c,t=yl(e,c))),t===1)throw i=Ds,Yr(e,0),br(e,l),mt(e,Ie()),i;if(t===6)br(e,l);else{if(c=e.current.alternate,(l&30)===0&&!sg(c)&&(t=so(e,l),t===2&&(f=Jo(e),f!==0&&(l=f,t=yl(e,f))),t===1))throw i=Ds,Yr(e,0),br(e,l),mt(e,Ie()),i;switch(e.finishedWork=c,e.finishedLanes=l,t){case 0:case 1:throw Error(n(345));case 2:Kr(e,ht,er);break;case 3:if(br(e,l),(l&130023424)===l&&(t=pl+500-Ie(),10<t)){if(fi(e,0)!==0)break;if(c=e.suspendedLanes,(c&l)!==l){lt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ka(Kr.bind(null,e,ht,er),t);break}Kr(e,ht,er);break;case 4:if(br(e,l),(l&4194240)===l)break;for(t=e.eventTimes,c=-1;0<l;){var g=31-Tt(l);f=1<<g,g=t[g],g>c&&(c=g),l&=~f}if(l=c,l=Ie()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*ng(l/1960))-l,10<l){e.timeoutHandle=ka(Kr.bind(null,e,ht,er),l);break}Kr(e,ht,er);break;case 5:Kr(e,ht,er);break;default:throw Error(n(329))}}}return mt(e,Ie()),e.callbackNode===i?nf.bind(null,e):null}function yl(e,t){var i=As;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=so(e,t),e!==2&&(t=ht,ht=i,t!==null&&wl(t)),e}function wl(e){ht===null?ht=e:ht.push.apply(ht,e)}function sg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var c=i[l],f=c.getSnapshot;c=c.value;try{if(!Ot(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function br(e,t){for(t&=~ml,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Tt(t),l=1<<i;e[i]=-1,t&=~l}}function sf(e){if((we&6)!==0)throw Error(n(327));Dn();var t=fi(e,0);if((t&1)===0)return mt(e,Ie()),null;var i=so(e,t);if(e.tag!==0&&i===2){var l=Jo(e);l!==0&&(t=l,i=yl(e,l))}if(i===1)throw i=Ds,Yr(e,0),br(e,t),mt(e,Ie()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,ht,er),mt(e,Ie()),null}function xl(e,t){var i=we;we|=1;try{return e(t)}finally{we=i,we===0&&(Rn=Ie()+500,Oi&&gr())}}function Vr(e){_r!==null&&_r.tag===0&&(we&6)===0&&Dn();var t=we;we|=1;var i=Ct.transition,l=_e;try{if(Ct.transition=null,_e=1,e)return e()}finally{_e=l,Ct.transition=i,we=t,(we&6)===0&&gr()}}function _l(){xt=On.current,Te(On)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Ap(i)),Fe!==null)for(i=Fe.return;i!==null;){var l=i;switch(Ta(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Pi();break;case 3:Cn(),Te(ct),Te(et),Wa();break;case 5:za(l);break;case 4:Cn();break;case 13:Te(De);break;case 19:Te(De);break;case 10:$a(l.type._context);break;case 22:case 23:_l()}i=i.return}if(qe=e,Fe=e=kr(e.current,null),Je=xt=t,We=0,Ds=null,ml=Xi=qr=0,ht=As=null,Br!==null){for(t=0;t<Br.length;t++)if(i=Br[t],l=i.interleaved,l!==null){i.interleaved=null;var c=l.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,l.next=g}i.pending=l}Br=null}return e}function of(e,t){do{var i=Fe;try{if(La(),zi.current=qi,Bi){for(var l=Ae.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Bi=!1}if(Hr=0,He=Be=Ae=null,Ns=!1,Cs=0,hl.current=null,i===null||i.return===null){We=1,Ds=t,Fe=null;break}e:{var f=e,g=i.return,x=i,b=t;if(t=Je,x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var R=b,F=x,U=F.tag;if((F.mode&1)===0&&(U===0||U===11||U===15)){var M=F.alternate;M?(F.updateQueue=M.updateQueue,F.memoizedState=M.memoizedState,F.lanes=M.lanes):(F.updateQueue=null,F.memoizedState=null)}var G=Td(g);if(G!==null){G.flags&=-257,Od(G,g,x,f,t),G.mode&1&&Pd(f,R,t),t=G,b=R;var X=t.updateQueue;if(X===null){var te=new Set;te.add(b),t.updateQueue=te}else X.add(b);break e}else{if((t&1)===0){Pd(f,R,t),Sl();break e}b=Error(n(426))}}else if(Re&&x.mode&1){var Me=Td(g);if(Me!==null){(Me.flags&65536)===0&&(Me.flags|=256),Od(Me,g,x,f,t),Da(Pn(b,x));break e}}f=b=Pn(b,x),We!==4&&(We=2),As===null?As=[f]:As.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var P=Nd(f,b,t);ed(f,P);break e;case 1:x=b;var k=f.type,O=f.stateNode;if((f.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(xr===null||!xr.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var W=Cd(f,x,t);ed(f,W);break e}}f=f.return}while(f!==null)}uf(i)}catch(re){t=re,Fe===i&&i!==null&&(Fe=i=i.return);continue}break}while(!0)}function af(){var e=Ji.current;return Ji.current=qi,e===null?qi:e}function Sl(){(We===0||We===3||We===2)&&(We=4),qe===null||(qr&268435455)===0&&(Xi&268435455)===0||br(qe,Je)}function so(e,t){var i=we;we|=2;var l=af();(qe!==e||Je!==t)&&(er=null,Yr(e,t));do try{ig();break}catch(c){of(e,c)}while(!0);if(La(),we=i,Ji.current=l,Fe!==null)throw Error(n(261));return qe=null,Je=0,We}function ig(){for(;Fe!==null;)lf(Fe)}function og(){for(;Fe!==null&&!Om();)lf(Fe)}function lf(e){var t=ff(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?uf(e):Fe=t,hl.current=null}function uf(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Xp(i,t,xt),i!==null){Fe=i;return}}else{if(i=Zp(i,t),i!==null){i.flags&=32767,Fe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Fe=null;return}}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);We===0&&(We=5)}function Kr(e,t,i){var l=_e,c=Ct.transition;try{Ct.transition=null,_e=1,ag(e,t,i,l)}finally{Ct.transition=c,_e=l}return null}function ag(e,t,i,l){do Dn();while(_r!==null);if((we&6)!==0)throw Error(n(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(zm(e,f),e===qe&&(Fe=qe=null,Je=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||eo||(eo=!0,hf(li,function(){return Dn(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Ct.transition,Ct.transition=null;var g=_e;_e=1;var x=we;we|=4,hl.current=null,tg(e,i),Xd(i,e),Np(Sa),pi=!!_a,Sa=_a=null,e.current=i,rg(i),Rm(),we=x,_e=g,Ct.transition=f}else e.current=i;if(eo&&(eo=!1,_r=e,to=c),f=e.pendingLanes,f===0&&(xr=null),Lm(i.stateNode),mt(e,Ie()),t!==null)for(l=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],l(c.value,{componentStack:c.stack,digest:c.digest});if(Zi)throw Zi=!1,e=gl,gl=null,e;return(to&1)!==0&&e.tag!==0&&Dn(),f=e.pendingLanes,(f&1)!==0?e===vl?Ls++:(Ls=0,vl=e):Ls=0,gr(),null}function Dn(){if(_r!==null){var e=Qu(to),t=Ct.transition,i=_e;try{if(Ct.transition=null,_e=16>e?16:e,_r===null)var l=!1;else{if(e=_r,_r=null,to=0,(we&6)!==0)throw Error(n(331));var c=we;for(we|=4,Q=e.current;Q!==null;){var f=Q,g=f.child;if((Q.flags&16)!==0){var x=f.deletions;if(x!==null){for(var b=0;b<x.length;b++){var R=x[b];for(Q=R;Q!==null;){var F=Q;switch(F.tag){case 0:case 11:case 15:Rs(8,F,f)}var U=F.child;if(U!==null)U.return=F,Q=U;else for(;Q!==null;){F=Q;var M=F.sibling,G=F.return;if(Yd(F),F===R){Q=null;break}if(M!==null){M.return=G,Q=M;break}Q=G}}}var X=f.alternate;if(X!==null){var te=X.child;if(te!==null){X.child=null;do{var Me=te.sibling;te.sibling=null,te=Me}while(te!==null)}}Q=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,Q=g;else e:for(;Q!==null;){if(f=Q,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Rs(9,f,f.return)}var P=f.sibling;if(P!==null){P.return=f.return,Q=P;break e}Q=f.return}}var k=e.current;for(Q=k;Q!==null;){g=Q;var O=g.child;if((g.subtreeFlags&2064)!==0&&O!==null)O.return=g,Q=O;else e:for(g=k;Q!==null;){if(x=Q,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Qi(9,x)}}catch(re){$e(x,x.return,re)}if(x===g){Q=null;break e}var W=x.sibling;if(W!==null){W.return=x.return,Q=W;break e}Q=x.return}}if(we=c,gr(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(ui,e)}catch{}l=!0}return l}finally{_e=i,Ct.transition=t}}return!1}function cf(e,t,i){t=Pn(i,t),t=Nd(e,t,1),e=yr(e,t,1),t=lt(),e!==null&&(is(e,1,t),mt(e,t))}function $e(e,t,i){if(e.tag===3)cf(e,e,i);else for(;t!==null;){if(t.tag===3){cf(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){e=Pn(i,e),e=Cd(t,e,1),t=yr(t,e,1),e=lt(),t!==null&&(is(t,1,e),mt(t,e));break}}t=t.return}}function lg(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&i,qe===e&&(Je&i)===i&&(We===4||We===3&&(Je&130023424)===Je&&500>Ie()-pl?Yr(e,0):ml|=i),mt(e,t)}function df(e,t){t===0&&((e.mode&1)===0?t=1:(t=di,di<<=1,(di&130023424)===0&&(di=4194304)));var i=lt();e=Jt(e,t),e!==null&&(is(e,t,i),mt(e,i))}function ug(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),df(e,i)}function cg(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(t),df(e,i)}var ff;ff=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)ft=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return ft=!1,Jp(e,t,i);ft=(e.flags&131072)!==0}else ft=!1,Re&&(t.flags&1048576)!==0&&Hc(t,Di,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Ki(e,t),e=t.pendingProps;var c=_n(t,et.current);Nn(t,i),c=Va(null,t,l,e,c,i);var f=Ya();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(l)?(f=!0,Ti(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Fa(t),c.updater=Vi,t.stateNode=c,c._reactInternals=t,Za(t,l,e,i),t=nl(null,t,l,!0,f,i)):(t.tag=0,Re&&f&&Pa(t),at(null,t,c,i),t=t.child),t;case 16:l=t.elementType;e:{switch(Ki(e,t),e=t.pendingProps,c=l._init,l=c(l._payload),t.type=l,c=t.tag=fg(l),e=Dt(l,e),c){case 0:t=rl(null,t,l,e,i);break e;case 1:t=Id(null,t,l,e,i);break e;case 11:t=Rd(null,t,l,e,i);break e;case 14:t=Dd(null,t,l,Dt(l.type,e),i);break e}throw Error(n(306,l,""))}return t;case 0:return l=t.type,c=t.pendingProps,c=t.elementType===l?c:Dt(l,c),rl(e,t,l,c,i);case 1:return l=t.type,c=t.pendingProps,c=t.elementType===l?c:Dt(l,c),Id(e,t,l,c,i);case 3:e:{if(Md(t),e===null)throw Error(n(387));l=t.pendingProps,f=t.memoizedState,c=f.element,Zc(e,t),Fi(t,l,null,i);var g=t.memoizedState;if(l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=Pn(Error(n(423)),t),t=Fd(e,t,l,i,c);break e}else if(l!==c){c=Pn(Error(n(424)),t),t=Fd(e,t,l,i,c);break e}else for(wt=hr(t.stateNode.containerInfo.firstChild),yt=t,Re=!0,Rt=null,i=Jc(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(kn(),l===c){t=Zt(e,t,i);break e}at(e,t,l,i)}t=t.child}return t;case 5:return rd(t),e===null&&Ra(t),l=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,ba(l,c)?g=null:f!==null&&ba(l,f)&&(t.flags|=32),$d(e,t),at(e,t,g,i),t.child;case 6:return e===null&&Ra(t),null;case 13:return Ud(e,t,i);case 4:return Ua(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=jn(t,null,l,i):at(e,t,l,i),t.child;case 11:return l=t.type,c=t.pendingProps,c=t.elementType===l?c:Dt(l,c),Rd(e,t,l,c,i);case 7:return at(e,t,t.pendingProps,i),t.child;case 8:return at(e,t,t.pendingProps.children,i),t.child;case 12:return at(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(l=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,Ne($i,l._currentValue),l._currentValue=g,f!==null)if(Ot(f.value,g)){if(f.children===c.children&&!ct.current){t=Zt(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){g=f.child;for(var b=x.firstContext;b!==null;){if(b.context===l){if(f.tag===1){b=Xt(-1,i&-i),b.tag=2;var R=f.updateQueue;if(R!==null){R=R.shared;var F=R.pending;F===null?b.next=b:(b.next=F.next,F.next=b),R.pending=b}}f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),Ia(f.return,i,t),x.lanes|=i;break}b=b.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(n(341));g.lanes|=i,x=g.alternate,x!==null&&(x.lanes|=i),Ia(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}at(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,l=t.pendingProps.children,Nn(t,i),c=Et(c),l=l(c),t.flags|=1,at(e,t,l,i),t.child;case 14:return l=t.type,c=Dt(l,t.pendingProps),c=Dt(l.type,c),Dd(e,t,l,c,i);case 15:return Ad(e,t,t.type,t.pendingProps,i);case 17:return l=t.type,c=t.pendingProps,c=t.elementType===l?c:Dt(l,c),Ki(e,t),t.tag=1,dt(l)?(e=!0,Ti(t)):e=!1,Nn(t,i),jd(t,l,c),Za(t,l,c,i),nl(null,t,l,!0,e,i);case 19:return Bd(e,t,i);case 22:return Ld(e,t,i)}throw Error(n(156,t.tag))};function hf(e,t){return qu(e,t)}function dg(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,i,l){return new dg(e,t,i,l)}function bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fg(e){if(typeof e=="function")return bl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V)return 11;if(e===q)return 14}return 2}function kr(e,t){var i=e.alternate;return i===null?(i=Pt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function io(e,t,i,l,c,f){var g=2;if(l=e,typeof e=="function")bl(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ye:return Gr(i.children,c,f,t);case Ee:g=8,c|=8;break;case ze:return e=Pt(12,i,t,c|2),e.elementType=ze,e.lanes=f,e;case ue:return e=Pt(13,i,t,c),e.elementType=ue,e.lanes=f,e;case $:return e=Pt(19,i,t,c),e.elementType=$,e.lanes=f,e;case Z:return oo(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oe:g=10;break e;case it:g=9;break e;case V:g=11;break e;case q:g=14;break e;case K:g=16,l=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Pt(g,i,t,c),t.elementType=e,t.type=l,t.lanes=f,t}function Gr(e,t,i,l){return e=Pt(7,e,l,t),e.lanes=i,e}function oo(e,t,i,l){return e=Pt(22,e,l,t),e.elementType=Z,e.lanes=i,e.stateNode={isHidden:!1},e}function kl(e,t,i){return e=Pt(6,e,null,t),e.lanes=i,e}function jl(e,t,i){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hg(e,t,i,l,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function El(e,t,i,l,c,f,g,x,b){return e=new hg(e,t,i,x,b),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Pt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(f),e}function mg(e,t,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ve,key:l==null?null:""+l,children:e,containerInfo:t,implementation:i}}function mf(e){if(!e)return pr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(dt(i))return zc(e,i,t)}return t}function pf(e,t,i,l,c,f,g,x,b){return e=El(i,l,!0,e,c,f,g,x,b),e.context=mf(null),i=e.current,l=lt(),c=Sr(i),f=Xt(l,c),f.callback=t??null,yr(i,f,c),e.current.lanes=c,is(e,c,l),mt(e,l),e}function ao(e,t,i,l){var c=t.current,f=lt(),g=Sr(c);return i=mf(i),t.context===null?t.context=i:t.pendingContext=i,t=Xt(f,g),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=yr(c,t,g),e!==null&&($t(e,c,g,f),Mi(e,c,g)),g}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Nl(e,t){gf(e,t),(e=e.alternate)&&gf(e,t)}function pg(){return null}var vf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cl(e){this._internalRoot=e}uo.prototype.render=Cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));ao(e,t,null,null)},uo.prototype.unmount=Cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){ao(null,e,null,null)}),t[Yt]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<cr.length&&t!==0&&t<cr[i].priority;i++);cr.splice(i,0,e),i===0&&rc(e)}};function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yf(){}function gg(e,t,i,l,c){if(c){if(typeof l=="function"){var f=l;l=function(){var R=lo(g);f.call(R)}}var g=pf(t,l,e,0,null,!1,!1,"",yf);return e._reactRootContainer=g,e[Yt]=g.current,ws(e.nodeType===8?e.parentNode:e),Vr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof l=="function"){var x=l;l=function(){var R=lo(b);x.call(R)}}var b=El(e,0,!1,null,null,!1,!1,"",yf);return e._reactRootContainer=b,e[Yt]=b.current,ws(e.nodeType===8?e.parentNode:e),Vr(function(){ao(t,b,i,l)}),b}function fo(e,t,i,l,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var x=c;c=function(){var b=lo(g);x.call(b)}}ao(t,g,e,c)}else g=gg(i,t,e,c,l);return lo(g)}Ju=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ss(t.pendingLanes);i!==0&&(Zo(t,i|1),mt(t,Ie()),(we&6)===0&&(Rn=Ie()+500,gr()))}break;case 13:Vr(function(){var l=Jt(e,1);if(l!==null){var c=lt();$t(l,e,1,c)}}),Nl(e,1)}},ea=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var i=lt();$t(t,e,134217728,i)}Nl(e,134217728)}},Xu=function(e){if(e.tag===13){var t=Sr(e),i=Jt(e,t);if(i!==null){var l=lt();$t(i,e,t,l)}Nl(e,t)}},Zu=function(){return _e},ec=function(e,t){var i=_e;try{return _e=e,t()}finally{_e=i}},Vo=function(e,t,i){switch(t){case"input":if(Mo(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var c=Ci(l);if(!c)throw Error(n(90));bt(l),Mo(l,c)}}}break;case"textarea":Pu(e,i);break;case"select":t=i.value,t!=null&&un(e,!!i.multiple,t,!1)}},Mu=xl,Fu=Vr;var vg={usingClientEntryPoint:!1,Events:[Ss,wn,Ci,$u,Iu,xl]},$s={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yg={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wu(e),e===null?null:e.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{ui=ho.inject(yg),Mt=ho}catch{}}return pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vg,pt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pl(t))throw Error(n(200));return mg(e,t,null,i)},pt.createRoot=function(e,t){if(!Pl(e))throw Error(n(299));var i=!1,l="",c=vf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=El(e,1,!1,null,null,i,!1,l,c),e[Yt]=t.current,ws(e.nodeType===8?e.parentNode:e),new Cl(t)},pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Wu(t),e=e===null?null:e.stateNode,e},pt.flushSync=function(e){return Vr(e)},pt.hydrate=function(e,t,i){if(!co(t))throw Error(n(200));return fo(null,e,t,!0,i)},pt.hydrateRoot=function(e,t,i){if(!Pl(e))throw Error(n(405));var l=i!=null&&i.hydratedSources||null,c=!1,f="",g=vf;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=pf(t,null,e,1,i??null,c,!1,f,g),e[Yt]=t.current,ws(e),l)for(e=0;e<l.length;e++)i=l[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new uo(t)},pt.render=function(e,t,i){if(!co(t))throw Error(n(200));return fo(null,e,t,!1,i)},pt.unmountComponentAtNode=function(e){if(!co(e))throw Error(n(40));return e._reactRootContainer?(Vr(function(){fo(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},pt.unstable_batchedUpdates=xl,pt.unstable_renderSubtreeIntoContainer=function(e,t,i,l){if(!co(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return fo(e,t,i,!1,l)},pt.version="18.3.1-next-f1338f8080-20240426",pt}var Ef;function wh(){if(Ef)return Rl.exports;Ef=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Rl.exports=Ng(),Rl.exports}var Nf;function Cg(){if(Nf)return mo;Nf=1;var s=wh();return mo.createRoot=s.createRoot,mo.hydrateRoot=s.hydrateRoot,mo}var Pg=Cg();const Tg="modulepreload",Og=function(s){return"/"+s},Cf={},Ar=function(r,n,o){let a=Promise.resolve();if(n&&n.length>0){let d=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));a=d(n.map(y=>{if(y=Og(y),y in Cf)return;Cf[y]=!0;const v=y.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${w}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":Tg,v||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),v)return new Promise((E,N)=>{S.addEventListener("load",E),S.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return r().catch(u)})};var Rg=wh();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},Js.apply(this,arguments)}var Rr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Rr||(Rr={}));const Pf="popstate";function Dg(s){s===void 0&&(s={});function r(o,a){let{pathname:u,search:d,hash:m}=o.location;return Kl("",{pathname:u,search:d,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:ko(a)}return Lg(r,n,null,s)}function Ue(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function xh(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Ag(){return Math.random().toString(36).substr(2,8)}function Tf(s,r){return{usr:s.state,key:s.key,idx:r}}function Kl(s,r,n,o){return n===void 0&&(n=null),Js({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Gn(r):r,{state:n,key:r&&r.key||o||Ag()})}function ko(s){let{pathname:r="/",search:n="",hash:o=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Gn(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let o=s.indexOf("?");o>=0&&(r.search=s.substr(o),s=s.substr(0,o)),s&&(r.pathname=s)}return r}function Lg(s,r,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:u=!1}=o,d=a.history,m=Rr.Pop,p=null,y=v();y==null&&(y=0,d.replaceState(Js({},d.state,{idx:y}),""));function v(){return(d.state||{idx:null}).idx}function w(){m=Rr.Pop;let C=v(),L=C==null?null:C-y;y=C,p&&p({action:m,location:T.location,delta:L})}function S(C,L){m=Rr.Push;let H=Kl(T.location,C,L);y=v()+1;let z=Tf(H,y),J=T.createHref(H);try{d.pushState(z,"",J)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(J)}u&&p&&p({action:m,location:T.location,delta:1})}function E(C,L){m=Rr.Replace;let H=Kl(T.location,C,L);y=v();let z=Tf(H,y),J=T.createHref(H);d.replaceState(z,"",J),u&&p&&p({action:m,location:T.location,delta:0})}function N(C){let L=a.location.origin!=="null"?a.location.origin:a.location.href,H=typeof C=="string"?C:ko(C);return H=H.replace(/ $/,"%20"),Ue(L,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,L)}let T={get action(){return m},get location(){return s(a,d)},listen(C){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Pf,w),p=C,()=>{a.removeEventListener(Pf,w),p=null}},createHref(C){return r(a,C)},createURL:N,encodeLocation(C){let L=N(C);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:S,replace:E,go(C){return d.go(C)}};return T}var Of;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Of||(Of={}));function $g(s,r,n){return n===void 0&&(n="/"),Ig(s,r,n)}function Ig(s,r,n,o){let a=typeof r=="string"?Gn(r):r,u=pu(a.pathname||"/",n);if(u==null)return null;let d=_h(s);Mg(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=Qg(u);m=Yg(d[p],y)}return m}function _h(s,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(u,d,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(Ue(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let y=Dr([o,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(Ue(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),_h(u.children,r,v,y)),!(u.path==null&&!u.index)&&r.push({path:y,score:qg(y,u.index),routesMeta:v})};return s.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,d);else for(let p of Sh(u.path))a(u,d,p)}),r}function Sh(s){let r=s.split("/");if(r.length===0)return[];let[n,...o]=r,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let d=Sh(o.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),a&&m.push(...d),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function Mg(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:Vg(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const Fg=/^:[\w-]+$/,Ug=3,zg=2,Bg=1,Wg=10,Hg=-2,Rf=s=>s==="*";function qg(s,r){let n=s.split("/"),o=n.length;return n.some(Rf)&&(o+=Hg),r&&(o+=zg),n.filter(a=>!Rf(a)).reduce((a,u)=>a+(Fg.test(u)?Ug:u===""?Bg:Wg),o)}function Vg(s,r){return s.length===r.length&&s.slice(0,-1).every((o,a)=>o===r[a])?s[s.length-1]-r[r.length-1]:0}function Yg(s,r,n){let{routesMeta:o}=s,a={},u="/",d=[];for(let m=0;m<o.length;++m){let p=o[m],y=m===o.length-1,v=u==="/"?r:r.slice(u.length)||"/",w=Kg({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),S=p.route;if(!w)return null;Object.assign(a,w.params),d.push({params:a,pathname:Dr([u,w.pathname]),pathnameBase:e0(Dr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Dr([u,w.pathnameBase]))}return d}function Kg(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,o]=Gg(s.path,s.caseSensitive,s.end),a=r.match(n);if(!a)return null;let u=a[0],d=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:o.reduce((y,v,w)=>{let{paramName:S,isOptional:E}=v;if(S==="*"){let T=m[w]||"";d=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const N=m[w];return E&&!N?y[S]=void 0:y[S]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:s}}function Gg(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),xh(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(o.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),o]}function Qg(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return xh(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function pu(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=s.charAt(n);return o&&o!=="/"?null:s.slice(n)||"/"}function Jg(s,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:a=""}=typeof s=="string"?Gn(s):s;return{pathname:n?n.startsWith("/")?n:Xg(n,r):r,search:t0(o),hash:r0(a)}}function Xg(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ll(s,r,n,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zg(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function bh(s,r){let n=Zg(s);return r?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function kh(s,r,n,o){o===void 0&&(o=!1);let a;typeof s=="string"?a=Gn(s):(a=Js({},s),Ue(!a.pathname||!a.pathname.includes("?"),Ll("?","pathname","search",a)),Ue(!a.pathname||!a.pathname.includes("#"),Ll("#","pathname","hash",a)),Ue(!a.search||!a.search.includes("#"),Ll("#","search","hash",a)));let u=s===""||a.pathname==="",d=u?"/":a.pathname,m;if(d==null)m=n;else{let w=r.length-1;if(!o&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),w-=1;a.pathname=S.join("/")}m=w>=0?r[w]:"/"}let p=Jg(a,m),y=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}const Dr=s=>s.join("/").replace(/\/\/+/g,"/"),e0=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),t0=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,r0=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function n0(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const jh=["post","put","patch","delete"];new Set(jh);const s0=["get",...jh];new Set(s0);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xs(){return Xs=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},Xs.apply(this,arguments)}const gu=_.createContext(null),i0=_.createContext(null),on=_.createContext(null),To=_.createContext(null),an=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Eh=_.createContext(null);function o0(s,r){let{relative:n}=r===void 0?{}:r;ti()||Ue(!1);let{basename:o,navigator:a}=_.useContext(on),{hash:u,pathname:d,search:m}=Ch(s,{relative:n}),p=d;return o!=="/"&&(p=d==="/"?o:Dr([o,d])),a.createHref({pathname:p,search:m,hash:u})}function ti(){return _.useContext(To)!=null}function Oo(){return ti()||Ue(!1),_.useContext(To).location}function Nh(s){_.useContext(on).static||_.useLayoutEffect(s)}function sr(){let{isDataRoute:s}=_.useContext(an);return s?w0():a0()}function a0(){ti()||Ue(!1);let s=_.useContext(gu),{basename:r,future:n,navigator:o}=_.useContext(on),{matches:a}=_.useContext(an),{pathname:u}=Oo(),d=JSON.stringify(bh(a,n.v7_relativeSplatPath)),m=_.useRef(!1);return Nh(()=>{m.current=!0}),_.useCallback(function(y,v){if(v===void 0&&(v={}),!m.current)return;if(typeof y=="number"){o.go(y);return}let w=kh(y,JSON.parse(d),u,v.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Dr([r,w.pathname])),(v.replace?o.replace:o.push)(w,v.state,v)},[r,o,d,u,s])}function Ch(s,r){let{relative:n}=r===void 0?{}:r,{future:o}=_.useContext(on),{matches:a}=_.useContext(an),{pathname:u}=Oo(),d=JSON.stringify(bh(a,o.v7_relativeSplatPath));return _.useMemo(()=>kh(s,JSON.parse(d),u,n==="path"),[s,d,u,n])}function l0(s,r){return u0(s,r)}function u0(s,r,n,o){ti()||Ue(!1);let{navigator:a,static:u}=_.useContext(on),{matches:d}=_.useContext(an),m=d[d.length-1],p=m?m.params:{};m&&m.pathname;let y=m?m.pathnameBase:"/";m&&m.route;let v=Oo(),w;if(r){var S;let L=typeof r=="string"?Gn(r):r;y==="/"||(S=L.pathname)!=null&&S.startsWith(y)||Ue(!1),w=L}else w=v;let E=w.pathname||"/",N=E;if(y!=="/"){let L=y.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let T=$g(s,{pathname:N}),C=m0(T&&T.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:Dr([y,a.encodeLocation?a.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:Dr([y,a.encodeLocation?a.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),d,n,o);return r&&C?_.createElement(To.Provider,{value:{location:Xs({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Rr.Pop}},C):C}function c0(){let s=y0(),r=n0(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},r),n?_.createElement("pre",{style:a},n):null,null)}const d0=_.createElement(c0,null);class f0 extends _.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?_.createElement(an.Provider,{value:this.props.routeContext},_.createElement(Eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h0(s){let{routeContext:r,match:n,children:o}=s,a=_.useContext(gu);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(an.Provider,{value:r},o)}function m0(s,r,n,o){var a;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),s==null){var u;if(!n)return null;if(n.errors)s=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let d=s,m=(a=n)==null?void 0:a.errors;if(m!=null){let v=d.findIndex(w=>w.route.id&&(m==null?void 0:m[w.route.id])!==void 0);v>=0||Ue(!1),d=d.slice(0,Math.min(d.length,v+1))}let p=!1,y=-1;if(n&&o&&o.v7_partialHydration)for(let v=0;v<d.length;v++){let w=d[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=v),w.route.id){let{loaderData:S,errors:E}=n,N=w.route.loader&&S[w.route.id]===void 0&&(!E||E[w.route.id]===void 0);if(w.route.lazy||N){p=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((v,w,S)=>{let E,N=!1,T=null,C=null;n&&(E=m&&w.route.id?m[w.route.id]:void 0,T=w.route.errorElement||d0,p&&(y<0&&S===0?(x0("route-fallback"),N=!0,C=null):y===S&&(N=!0,C=w.route.hydrateFallbackElement||null)));let L=r.concat(d.slice(0,S+1)),H=()=>{let z;return E?z=T:N?z=C:w.route.Component?z=_.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=v,_.createElement(h0,{match:w,routeContext:{outlet:v,matches:L,isDataRoute:n!=null},children:z})};return n&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?_.createElement(f0,{location:n.location,revalidation:n.revalidation,component:T,error:E,children:H(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):H()},null)}var Ph=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(Ph||{}),Th=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(Th||{});function p0(s){let r=_.useContext(gu);return r||Ue(!1),r}function g0(s){let r=_.useContext(i0);return r||Ue(!1),r}function v0(s){let r=_.useContext(an);return r||Ue(!1),r}function Oh(s){let r=v0(),n=r.matches[r.matches.length-1];return n.route.id||Ue(!1),n.route.id}function y0(){var s;let r=_.useContext(Eh),n=g0(),o=Oh();return r!==void 0?r:(s=n.errors)==null?void 0:s[o]}function w0(){let{router:s}=p0(Ph.UseNavigateStable),r=Oh(Th.UseNavigateStable),n=_.useRef(!1);return Nh(()=>{n.current=!0}),_.useCallback(function(a,u){u===void 0&&(u={}),n.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,Xs({fromRouteId:r},u)))},[s,r])}const Df={};function x0(s,r,n){Df[s]||(Df[s]=!0)}function _0(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function _t(s){Ue(!1)}function S0(s){let{basename:r="/",children:n=null,location:o,navigationType:a=Rr.Pop,navigator:u,static:d=!1,future:m}=s;ti()&&Ue(!1);let p=r.replace(/^\/*/,"/"),y=_.useMemo(()=>({basename:p,navigator:u,static:d,future:Xs({v7_relativeSplatPath:!1},m)}),[p,m,u,d]);typeof o=="string"&&(o=Gn(o));let{pathname:v="/",search:w="",hash:S="",state:E=null,key:N="default"}=o,T=_.useMemo(()=>{let C=pu(v,p);return C==null?null:{location:{pathname:C,search:w,hash:S,state:E,key:N},navigationType:a}},[p,v,w,S,E,N,a]);return T==null?null:_.createElement(on.Provider,{value:y},_.createElement(To.Provider,{children:n,value:T}))}function b0(s){let{children:r,location:n}=s;return l0(Gl(r),n)}new Promise(()=>{});function Gl(s,r){r===void 0&&(r=[]);let n=[];return _.Children.forEach(s,(o,a)=>{if(!_.isValidElement(o))return;let u=[...r,a];if(o.type===_.Fragment){n.push.apply(n,Gl(o.props.children,u));return}o.type!==_t&&Ue(!1),!o.props.index||!o.props.children||Ue(!1);let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Gl(o.props.children,u)),n.push(d)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},Ql.apply(this,arguments)}function k0(s,r){if(s==null)return{};var n={},o=Object.keys(s),a,u;for(u=0;u<o.length;u++)a=o[u],!(r.indexOf(a)>=0)&&(n[a]=s[a]);return n}function j0(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function E0(s,r){return s.button===0&&(!r||r==="_self")&&!j0(s)}const N0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C0="6";try{window.__reactRouterVersion=C0}catch{}const P0="startTransition",Af=Yn[P0];function T0(s){let{basename:r,children:n,future:o,window:a}=s,u=_.useRef();u.current==null&&(u.current=Dg({window:a,v5Compat:!0}));let d=u.current,[m,p]=_.useState({action:d.action,location:d.location}),{v7_startTransition:y}=o||{},v=_.useCallback(w=>{y&&Af?Af(()=>p(w)):p(w)},[p,y]);return _.useLayoutEffect(()=>d.listen(v),[d,v]),_.useEffect(()=>_0(o),[o]),_.createElement(S0,{basename:r,children:n,location:m.location,navigationType:m.action,navigator:d,future:o})}const O0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=_.forwardRef(function(r,n){let{onClick:o,relative:a,reloadDocument:u,replace:d,state:m,target:p,to:y,preventScrollReset:v,viewTransition:w}=r,S=k0(r,N0),{basename:E}=_.useContext(on),N,T=!1;if(typeof y=="string"&&R0.test(y)&&(N=y,O0))try{let z=new URL(window.location.href),J=y.startsWith("//")?new URL(z.protocol+y):new URL(y),se=pu(J.pathname,E);J.origin===z.origin&&se!=null?y=se+J.search+J.hash:T=!0}catch{}let C=o0(y,{relative:a}),L=D0(y,{replace:d,state:m,target:p,preventScrollReset:v,relative:a,viewTransition:w});function H(z){o&&o(z),z.defaultPrevented||L(z)}return _.createElement("a",Ql({},S,{href:N||C,onClick:T||u?o:H,ref:n,target:p}))});var Lf;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Lf||(Lf={}));var $f;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})($f||($f={}));function D0(s,r){let{target:n,replace:o,state:a,preventScrollReset:u,relative:d,viewTransition:m}=r===void 0?{}:r,p=sr(),y=Oo(),v=Ch(s,{relative:d});return _.useCallback(w=>{if(E0(w,n)){w.preventDefault();let S=o!==void 0?o:ko(y)===ko(v);p(s,{replace:S,state:a,preventScrollReset:u,relative:d,viewTransition:m})}},[y,p,v,o,a,n,s,u,d,m])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ze=(s,r)=>{const n=_.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:m="",children:p,...y},v)=>_.createElement("svg",{ref:v,...A0,width:a,height:a,stroke:o,strokeWidth:d?Number(u)*24/Number(a):u,className:["lucide",`lucide-${L0(s)}`,m].join(" "),...y},[...r.map(([w,S])=>_.createElement(w,S)),...Array.isArray(p)?p:[p]]));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Ze("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ze("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Ze("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Ze("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Ze("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Y0=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>Ar(async()=>{const{default:o}=await Promise.resolve().then(()=>Qn);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)};class yu extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class K0 extends yu{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class G0 extends yu{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Q0 extends yu{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Zl;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Zl||(Zl={}));var J0=function(s,r,n,o){function a(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(v){try{y(o.next(v))}catch(w){d(w)}}function p(v){try{y(o.throw(v))}catch(w){d(w)}}function y(v){v.done?u(v.value):a(v.value).then(m,p)}y((o=o.apply(s,r||[])).next())})};class X0{constructor(r,{headers:n={},customFetch:o,region:a=Zl.Any}={}){this.url=r,this.headers=n,this.region=a,this.fetch=Y0(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,n={}){var o;return J0(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:d}=n;let m={},{region:p}=n;p||(p=this.region),p&&p!=="any"&&(m["x-region"]=p);let y;d&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(m["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(m["Content-Type"]="application/json",y=JSON.stringify(d)));const v=yield this.fetch(`${this.url}/${r}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:y}).catch(N=>{throw new K0(N)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new G0(v);if(!v.ok)throw new Q0(v);let S=((o=v.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield v.json():S==="application/octet-stream"?E=yield v.blob():S==="text/event-stream"?E=v:S==="multipart/form-data"?E=yield v.formData():E=yield v.text(),{data:E,error:null}}catch(a){return{data:null,error:a}}})}}var Ye={},An={},Ln={},$n={},In={},Mn={},Z0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kn=Z0();const ev=Kn.fetch,Rh=Kn.fetch.bind(Kn),Dh=Kn.Headers,tv=Kn.Request,rv=Kn.Response,Qn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dh,Request:tv,Response:rv,default:Rh,fetch:ev},Symbol.toStringTag,{value:"Module"})),nv=_g(Qn);var po={},Mf;function Ah(){if(Mf)return po;Mf=1,Object.defineProperty(po,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return po.default=s,po}var Ff;function Lh(){if(Ff)return Mn;Ff=1;var s=Mn&&Mn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Mn,"__esModule",{value:!0});const r=s(nv),n=s(Ah());class o{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=Object.assign({},this.headers),this.headers[u]=d,this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var v,w,S;let E=null,N=null,T=null,C=y.status,L=y.statusText;if(y.ok){if(this.method!=="HEAD"){const se=await y.text();se===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=se:N=JSON.parse(se))}const z=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),J=(w=y.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");z&&J&&J.length>1&&(T=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(E={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,T=null,C=406,L="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const z=await y.text();try{E=JSON.parse(z),Array.isArray(E)&&y.status===404&&(N=[],E=null,C=200,L="OK")}catch{y.status===404&&z===""?(C=204,L="No Content"):E={message:z}}if(E&&this.isMaybeSingle&&(!((S=E==null?void 0:E.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,C=200,L="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:N,count:T,status:C,statusText:L}});return this.shouldThrowOnError||(p=p.catch(y=>{var v,w,S;return{error:{message:`${(v=y==null?void 0:y.name)!==null&&v!==void 0?v:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(w=y==null?void 0:y.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(S=y==null?void 0:y.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,d)}returns(){return this}overrideTypes(){return this}}return Mn.default=o,Mn}var Uf;function $h(){if(Uf)return In;Uf=1;var s=In&&In.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(In,"__esModule",{value:!0});const r=s(Lh());class n extends r.default{select(a){let u=!1;const d=(a??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:u=!0,nullsFirst:d,foreignTable:m,referencedTable:p=m}={}){const y=p?`${p}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${a}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${a}`),this}range(a,u,{foreignTable:d,referencedTable:m=d}={}){const p=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(y,`${u-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:u=!1,settings:d=!1,buffers:m=!1,wal:p=!1,format:y="text"}={}){var v;const w=[a?"analyze":null,u?"verbose":null,d?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${S}"; options=${w};`,y==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return In.default=n,In}var zf;function wu(){if(zf)return $n;zf=1;var s=$n&&$n.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty($n,"__esModule",{value:!0});const r=s($h());class n extends r.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${p}fts${y}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const m=d?`${d}.or`:"or";return this.url.searchParams.append(m,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}}return $n.default=n,$n}var Bf;function Ih(){if(Bf)return Ln;Bf=1;var s=Ln&&Ln.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ln,"__esModule",{value:!0});const r=s(wu());class n{constructor(a,{headers:u={},schema:d,fetch:m}){this.url=a,this.headers=u,this.schema=d,this.fetch=m}select(a,{head:u=!1,count:d}={}){const m=u?"HEAD":"GET";let p=!1;const y=(a??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",y),d&&(this.headers.Prefer=`count=${d}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:u,defaultToNull:d=!0}={}){const m="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),d||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(a)){const y=a.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(y.length>0){const v=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:u,ignoreDuplicates:d=!1,count:m,defaultToNull:p=!0}={}){const y="POST",v=[`resolution=${d?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&v.push(this.headers.Prefer),m&&v.push(`count=${m}`),p||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(a)){const w=a.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(w.length>0){const S=[...new Set(w)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:u}={}){const d="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),this.headers.Prefer=m.join(","),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const u="DELETE",d=[];return a&&d.push(`count=${a}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ln.default=n,Ln}var Ms={},Fs={},Wf;function sv(){return Wf||(Wf=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.version=void 0,Fs.version="0.0.0-automated"),Fs}var Hf;function iv(){if(Hf)return Ms;Hf=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.DEFAULT_HEADERS=void 0;const s=sv();return Ms.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},Ms}var qf;function ov(){if(qf)return An;qf=1;var s=An&&An.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(An,"__esModule",{value:!0});const r=s(Ih()),n=s(wu()),o=iv();class a{constructor(d,{headers:m={},schema:p,fetch:y}={}){this.url=d,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),m),this.schemaName=p,this.fetch=y}from(d){const m=new URL(`${this.url}/${d}`);return new r.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new a(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,m={},{head:p=!1,get:y=!1,count:v}={}){let w;const S=new URL(`${this.url}/rpc/${d}`);let E;p||y?(w=p?"HEAD":"GET",Object.entries(m).filter(([T,C])=>C!==void 0).map(([T,C])=>[T,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([T,C])=>{S.searchParams.append(T,C)})):(w="POST",E=m);const N=Object.assign({},this.headers);return v&&(N.Prefer=`count=${v}`),new n.default({method:w,url:S,headers:N,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return An.default=a,An}var Vf;function av(){if(Vf)return Ye;Vf=1;var s=Ye&&Ye.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.PostgrestError=Ye.PostgrestBuilder=Ye.PostgrestTransformBuilder=Ye.PostgrestFilterBuilder=Ye.PostgrestQueryBuilder=Ye.PostgrestClient=void 0;const r=s(ov());Ye.PostgrestClient=r.default;const n=s(Ih());Ye.PostgrestQueryBuilder=n.default;const o=s(wu());Ye.PostgrestFilterBuilder=o.default;const a=s($h());Ye.PostgrestTransformBuilder=a.default;const u=s(Lh());Ye.PostgrestBuilder=u.default;const d=s(Ah());return Ye.PostgrestError=d.default,Ye.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:u.default,PostgrestError:d.default},Ye}var lv=av();const uv=yh(lv),{PostgrestClient:cv,PostgrestQueryBuilder:v1,PostgrestFilterBuilder:y1,PostgrestTransformBuilder:w1,PostgrestBuilder:x1,PostgrestError:_1}=uv,dv="2.11.2",fv={"X-Client-Info":`realtime-js/${dv}`},hv="1.0.0",Mh=1e4,mv=1e3;var Vn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Vn||(Vn={}));var St;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(St||(St={}));var It;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(It||(It={}));var eu;(function(s){s.websocket="websocket"})(eu||(eu={}));var Zr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Zr||(Zr={}));class pv{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,n,o)}_decodeBroadcast(r,n,o){const a=n.getUint8(1),u=n.getUint8(2);let d=this.HEADER_LENGTH+2;const m=o.decode(r.slice(d,d+a));d=d+a;const p=o.decode(r.slice(d,d+u));d=d+u;const y=JSON.parse(o.decode(r.slice(d,r.byteLength)));return{ref:null,topic:m,event:p,payload:y}}}class Fh{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ce||(Ce={}));const Yf=(s,r,n={})=>{var o;const a=(o=n.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((u,d)=>(u[d]=gv(d,s,r,a),u),{})},gv=(s,r,n,o)=>{const a=r.find(m=>m.name===s),u=a==null?void 0:a.type,d=n[s];return u&&!o.includes(u)?Uh(u,d):tu(d)},Uh=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return xv(r,n)}switch(s){case Ce.bool:return vv(r);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return yv(r);case Ce.json:case Ce.jsonb:return wv(r);case Ce.timestamp:return _v(r);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return tu(r);default:return tu(r)}},tu=s=>s,vv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},yv=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},wv=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},xv=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,o=s[n];if(s[0]==="{"&&o==="}"){let u;const d=s.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(m=>Uh(r,m))}return s},_v=s=>typeof s=="string"?s.replace(" ","T"):s,zh=s=>{let r=s;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class $l{constructor(r,n,o={},a=Mh){this.channel=r,this.event=n,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Kf;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Kf||(Kf={}));class Ks{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ks.syncState(this.state,a,u,d),this.pendingDiffs.forEach(p=>{this.state=Ks.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},a=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ks.syncDiff(this.state,a,u,d),m())}),this.onJoin((a,u,d)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:d})}),this.onLeave((a,u,d)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,a){const u=this.cloneDeep(r),d=this.transformState(n),m={},p={};return this.map(u,(y,v)=>{d[y]||(p[y]=v)}),this.map(d,(y,v)=>{const w=u[y];if(w){const S=v.map(C=>C.presence_ref),E=w.map(C=>C.presence_ref),N=v.filter(C=>E.indexOf(C.presence_ref)<0),T=w.filter(C=>S.indexOf(C.presence_ref)<0);N.length>0&&(m[y]=N),T.length>0&&(p[y]=T)}else m[y]=v}),this.syncDiff(u,{joins:m,leaves:p},o,a)}static syncDiff(r,n,o,a){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(u,(m,p)=>{var y;const v=(y=r[m])!==null&&y!==void 0?y:[];if(r[m]=this.cloneDeep(p),v.length>0){const w=r[m].map(E=>E.presence_ref),S=v.filter(E=>w.indexOf(E.presence_ref)<0);r[m].unshift(...S)}o(m,v,p)}),this.map(d,(m,p)=>{let y=r[m];if(!y)return;const v=p.map(w=>w.presence_ref);y=y.filter(w=>v.indexOf(w.presence_ref)<0),r[m]=y,a(m,y,p),y.length===0&&delete r[m]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const a=r[o];return"metas"in a?n[o]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=a,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gf;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Gf||(Gf={}));var Qf;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Qf||(Qf={}));var tr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(tr||(tr={}));class xu{constructor(r,n={config:{}},o){this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $l(this,It.join,this.params,this.timeout),this.rejoinTimer=new Fh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Ks(this),this.broadcastEndpointURL=zh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,n=this.timeout){var o,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:d,private:m}}=this.params;this._onError(v=>r==null?void 0:r(tr.CHANNEL_ERROR,v)),this._onClose(()=>r==null?void 0:r(tr.CLOSED));const p={},y={broadcast:u,presence:d,postgres_changes:(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(v=>v.filter))!==null&&a!==void 0?a:[],private:m};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){r==null||r(tr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,N=[];for(let T=0;T<E;T++){const C=S[T],{filter:{event:L,schema:H,table:z,filter:J}}=C,se=v&&v[T];if(se&&se.event===L&&se.schema===H&&se.table===z&&se.filter===J)N.push(Object.assign(Object.assign({},C),{id:se.id}));else{this.unsubscribe(),r==null||r(tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,r&&r(tr.SUBSCRIBED);return}}).receive("error",v=>{r==null||r(tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this._on(r,n,o)}async send(r,n={}){var o,a;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:d}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=y.body)===null||a===void 0?void 0:a.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,m,p;const y=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=St.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(o=>{const a=new $l(this,It.leave,{},r);a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(r,n,o){const a=new AbortController,u=setTimeout(()=>a.abort(),o),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(u),d}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new $l(this,r,n,o);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var a,u;const d=r.toLocaleLowerCase(),{close:m,error:p,leave:y,join:v}=It;if(o&&[m,p,y,v].indexOf(d)>=0&&o!==this._joinRef())return;let S=this._onMessage(d,n,o);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var N,T,C;return((N=E.filter)===null||N===void 0?void 0:N.event)==="*"||((C=(T=E.filter)===null||T===void 0?void 0:T.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===d}).map(E=>E.callback(S,o)):(u=this.bindings[d])===null||u===void 0||u.filter(E=>{var N,T,C,L,H,z;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const J=E.id,se=(N=E.filter)===null||N===void 0?void 0:N.event;return J&&((T=n.ids)===null||T===void 0?void 0:T.includes(J))&&(se==="*"||(se==null?void 0:se.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const J=(H=(L=E==null?void 0:E.filter)===null||L===void 0?void 0:L.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return J==="*"||J===((z=n==null?void 0:n.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof S=="object"&&"ids"in S){const N=S.data,{schema:T,table:C,commit_timestamp:L,type:H,errors:z}=N;S=Object.assign(Object.assign({},{schema:T,table:C,commit_timestamp:L,eventType:H,new:{},old:{},errors:z}),this._getPayloadRecords(N))}E.callback(S,o)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const a=r.toLocaleLowerCase(),u={type:a,filter:n,callback:o};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&xu.isEqual(a.filter,n))}),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(It.close,{},r)}_onError(r){this._on(It.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Yf(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Yf(r.columns,r.old_record)),n}}const Sv=()=>{},bv=typeof WebSocket<"u",kv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jv{constructor(r,n){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=fv,this.params={},this.timeout=Mh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Sv,this.conn=null,this.sendBuffer=[],this.serializer=new pv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...m)=>Ar(async()=>{const{default:p}=await Promise.resolve().then(()=>Qn);return{default:p}},void 0).then(({default:p})=>p(...m)):d=fetch,(...m)=>d(...m)},this.endPoint=`${r}/${eu.websocket}`,this.httpEndpoint=zh(r),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(o=n==null?void 0:n.params)===null||o===void 0?void 0:o.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(u,d)=>d(JSON.stringify(u)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(bv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ev(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ar(async()=>{const{default:r}=await import("./browser-C-pFddTo.js").then(n=>n.b);return{default:r}},[]).then(({default:r})=>{this.conn=new r(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hv}))}disconnect(r,n){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Vn.connecting:return Zr.Connecting;case Vn.open:return Zr.Open;case Vn.closing:return Zr.Closing;default:return Zr.Closed}}isConnected(){return this.connectionState()===Zr.Open}channel(r,n={config:{}}){const o=new xu(`realtime:${r}`,n,this);return this.channels.push(o),o}push(r){const{topic:n,event:o,payload:a,ref:u}=r,d=()=>{this.encode(r,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${n} ${o} (${u})`,a),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){let n=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let o=null;try{o=JSON.parse(atob(n.split(".")[1]))}catch{}if(o&&o.exp&&!(Math.floor(Date.now()/1e3)-o.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${o.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${o.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(It.access_token,{access_token:n})})}}async sendHeartbeat(){var r;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(r=this.conn)===null||r===void 0||r.close(mv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n._joinRef()!==r._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,n=>{let{topic:o,event:a,payload:u,ref:d}=n;d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${o} ${a} ${d&&"("+d+")"||""}`,u),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,u,d)),this.stateChangeCallbacks.message.forEach(m=>m(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(r=>r())}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(r))}_onConnError(r){this.log("transport",r.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(It.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${r}${o}${a}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([kv],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}}class Ev{constructor(r,n,o){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vn.connecting,this.send=()=>{},this.url=null,this.url=r,this.close=o.close}}class _u extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ke(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Nv extends _u{constructor(r,n){super(r),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ru extends _u{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}var Cv=function(s,r,n,o){function a(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(v){try{y(o.next(v))}catch(w){d(w)}}function p(v){try{y(o.throw(v))}catch(w){d(w)}}function y(v){v.done?u(v.value):a(v.value).then(m,p)}y((o=o.apply(s,r||[])).next())})};const Bh=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>Ar(async()=>{const{default:o}=await Promise.resolve().then(()=>Qn);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)},Pv=()=>Cv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ar(()=>Promise.resolve().then(()=>Qn),void 0)).Response:Response}),nu=s=>{if(Array.isArray(s))return s.map(n=>nu(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,o])=>{const a=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[a]=nu(o)}),r};var ln=function(s,r,n,o){function a(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(v){try{y(o.next(v))}catch(w){d(w)}}function p(v){try{y(o.throw(v))}catch(w){d(w)}}function y(v){v.done?u(v.value):a(v.value).then(m,p)}y((o=o.apply(s,r||[])).next())})};const Il=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Tv=(s,r,n)=>ln(void 0,void 0,void 0,function*(){const o=yield Pv();s instanceof o&&!(n!=null&&n.noResolveJson)?s.json().then(a=>{r(new Nv(Il(a),s.status||500))}).catch(a=>{r(new ru(Il(a),a))}):r(new ru(Il(s),s))}),Ov=(s,r,n,o)=>{const a={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o&&(a.body=JSON.stringify(o)),Object.assign(Object.assign({},a),n))};function ri(s,r,n,o,a,u){return ln(this,void 0,void 0,function*(){return new Promise((d,m)=>{s(n,Ov(r,o,a,u)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>Tv(p,m,o))})})}function Eo(s,r,n,o){return ln(this,void 0,void 0,function*(){return ri(s,"GET",r,n,o)})}function Pr(s,r,n,o,a){return ln(this,void 0,void 0,function*(){return ri(s,"POST",r,o,a,n)})}function Rv(s,r,n,o,a){return ln(this,void 0,void 0,function*(){return ri(s,"PUT",r,o,a,n)})}function Dv(s,r,n,o){return ln(this,void 0,void 0,function*(){return ri(s,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function Wh(s,r,n,o,a){return ln(this,void 0,void 0,function*(){return ri(s,"DELETE",r,o,a,n)})}var gt=function(s,r,n,o){function a(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(v){try{y(o.next(v))}catch(w){d(w)}}function p(v){try{y(o.throw(v))}catch(w){d(w)}}function y(v){v.done?u(v.value):a(v.value).then(m,p)}y((o=o.apply(s,r||[])).next())})};const Av={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lv{constructor(r,n={},o,a){this.url=r,this.headers=n,this.bucketId=o,this.fetch=Bh(a)}uploadOrUpdate(r,n,o,a){return gt(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Jf),a);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=o,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),a!=null&&a.headers&&(m=Object.assign(Object.assign({},m),a.headers));const y=this._removeEmptyFolders(n),v=this._getFinalPath(y),w=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:r,body:u,headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{})),S=yield w.json();return w.ok?{data:{path:y,id:S.Id,fullPath:S.Key},error:null}:{data:null,error:S}}catch(u){if(Ke(u))return{data:null,error:u};throw u}})}upload(r,n,o){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,o)})}uploadToSignedUrl(r,n,o,a){return gt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",n);try{let p;const y=Object.assign({upsert:Jf.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",y.cacheControl)):(p=o,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const w=yield this.fetch(m.toString(),{method:"PUT",body:p,headers:v}),S=yield w.json();return w.ok?{data:{path:u,fullPath:S.Key},error:null}:{data:null,error:S}}catch(p){if(Ke(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,n){return gt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const u=yield Pr(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),d=new URL(this.url+u.url),m=d.searchParams.get("token");if(!m)throw new _u("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:m},error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}update(r,n,o){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,o)})}move(r,n,o){return gt(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}copy(r,n,o){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield Pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}createSignedUrl(r,n,o){return gt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r),u=yield Pr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}createSignedUrls(r,n,o){return gt(this,void 0,void 0,function*(){try{const a=yield Pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}download(r,n){return gt(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"";try{const m=this._getFinalPath(r);return{data:yield(yield Eo(this.fetch,`${this.url}/${a}/${m}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(Ke(m))return{data:null,error:m};throw m}})}info(r){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const o=yield Eo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:nu(o),error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}exists(r){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield Dv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Ke(o)&&o instanceof ru){const a=o.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,n){const o=this._getFinalPath(r),a=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&a.push(u);const m=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&a.push(p);let y=a.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${o}${y}`)}}}remove(r){return gt(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}list(r,n,o){return gt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Av),n),{prefix:r||""});return{data:yield Pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const $v="2.7.1",Iv={"X-Client-Info":`storage-js/${$v}`};var Fn=function(s,r,n,o){function a(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(v){try{y(o.next(v))}catch(w){d(w)}}function p(v){try{y(o.throw(v))}catch(w){d(w)}}function y(v){v.done?u(v.value):a(v.value).then(m,p)}y((o=o.apply(s,r||[])).next())})};class Mv{constructor(r,n={},o){this.url=r,this.headers=Object.assign(Object.assign({},Iv),n),this.fetch=Bh(o)}listBuckets(){return Fn(this,void 0,void 0,function*(){try{return{data:yield Eo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}getBucket(r){return Fn(this,void 0,void 0,function*(){try{return{data:yield Eo(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}createBucket(r,n={public:!1}){return Fn(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}updateBucket(r,n){return Fn(this,void 0,void 0,function*(){try{return{data:yield Rv(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}emptyBucket(r){return Fn(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Fn(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}}class Fv extends Mv{constructor(r,n={},o){super(r,n,o)}from(r){return new Lv(this.url,this.headers,r,this.fetch)}}const Uv="2.49.4";let qs="";typeof Deno<"u"?qs="deno":typeof document<"u"?qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qs="react-native":qs="node";const zv={"X-Client-Info":`supabase-js-${qs}/${Uv}`},Bv={headers:zv},Wv={schema:"public"},Hv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qv={};var Vv=function(s,r,n,o){function a(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(v){try{y(o.next(v))}catch(w){d(w)}}function p(v){try{y(o.throw(v))}catch(w){d(w)}}function y(v){v.done?u(v.value):a(v.value).then(m,p)}y((o=o.apply(s,r||[])).next())})};const Yv=s=>{let r;return s?r=s:typeof fetch>"u"?r=Rh:r=fetch,(...n)=>r(...n)},Kv=()=>typeof Headers>"u"?Dh:Headers,Gv=(s,r,n)=>{const o=Yv(n),a=Kv();return(u,d)=>Vv(void 0,void 0,void 0,function*(){var m;const p=(m=yield r())!==null&&m!==void 0?m:s;let y=new a(d==null?void 0:d.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),o(u,Object.assign(Object.assign({},d),{headers:y}))})};var Qv=function(s,r,n,o){function a(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(v){try{y(o.next(v))}catch(w){d(w)}}function p(v){try{y(o.throw(v))}catch(w){d(w)}}function y(v){v.done?u(v.value):a(v.value).then(m,p)}y((o=o.apply(s,r||[])).next())})};function Jv(s){return s.replace(/\/$/,"")}function Xv(s,r){const{db:n,auth:o,realtime:a,global:u}=s,{db:d,auth:m,realtime:p,global:y}=r,v={db:Object.assign(Object.assign({},d),n),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},p),a),global:Object.assign(Object.assign({},y),u),accessToken:()=>Qv(this,void 0,void 0,function*(){return""})};return s.accessToken?v.accessToken=s.accessToken:delete v.accessToken,v}const Hh="2.69.1",qn=30*1e3,su=3,Ml=su*qn,Zv="http://localhost:9999",ey="supabase.auth.token",ty={"X-Client-Info":`gotrue-js/${Hh}`},iu="X-Supabase-Api-Version",qh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ry=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ny=6e5;class Su extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function he(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class sy extends Su{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function iy(s){return he(s)&&s.name==="AuthApiError"}class Vh extends Su{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class $r extends Su{constructor(r,n,o,a){super(r,o,a),this.name=n,this.status=o}}class Nr extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oy(s){return he(s)&&s.name==="AuthSessionMissingError"}class Fl extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class go extends $r{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class vo extends $r{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ay(s){return he(s)&&s.name==="AuthImplicitGrantRedirectError"}class Xf extends $r{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ou extends $r{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Ul(s){return he(s)&&s.name==="AuthRetryableFetchError"}class Zf extends $r{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Gs extends $r{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const eh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),th=` 	
\r=`.split(""),ly=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<th.length;r+=1)s[th[r].charCodeAt(0)]=-2;for(let r=0;r<eh.length;r+=1)s[eh[r].charCodeAt(0)]=r;return s})();function Yh(s,r,n){const o=ly[s];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function rh(s){const r=[],n=d=>{r.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},u=d=>{dy(d,o,n)};for(let d=0;d<s.length;d+=1)Yh(s.charCodeAt(d),a,u);return r.join("")}function uy(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function cy(s,r){for(let n=0;n<s.length;n+=1){let o=s.charCodeAt(n);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(s.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}uy(o,r)}}function dy(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function fy(s){const r=[],n={queue:0,queuedBits:0},o=a=>{r.push(a)};for(let a=0;a<s.length;a+=1)Yh(s.charCodeAt(a),n,o);return new Uint8Array(r)}function hy(s){const r=[];return cy(s,n=>r.push(n)),new Uint8Array(r)}function my(s){return Math.round(Date.now()/1e3)+s}function py(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s=="x"?r:r&3|8).toString(16)})}const Wt=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},Qs=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function gy(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,u)=>{r[u]=a})}catch{}return n.searchParams.forEach((o,a)=>{r[a]=o}),r}const Kh=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>Ar(async()=>{const{default:o}=await Promise.resolve().then(()=>Qn);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)},vy=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Gh=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},yo=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wo=async(s,r)=>{await s.removeItem(r)};class Ro{constructor(){this.promise=new Ro.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Ro.promiseConstructor=Promise;function zl(s){const r=s.split(".");if(r.length!==3)throw new Gs("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!ry.test(r[o]))throw new Gs("JWT not in base64url format");return{header:JSON.parse(rh(r[0])),payload:JSON.parse(rh(r[1])),signature:fy(r[2]),raw:{header:r[0],payload:r[1]}}}async function yy(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function wy(s,r){return new Promise((o,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await s(u);if(!r(u,null,d)){o(d);return}}catch(d){if(!r(u,d)){a(d);return}}})()})}function xy(s){return("0"+s.toString(16)).substr(-2)}function _y(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let a="";for(let u=0;u<56;u++)a+=n.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(r),Array.from(r,xy).join("")}async function Sy(s){const n=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(o);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}async function by(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await Sy(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Un(s,r,n=!1){const o=_y();let a=o;n&&(a+="/PASSWORD_RECOVERY"),await Gh(s,`${r}-code-verifier`,a);const u=await by(o);return[u,o===u?"plain":"s256"]}const ky=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jy(s){const r=s.headers.get(iu);if(!r||!r.match(ky))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Ey(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Ny(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Cy=function(s,r){var n={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(s);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(s,o[a])&&(n[o[a]]=s[o[a]]);return n};const Jr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Py=[502,503,504];async function nh(s){var r;if(!vy(s))throw new ou(Jr(s),0);if(Py.includes(s.status))throw new ou(Jr(s),s.status);let n;try{n=await s.json()}catch(u){throw new Vh(Jr(u),u)}let o;const a=jy(s);if(a&&a.getTime()>=qh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Zf(Jr(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new Nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Zf(Jr(n),s.status,n.weak_password.reasons);throw new sy(Jr(n),s.status||500,o)}const Ty=(s,r,n,o)=>{const a={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),n))};async function ge(s,r,n,o){var a;const u=Object.assign({},o==null?void 0:o.headers);u[iu]||(u[iu]=qh["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await Oy(s,r,n+m,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function Oy(s,r,n,o,a,u){const d=Ty(r,o,a,u);let m;try{m=await s(n,Object.assign({},d))}catch(p){throw console.error(p),new ou(Jr(p),0)}if(m.ok||await nh(m),o!=null&&o.noResolveJson)return m;try{return await m.json()}catch(p){await nh(p)}}function Cr(s){var r;let n=null;Ly(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=my(s.expires_in)));const o=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:o},error:null}}function sh(s){const r=Cr(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Tr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Ry(s){return{data:s,error:null}}function Dy(s){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:a,verification_type:u}=s,d=Cy(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:n,hashed_token:o,redirect_to:a,verification_type:u},p=Object.assign({},d);return{data:{properties:m,user:p},error:null}}function Ay(s){return s}function Ly(s){return s.access_token&&s.refresh_token&&s.expires_in}var $y=function(s,r){var n={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(s);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(s,o[a])&&(n[o[a]]=s[o[a]]);return n};class Iy{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=Kh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,n="global"){try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tr})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=$y(r,["options"]),a=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Dy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Tr})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,a,u,d,m,p;try{const y={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(a=r==null?void 0:r.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Ay});if(v.error)throw v.error;const w=await v.json(),S=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(N=>{const T=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(N.split(";")[1].split("=")[1]);y[`${C}Page`]=T}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(he(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Tr})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Tr})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tr})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){try{const{data:n,error:o}=await ge(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:o}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(r){try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}const My={getItem:s=>Qs()?globalThis.localStorage.getItem(s):null,setItem:(s,r)=>{Qs()&&globalThis.localStorage.setItem(s,r)},removeItem:s=>{Qs()&&globalThis.localStorage.removeItem(s)}};function ih(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}function Fy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zn={debug:!!(globalThis&&Qs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Uy extends Qh{}async function zy(s,r,n){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,a.name);try{return await n()}finally{zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,a.name)}}else{if(r===0)throw zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Uy(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(zn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Fy();const By={url:Zv,storageKey:ey,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ty,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function oh(s,r,n){return await n()}class Zs{constructor(r){var n,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zs.nextInstanceID,Zs.nextInstanceID+=1,this.instanceID>0&&Wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},By),r);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Iy({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Kh(a.fetch),this.lock=a.lock||oh,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zy:this.lock=oh,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Qs()?this.storage=My:(this.memoryStorage={},this.storage=ih(this.memoryStorage)):(this.memoryStorage={},this.storage=ih(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hh}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=gy(window.location.href);let o="none";if(this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce"),Wt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),ay(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:m}=a;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?{error:n}:{error:new Vh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,a;try{const u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=r==null?void 0:r.options)===null||a===void 0?void 0:a.captchaToken}},xform:Cr}),{data:d,error:m}=u;if(m||!d)return{data:{user:null,session:null},error:m};const p=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var n,o,a;try{let u;if("email"in r){const{email:v,password:w,options:S}=r;let E=null,N=null;this.flowType==="pkce"&&([E,N]=await Un(this.storage,this.storageKey)),u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:v,password:w,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:E,code_challenge_method:N},xform:Cr})}else if("phone"in r){const{phone:v,password:w,options:S}=r;u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(o=S==null?void 0:S.data)!==null&&o!==void 0?o:{},channel:(a=S==null?void 0:S.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Cr})}else throw new go("You must provide either an email or phone number and a password");const{data:d,error:m}=u;if(m||!d)return{data:{user:null,session:null},error:m};const p=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:m}=r;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:sh})}else if("phone"in r){const{phone:u,password:d,options:m}=r;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:sh})}else throw new go("You must provide either an email or phone number and a password");const{data:o,error:a}=n;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Fl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,o,a,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async _exchangeCodeForSession(r){const n=await yo(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(n??"").split("/");try{const{data:u,error:d}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Cr});if(await wo(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Fl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:d})}catch(u){if(he(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:a,access_token:u,nonce:d}=r,m=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cr}),{data:p,error:y}=m;return y?{data:{user:null,session:null},error:y}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Fl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:y})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,o,a,u,d;try{if("email"in r){const{email:m,options:p}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Un(this.storage,this.storageKey));const{error:w}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in r){const{phone:m,options:p}=r,{data:y,error:v}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:v}}throw new go("You must provide either an email or phone number.")}catch(m){if(he(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var n,o;try{let a,u;"options"in r&&(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:m}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:Cr});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,y=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(r){var n,o,a;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await Un(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=r==null?void 0:r.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:Ry})}catch(u){if(he(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new Nr;const{error:a}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:a,options:u}=r,{error:d}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in r){const{phone:o,type:a,options:u}=r,{data:d,error:m}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m}}throw new go("You must provide either an email or phone number and a type")}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await yo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Ml:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.storage.isServer){let d=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,y,v)=>(!d&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,y,v))})}return{data:{session:r},error:null}}const{session:a,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Tr}):await this._useSession(async n=>{var o,a,u;const{data:d,error:m}=n;if(m)throw m;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nr}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:Tr})})}catch(n){if(he(n))return oy(n)&&(await this._removeSession(),await wo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:a,error:u}=o;if(u)throw u;if(!a.session)throw new Nr;const d=a.session;let m=null,p=null;this.flowType==="pkce"&&r.email!=null&&([m,p]=await Un(this.storage,this.storageKey));const{data:y,error:v}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:p}),jwt:d.access_token,xform:Tr});if(v)throw v;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(o){if(he(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Nr;const n=Date.now()/1e3;let o=n,a=!0,u=null;const{payload:d}=zl(r.access_token);if(d.exp&&(o=d.exp,a=o<=n),a){const{session:m,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(he(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:d,error:m}=n;if(m)throw m;r=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new Nr;const{session:a,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!Wt())throw new vo("No browser detected.");if(r.error||r.error_description||r.error_code)throw new vo(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Xf("No code detected.");const{data:H,error:z}=await this._exchangeCodeForSession(r.code);if(z)throw z;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:u,refresh_token:d,expires_in:m,expires_at:p,token_type:y}=r;if(!u||!m||!d||!y)throw new vo("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(m);let S=v+w;p&&(S=parseInt(p));const E=S-v;E*1e3<=qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const N=S-w;v-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,S,v):v-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,S,v);const{data:T,error:C}=await this._getUser(u);if(C)throw C;const L={provider_token:o,provider_refresh_token:a,access_token:u,expires_in:w,expires_at:S,refresh_token:d,token_type:y,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:r.type},error:null}}catch(o){if(he(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await yo(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:a,error:u}=n;if(u)return{error:u};const d=(o=a.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:m}=await this.admin.signOut(d,r);if(m&&!(iy(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await wo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=py(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,a;try{const{data:{session:u},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await Un(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(he(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async linkIdentity(r){var n;try{const{data:o,error:a}=await this._useSession(async u=>{var d,m,p,y,v;const{data:w,error:S}=u;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return Wt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:r.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(he(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,a;const{data:u,error:d}=n;if(d)throw d;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await wy(async a=>(a>0&&await yy(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Cr})),(a,u)=>{const d=200*Math.pow(2,a);return u&&Ul(u)&&Date.now()+d-o<qn})}catch(o){if(this._debug(n,"error",o),he(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),Wt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await yo(this.storage,this.storageKey);if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ml;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ml}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Ul(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new Nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ro;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new Nr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={session:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(a,"error",u),he(u)){const d={session:null,error:u};return Ul(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,n,o=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,n)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Gh(this.storage,this.storageKey,r)}async _removeSession(){this._debug("#_removeSession()"),await wo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),qn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-r)/qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${qn}ms, refresh threshold is ${su} ticks`),a<=su&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Qh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const a=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await Un(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});a.push(m.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);a.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:a,error:u}=n;return u?{data:null,error:u}:await ge(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,a;const{data:u,error:d}=n;if(d)return{data:null,error:d};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:y}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return y?{data:null,error:y}:(r.factorType==="totp"&&(!((a=p==null?void 0:p.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const{data:d,error:m}=await ge(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:m})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:u}=n;return u?{data:null,error:u}:await ge(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o=(r==null?void 0:r.factors)||[],a=o.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=o.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:o,totp:a,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,o;const{data:{session:a},error:u}=r;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=zl(a.access_token);let m=null;d.aal&&(m=d.aal);let p=m;((o=(n=a.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const v=d.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(d=>d.kid===r);if(o||(o=this.jwks.keys.find(d=>d.kid===r),o&&this.jwks_cached_at+ny>Date.now()))return o;const{data:a,error:u}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!a.keys||a.keys.length===0)throw new Gs("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),o=a.keys.find(d=>d.kid===r),!o)throw new Gs("No matching signing key found in JWKS");return o}async getClaims(r,n={keys:[]}){try{let o=r;if(!o){const{data:E,error:N}=await this.getSession();if(N||!E.session)return{data:null,error:N};o=E.session.access_token}const{header:a,payload:u,signature:d,raw:{header:m,payload:p}}=zl(o);if(Ey(u.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:E}=await this.getUser(o);if(E)throw E;return{data:{claims:u,header:a,signature:d},error:null}}const y=Ny(a.alg),v=await this.fetchJwk(a.kid,n),w=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,d,hy(`${m}.${p}`)))throw new Gs("Invalid JWT signature");return{data:{claims:u,header:a,signature:d},error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}}}Zs.nextInstanceID=0;const Wy=Zs;class Hy extends Wy{constructor(r){super(r)}}var qy=function(s,r,n,o){function a(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(v){try{y(o.next(v))}catch(w){d(w)}}function p(v){try{y(o.throw(v))}catch(w){d(w)}}function y(v){v.done?u(v.value):a(v.value).then(m,p)}y((o=o.apply(s,r||[])).next())})};class Vy{constructor(r,n,o){var a,u,d;if(this.supabaseUrl=r,this.supabaseKey=n,!r)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const m=Jv(r);this.realtimeUrl=`${m}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${m}/auth/v1`,this.storageUrl=`${m}/storage/v1`,this.functionsUrl=`${m}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:Wv,realtime:qv,auth:Object.assign(Object.assign({},Hv),{storageKey:p}),global:Bv},v=Xv(o??{},y);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=v.global.headers)!==null&&u!==void 0?u:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=Gv(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new cv(`${m}/rest/v1`,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new X0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fv(this.storageUrl,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},o={}){return this.rest.rpc(r,n,o)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,n;return qy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(n=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:a,storageKey:u,flowType:d,lock:m,debug:p},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hy({url:this.authUrl,headers:Object.assign(Object.assign({},w),y),storageKey:u,autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:a,flowType:d,lock:m,debug:p,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new jv(this.realtimeUrl,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(r,n,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yy=(s,r,n)=>new Vy(s,r,n),Ky="https://yhlptjvbmxbvwoegeuus.supabase.co",Gy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlobHB0anZibXhidndvZWdldXVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYzODU5MDcsImV4cCI6MjA2MTk2MTkwN30.GPGM0t4JZH07giV1T-AGUzj9LyIqSAthaJSODtqpuiM",ce=Yy(Ky,Gy,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"auth.token",flowType:"pkce",storage:window.localStorage}}),Jh=_.createContext({isAuthenticated:!1,userRole:null,user:null,login:async()=>({userRole:null}),logout:async()=>{},refreshUserRole:()=>Promise.resolve()}),Ht=()=>_.useContext(Jh),Qy=({children:s})=>{const[r,n]=_.useState(!1),[o,a]=_.useState(null),[u,d]=_.useState(null),[m,p]=_.useState(!1),y=()=>{console.log("Clearing auth state"),n(!1),d(null),a(null)},v=async N=>{try{console.log("Fetching user role for:",N);const T=localStorage.getItem(`user_role_${N}`);if(T==="patient"||T==="staff")return console.log("Found cached role:",T),T;const{data:C,error:L}=await ce.from("user_role").select("role_id").eq("user_id",N);if(L)return console.error("Error fetching user role:",L),null;if(!C||C.length===0)return console.log("No role found for user"),null;const H=Math.max(...C.map(J=>J.role_id));console.log("Highest role ID:",H);let z=null;return H===1?z="patient":H>=2&&H<=8&&(z="staff"),z&&localStorage.setItem(`user_role_${N}`,z),console.log("Determined role:",z),z}catch(T){return console.error("Error in fetchUserRole:",T),null}},w=async()=>{if(!(u!=null&&u.id)){console.log("Cannot refresh role: no user ID");return}console.log("Refreshing user role");const N=await v(u.id);console.log("Refreshed role:",N),a(N)};_.useEffect(()=>{let N=!0;(async()=>{try{console.log("Initializing auth state");const{data:{session:L}}=await ce.auth.getSession();if(L!=null&&L.user&&N){console.log("Found existing session"),n(!0),d(L.user);const H=await v(L.user.id);console.log("Initial role:",H),N&&a(H)}else console.log("No session found"),y()}catch(L){console.error("Error initializing auth:",L),y()}finally{N&&p(!0)}})();const{data:{subscription:C}}=ce.auth.onAuthStateChange(async(L,H)=>{if(console.log("Auth state changed:",L),H!=null&&H.user&&N){console.log("Session exists, updating state"),n(!0),d(H.user);const z=await v(H.user.id);console.log("Updated role:",z),N&&a(z)}else console.log("No session, clearing state"),y()});return()=>{console.log("Cleaning up auth subscriptions"),N=!1,C.unsubscribe()}},[]);const S=async(N,T)=>{try{console.log("Attempting login");const{data:C,error:L}=await ce.auth.signInWithPassword({email:N,password:T});if(L)throw L;if(!C.user)throw new Error("No user returned from login");console.log("Login successful, fetching role");const H=await v(C.user.id);return console.log("Login complete, role:",H),{userRole:H}}catch(C){throw console.error("Login error:",C),C}},E=async()=>{console.log("Logging out"),u!=null&&u.id&&localStorage.removeItem(`user_role_${u.id}`);const{error:N}=await ce.auth.signOut();N&&console.error("Error during logout:",N),y()};return m?h.jsx(Jh.Provider,{value:{isAuthenticated:r,userRole:o,user:u,login:S,logout:E,refreshUserRole:w},children:s}):null};function Jy(){const[s,r]=_.useState(!1),{isAuthenticated:n,userRole:o,logout:a}=Ht(),u=sr(),d=async()=>{await a(),u("/"),r(!1)},m=()=>o==="patient"?h.jsxs(h.Fragment,{children:[h.jsx(be,{to:"/patient-home",className:"text-gray-700 hover:text-blue-600",children:"Home"}),h.jsx(be,{to:"/appointments",className:"text-gray-700 hover:text-blue-600",children:"Appointments"}),h.jsx(be,{to:"/chat",className:"text-gray-700 hover:text-blue-600",children:"Chat"}),h.jsx(be,{to:"/profile",className:"text-gray-700 hover:text-blue-600",children:"Profile"})]}):h.jsxs(h.Fragment,{children:[h.jsx(be,{to:"/staff-dashboard",className:"text-gray-700 hover:text-blue-600",children:"Dashboard"}),h.jsx(be,{to:"/chat",className:"text-gray-700 hover:text-blue-600",children:"Chat"}),h.jsx(be,{to:"/appointments",className:"text-gray-700 hover:text-blue-600",children:"Appointments"}),h.jsx(be,{to:"/schedule",className:"text-gray-700 hover:text-blue-600",children:"Schedule"}),h.jsx(be,{to:"/profile",className:"text-gray-700 hover:text-blue-600",children:"Profile"})]}),p=()=>n?h.jsx("button",{onClick:d,className:"bg-gray-100 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-200",children:"Log Out"}):h.jsxs(h.Fragment,{children:[h.jsx(be,{to:"/login",className:"bg-gray-100 px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-200",children:"Log In"}),h.jsx(be,{to:"/signup",className:"bg-blue-600 px-4 py-2 rounded-lg text-white hover:bg-blue-700",children:"Sign Up"})]});return h.jsxs("nav",{className:"bg-white shadow-sm",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between h-16",children:[h.jsx("div",{className:"flex items-center",children:h.jsxs(be,{to:"/",className:"flex items-center",children:[h.jsx(vu,{className:"h-8 w-8 text-blue-600"}),h.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"SmartMed Systems"})]})}),h.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[!n&&h.jsxs(h.Fragment,{children:[h.jsx(be,{to:"/",className:"text-gray-700 hover:text-blue-600",children:"Home"}),h.jsx(be,{to:"/about",className:"text-gray-700 hover:text-blue-600",children:"About Us"}),h.jsx(be,{to:"/how-it-works",className:"text-gray-700 hover:text-blue-600",children:"How It Works"})]}),n&&m(),p()]}),h.jsx("div",{className:"md:hidden flex items-center",children:h.jsx("button",{onClick:()=>r(!s),className:"text-gray-500",children:s?h.jsx(rn,{className:"h-6 w-6"}):h.jsx(z0,{className:"h-6 w-6"})})})]})}),s&&h.jsx("div",{className:"md:hidden",children:h.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:n?h.jsxs(h.Fragment,{children:[o==="patient"?h.jsxs(h.Fragment,{children:[h.jsx(be,{to:"/patient-home",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Home"}),h.jsx(be,{to:"/appointments",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Appointments"}),h.jsx(be,{to:"/chat",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Chat"})]}):h.jsxs(h.Fragment,{children:[h.jsx(be,{to:"/staff-dashboard",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Dashboard"}),h.jsx(be,{to:"/chat",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Chat"}),h.jsx(be,{to:"/appointments",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Appointments"}),h.jsx(be,{to:"/schedule",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Schedule"})]}),h.jsx(be,{to:"/profile",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Profile"}),h.jsx("button",{onClick:d,className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Log Out"})]}):h.jsxs(h.Fragment,{children:[h.jsx(be,{to:"/",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Home"}),h.jsx(be,{to:"/about",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"About Us"}),h.jsx(be,{to:"/how-it-works",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"How It Works"}),h.jsx(be,{to:"/login",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Log In"}),h.jsx(be,{to:"/signup",className:"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Sign Up"})]})})})]})}function Bn({children:s,requiredRole:r}){const{isAuthenticated:n,userRole:o,refreshUserRole:a}=Ht(),u=sr();return _.useEffect(()=>{(async()=>{if(!n){u("/login");return}o||await a(),r&&o!==r&&u(o==="patient"?"/patient-home":"/staff-dashboard")})()},[n,o,r,u,a]),!n||r&&o!==r?null:h.jsx(h.Fragment,{children:s})}function Xy(){const s=sr(),{login:r}=Ht(),[n,o]=_.useState(!1),[a,u]=_.useState(!1),[d,m]=_.useState({email:"",password:""}),[p,y]=_.useState({email:"",password:"",submit:""}),v=()=>{let E=!0;const N={email:"",password:"",submit:""};return d.email?/\S+@\S+\.\S+/.test(d.email)||(N.email="Please enter a valid email",E=!1):(N.email="Email is required",E=!1),d.password||(N.password="Password is required",E=!1),y(N),E},w=async E=>{if(E.preventDefault(),console.log("Login form submitted"),!v()){console.log("Form validation failed");return}u(!0),y(N=>({...N,submit:""}));try{console.log("Attempting login with email:",d.email);const{userRole:N}=await r(d.email,d.password);console.log("Login successful, user role:",N),N?N==="patient"?s("/patient-home"):N==="staff"&&s("/staff-dashboard"):s("/role-selection")}catch(N){console.error("Login error:",N),y(T=>({...T,submit:N instanceof Error?N.message:"Invalid email or password"}))}finally{u(!1)}},S=E=>{const{name:N,value:T}=E.target;m(C=>({...C,[N]:T})),y(C=>({...C,[N]:"",submit:""}))};return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(vu,{className:"h-12 w-12 text-blue-600"})}),h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),h.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",h.jsx("button",{onClick:()=>s("/signup"),className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),h.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:h.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[p.submit&&h.jsx("div",{className:"mb-4 bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:p.submit}),h.jsxs("form",{className:"space-y-6",onSubmit:w,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),h.jsxs("div",{className:"mt-1",children:[h.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,disabled:a,className:`appearance-none block w-full px-3 py-2 border ${p.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,value:d.email,onChange:S}),p.email&&h.jsx("p",{className:"mt-2 text-sm text-red-600",children:p.email})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),h.jsxs("div",{className:"mt-1 relative",children:[h.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",required:!0,disabled:a,className:`appearance-none block w-full px-3 py-2 border ${p.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,value:d.password,onChange:S}),h.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!n),children:n?h.jsx(Jl,{className:"h-5 w-5 text-gray-400"}):h.jsx(Xl,{className:"h-5 w-5 text-gray-400"})}),p.password&&h.jsx("p",{className:"mt-2 text-sm text-red-600",children:p.password})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),h.jsx("div",{className:"text-sm",children:h.jsx("button",{type:"button",onClick:()=>s("/forgot-password"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Signing in...":"Sign in"})})]})]})})]})}function Zy({onSignupSuccess:s}){const r=sr(),[n,o]=_.useState(!1),[a,u]=_.useState(!1),[d,m]=_.useState(!1),[p,y]=_.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[v,w]=_.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",submit:""}),S=()=>{let L=!0;const H={firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",submit:""};return p.firstName||(H.firstName="First name is required",L=!1),p.lastName||(H.lastName="Last name is required",L=!1),p.email?/\S+@\S+\.\S+/.test(p.email)||(H.email="Please enter a valid email",L=!1):(H.email="Email is required",L=!1),p.phone?/^\+?[\d\s-]{10,}$/.test(p.phone)||(H.phone="Please enter a valid phone number",L=!1):(H.phone="Phone number is required",L=!1),p.password?/^(?=.*[A-Z])(?=.*\d).{8,}$/.test(p.password)||(H.password="Password must be at least 8 characters with one uppercase letter and one number",L=!1):(H.password="Password is required",L=!1),p.confirmPassword?p.password!==p.confirmPassword&&(H.confirmPassword="Passwords do not match",L=!1):(H.confirmPassword="Please confirm your password",L=!1),w(H),L},E=async L=>{var H;if(L.preventDefault(),!!S()){m(!0),w(z=>({...z,submit:"",email:""}));try{const{data:z,error:J}=await ce.from("users").select("email").eq("email",p.email);if(J)throw J;if(z&&z.length>0){w(Ee=>({...Ee,email:"This email is already registered. Please use a different email or log in.",submit:""})),m(!1);return}const{data:se,error:ve}=await ce.auth.signUp({email:p.email,password:p.password,options:{data:{first_name:p.firstName,last_name:p.lastName,phone_number:p.phone}}});if(ve)throw ve;if(!((H=se.user)!=null&&H.id))throw new Error("User ID not found after signup");const{error:ye}=await ce.from("users").insert({user_id:se.user.id,first_name:p.firstName,last_name:p.lastName,email:p.email,phone_number:p.phone,password_hash:"HASHED_"+p.password,created_at:new Date().toISOString()});if(ye)throw ye;s()}catch(z){console.error("Signup error:",z),w(J=>({...J,submit:z instanceof Error?z.message:"An error occurred during signup"}))}finally{m(!1)}}},N=L=>{const{name:H,value:z}=L.target;y(J=>({...J,[H]:z}))},C=(L=>L?L.length<8?"weak":/^(?=.*[A-Z])(?=.*\d).{8,}$/.test(L)?"strong":"medium":"")(p.password);return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(vu,{className:"h-12 w-12 text-blue-600"})}),h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),h.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",h.jsx("button",{onClick:()=>r("/login"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})]}),h.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:h.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[v.submit&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:v.submit}),h.jsxs("form",{className:"space-y-6",onSubmit:E,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),h.jsxs("div",{className:"mt-1",children:[h.jsx("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,disabled:d,className:`appearance-none block w-full px-3 py-2 border ${v.firstName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,value:p.firstName,onChange:N}),v.firstName&&h.jsx("p",{className:"mt-2 text-sm text-red-600",children:v.firstName})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),h.jsxs("div",{className:"mt-1",children:[h.jsx("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,disabled:d,className:`appearance-none block w-full px-3 py-2 border ${v.lastName?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,value:p.lastName,onChange:N}),v.lastName&&h.jsx("p",{className:"mt-2 text-sm text-red-600",children:v.lastName})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),h.jsxs("div",{className:"mt-1",children:[h.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,disabled:d,className:`appearance-none block w-full px-3 py-2 border ${v.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,value:p.email,onChange:N}),v.email&&h.jsx("p",{className:"mt-2 text-sm text-red-600",children:v.email})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),h.jsxs("div",{className:"mt-1",children:[h.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,disabled:d,className:`appearance-none block w-full px-3 py-2 border ${v.phone?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,value:p.phone,onChange:N}),v.phone&&h.jsx("p",{className:"mt-2 text-sm text-red-600",children:v.phone})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),h.jsxs("div",{className:"mt-1 relative",children:[h.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,disabled:d,className:`appearance-none block w-full px-3 py-2 border ${v.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,value:p.password,onChange:N}),h.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!n),children:n?h.jsx(Jl,{className:"h-5 w-5 text-gray-400"}):h.jsx(Xl,{className:"h-5 w-5 text-gray-400"})}),C&&h.jsxs("div",{className:"mt-2",children:[h.jsx("div",{className:"h-2 rounded-full bg-gray-200",children:h.jsx("div",{className:`h-full rounded-full ${C==="weak"?"w-1/3 bg-red-500":C==="medium"?"w-2/3 bg-yellow-500":"w-full bg-green-500"}`})}),h.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Password strength: ",C]})]}),v.password&&h.jsx("p",{className:"mt-2 text-sm text-red-600",children:v.password})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),h.jsxs("div",{className:"mt-1 relative",children:[h.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,disabled:d,className:`appearance-none block w-full px-3 py-2 border ${v.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,value:p.confirmPassword,onChange:N}),h.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!a),children:a?h.jsx(Jl,{className:"h-5 w-5 text-gray-400"}):h.jsx(Xl,{className:"h-5 w-5 text-gray-400"})}),v.confirmPassword&&h.jsx("p",{className:"mt-2 text-sm text-red-600",children:v.confirmPassword})]})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:d,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${d?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:d?"Creating Account...":"Create Account"})})]})]})})]})}function ew(){const{user:s,refreshUserRole:r}=Ht(),[n,o]=_.useState(""),[a,u]=_.useState(!1),d=sr(),m=async p=>{try{if(u(!0),o(""),!(s!=null&&s.id))throw new Error("User not found");const y=p==="patient"?1:2,{data:v,error:w}=await ce.from("user_role").select("role_id").eq("user_id",s.id);if(w)throw new Error("Failed to fetch existing roles");if(!v.some(S=>S.role_id===y)){const{error:S}=await ce.from("user_role").insert({role_id:y,user_id:s.id,created_at:new Date().toISOString()});if(S)throw new Error("Failed to update user role")}await r(),d(p==="patient"?"/patient-data":"/staff-data")}catch(y){console.error("Role selection error:",y),o(y instanceof Error?y.message:"Failed to set user role")}finally{u(!1)}};return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Choose your role"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Select how you'll be using SmartMed Systems"})]}),n&&h.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:h.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:h.jsx("span",{className:"block sm:inline",children:n})})}),h.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:h.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:h.jsxs("div",{className:"space-y-6",children:[h.jsx("button",{onClick:()=>m("patient"),disabled:a,className:"w-full flex items-center justify-center px-8 py-6 border-2 border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsxs("div",{className:"text-center",children:[h.jsx(M0,{className:"mx-auto h-12 w-12 text-blue-600"}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"I'm a Patient"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Access your health records, book appointments, and connect with healthcare providers"})]})]})}),h.jsx("button",{onClick:()=>m("staff"),disabled:a,className:"w-full flex items-center justify-center px-8 py-6 border-2 border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsxs("div",{className:"text-center",children:[h.jsx(H0,{className:"mx-auto h-12 w-12 text-blue-600"}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"I'm a Staff Member"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Join our healthcare team to provide care and support to patients"})]})]})})]})})})]})}function tw(){const{user:s}=Ht(),r=sr(),[n,o]=_.useState(!1),[a,u]=_.useState(""),[d,m]=_.useState({date_of_birth:"",gender:"",blood_type:"",insurance_provider:""}),p=["Male","Female","Non-binary","Other","Prefer not to say"],y=["A+","A-","B+","B-","AB+","AB-","O+","O-"],v=async S=>{if(S.preventDefault(),!(s!=null&&s.id)){u("User not found");return}o(!0),u("");try{const E=crypto.randomUUID(),{error:N}=await ce.from("patients").insert({patient_id:E,user_id:s.id,date_of_birth:d.date_of_birth,gender:d.gender,blood_type:d.blood_type,insurance_provider:d.insurance_provider||null});if(N)throw N;r("/patient-home")}catch(E){console.error("Patient registration error:",E),u(E instanceof Error?E.message:"Failed to complete registration")}finally{o(!1)}},w=S=>{const{name:E,value:N}=S.target;m(T=>({...T,[E]:N}))};return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:h.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Complete Your Patient Profile"})}),h.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:h.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a&&h.jsx("div",{className:"mb-4 bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a}),h.jsxs("form",{className:"space-y-6",onSubmit:v,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"date_of_birth",className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),h.jsx("div",{className:"mt-1",children:h.jsx("input",{type:"date",name:"date_of_birth",id:"date_of_birth",required:!0,disabled:n,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.date_of_birth,onChange:w})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Gender"}),h.jsx("div",{className:"mt-1",children:h.jsxs("select",{name:"gender",id:"gender",required:!0,disabled:n,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.gender,onChange:w,children:[h.jsx("option",{value:"",children:"Select gender"}),p.map(S=>h.jsx("option",{value:S.toLowerCase(),children:S},S))]})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"blood_type",className:"block text-sm font-medium text-gray-700",children:"Blood Type"}),h.jsx("div",{className:"mt-1",children:h.jsxs("select",{name:"blood_type",id:"blood_type",required:!0,disabled:n,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.blood_type,onChange:w,children:[h.jsx("option",{value:"",children:"Select blood type"}),y.map(S=>h.jsx("option",{value:S,children:S},S))]})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"insurance_provider",className:"block text-sm font-medium text-gray-700",children:"Insurance Provider (Optional)"}),h.jsx("div",{className:"mt-1",children:h.jsx("input",{type:"text",name:"insurance_provider",id:"insurance_provider",disabled:n,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.insurance_provider,onChange:w})})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Completing Profile...":"Complete Profile"})})]})]})})]})}function rw(){const{user:s}=Ht(),r=sr(),[n,o]=_.useState(!1),[a,u]=_.useState(""),[d,m]=_.useState([]),[p,y]=_.useState({staff_role:"",department_id:"",specialization:""}),v=[{id:3,name:"Manager"},{id:4,name:"Doctor"},{id:5,name:"Virtual Nurse"},{id:6,name:"Local Nurse"},{id:7,name:"Receptionist"},{id:8,name:"IT Staff"}];_.useEffect(()=>{(async()=>{const{data:N,error:T}=await ce.from("departments").select("department_id, name").order("name");if(T){console.error("Error fetching departments:",T);return}m(N||[])})()},[]);const w=async E=>{if(E.preventDefault(),!(s!=null&&s.id)){u("User not found");return}o(!0),u("");try{const{error:N}=await ce.from("user_role").insert({role_id:parseInt(p.staff_role),user_id:s.id,created_at:new Date().toISOString()});if(N)throw N;const T=crypto.randomUUID(),{error:C}=await ce.from("staff").insert({staff_id:T,user_id:s.id,department_id:parseInt(p.department_id),specialization:p.specialization||null,hire_date:new Date().toISOString().split("T")[0]});if(C)throw C;r("/staff-dashboard")}catch(N){console.error("Staff registration error:",N),u(N instanceof Error?N.message:"Failed to complete registration")}finally{o(!1)}},S=E=>{const{name:N,value:T}=E.target;y(C=>({...C,[N]:T}))};return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:h.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Complete Your Staff Profile"})}),h.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:h.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a&&h.jsx("div",{className:"mb-4 bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a}),h.jsxs("form",{className:"space-y-6",onSubmit:w,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"staff_role",className:"block text-sm font-medium text-gray-700",children:"Staff Role"}),h.jsx("div",{className:"mt-1",children:h.jsxs("select",{name:"staff_role",id:"staff_role",required:!0,disabled:n,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:p.staff_role,onChange:S,children:[h.jsx("option",{value:"",children:"Select your role"}),v.map(E=>h.jsx("option",{value:E.id,children:E.name},E.id))]})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700",children:"Department"}),h.jsx("div",{className:"mt-1",children:h.jsxs("select",{name:"department_id",id:"department_id",required:!0,disabled:n,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:p.department_id,onChange:S,children:[h.jsx("option",{value:"",children:"Select department"}),d.map(E=>h.jsx("option",{value:E.department_id,children:E.name},E.department_id))]})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"specialization",className:"block text-sm font-medium text-gray-700",children:"Specialization (Optional)"}),h.jsx("div",{className:"mt-1",children:h.jsx("input",{type:"text",name:"specialization",id:"specialization",disabled:n,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:p.specialization,onChange:S})})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Completing Profile...":"Complete Profile"})})]})]})})]})}function ut(s){const r=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&r==="[object Date]"?new s.constructor(+s):typeof s=="number"||r==="[object Number]"||typeof s=="string"||r==="[object String]"?new Date(s):new Date(NaN)}function sn(s,r){return s instanceof Date?new s.constructor(r):new Date(r)}const Xh=6048e5,nw=864e5,Zh=6e4,em=36e5;let sw={};function Do(){return sw}function ei(s,r){var m,p,y,v;const n=Do(),o=(r==null?void 0:r.weekStartsOn)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((v=(y=n.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,a=ut(s),u=a.getDay(),d=(u<o?7:0)+u-o;return a.setDate(a.getDate()-d),a.setHours(0,0,0,0),a}function No(s){return ei(s,{weekStartsOn:1})}function tm(s){const r=ut(s),n=r.getFullYear(),o=sn(s,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const a=No(o),u=sn(s,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const d=No(u);return r.getTime()>=a.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function ah(s){const r=ut(s);return r.setHours(0,0,0,0),r}function lh(s){const r=ut(s),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+s-+n}function iw(s,r){const n=ah(s),o=ah(r),a=+n-lh(n),u=+o-lh(o);return Math.round((a-u)/nw)}function ow(s){const r=tm(s),n=sn(s,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),No(n)}function aw(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function lw(s){if(!aw(s)&&typeof s!="number")return!1;const r=ut(s);return!isNaN(Number(r))}function uw(s){const r=ut(s),n=sn(s,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const cw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dw=(s,r,n)=>{let o;const a=cw[s];return typeof a=="string"?o=a:r===1?o=a.one:o=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Bl(s){return(r={})=>{const n=r.width?String(r.width):s.defaultWidth;return s.formats[n]||s.formats[s.defaultWidth]}}const fw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pw={date:Bl({formats:fw,defaultWidth:"full"}),time:Bl({formats:hw,defaultWidth:"full"}),dateTime:Bl({formats:mw,defaultWidth:"full"})},gw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vw=(s,r,n,o)=>gw[s];function Us(s){return(r,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let a;if(o==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,m=n!=null&&n.width?String(n.width):d;a=s.formattingValues[m]||s.formattingValues[d]}else{const d=s.defaultWidth,m=n!=null&&n.width?String(n.width):s.defaultWidth;a=s.values[m]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(r):r;return a[u]}}const yw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ww={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_w={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kw=(s,r)=>{const n=Number(s),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jw={ordinalNumber:kw,era:Us({values:yw,defaultWidth:"wide"}),quarter:Us({values:ww,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Us({values:xw,defaultWidth:"wide"}),day:Us({values:_w,defaultWidth:"wide"}),dayPeriod:Us({values:Sw,defaultWidth:"wide",formattingValues:bw,defaultFormattingWidth:"wide"})};function zs(s){return(r,n={})=>{const o=n.width,a=o&&s.matchPatterns[o]||s.matchPatterns[s.defaultMatchWidth],u=r.match(a);if(!u)return null;const d=u[0],m=o&&s.parsePatterns[o]||s.parsePatterns[s.defaultParseWidth],p=Array.isArray(m)?Nw(m,w=>w.test(d)):Ew(m,w=>w.test(d));let y;y=s.valueCallback?s.valueCallback(p):p,y=n.valueCallback?n.valueCallback(y):y;const v=r.slice(d.length);return{value:y,rest:v}}}function Ew(s,r){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&r(s[n]))return n}function Nw(s,r){for(let n=0;n<s.length;n++)if(r(s[n]))return n}function Cw(s){return(r,n={})=>{const o=r.match(s.matchPattern);if(!o)return null;const a=o[0],u=r.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=n.valueCallback?n.valueCallback(d):d;const m=r.slice(a.length);return{value:d,rest:m}}}const Pw=/^(\d+)(th|st|nd|rd)?/i,Tw=/\d+/i,Ow={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rw={any:[/^b/i,/^(a|c)/i]},Dw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Aw={any:[/1/i,/2/i,/3/i,/4/i]},Lw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$w={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Iw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zw={ordinalNumber:Cw({matchPattern:Pw,parsePattern:Tw,valueCallback:s=>parseInt(s,10)}),era:zs({matchPatterns:Ow,defaultMatchWidth:"wide",parsePatterns:Rw,defaultParseWidth:"any"}),quarter:zs({matchPatterns:Dw,defaultMatchWidth:"wide",parsePatterns:Aw,defaultParseWidth:"any",valueCallback:s=>s+1}),month:zs({matchPatterns:Lw,defaultMatchWidth:"wide",parsePatterns:$w,defaultParseWidth:"any"}),day:zs({matchPatterns:Iw,defaultMatchWidth:"wide",parsePatterns:Mw,defaultParseWidth:"any"}),dayPeriod:zs({matchPatterns:Fw,defaultMatchWidth:"any",parsePatterns:Uw,defaultParseWidth:"any"})},Bw={code:"en-US",formatDistance:dw,formatLong:pw,formatRelative:vw,localize:jw,match:zw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ww(s){const r=ut(s);return iw(r,uw(r))+1}function Hw(s){const r=ut(s),n=+No(r)-+ow(r);return Math.round(n/Xh)+1}function rm(s,r){var v,w,S,E;const n=ut(s),o=n.getFullYear(),a=Do(),u=(r==null?void 0:r.firstWeekContainsDate)??((w=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??a.firstWeekContainsDate??((E=(S=a.locale)==null?void 0:S.options)==null?void 0:E.firstWeekContainsDate)??1,d=sn(s,0);d.setFullYear(o+1,0,u),d.setHours(0,0,0,0);const m=ei(d,r),p=sn(s,0);p.setFullYear(o,0,u),p.setHours(0,0,0,0);const y=ei(p,r);return n.getTime()>=m.getTime()?o+1:n.getTime()>=y.getTime()?o:o-1}function qw(s,r){var m,p,y,v;const n=Do(),o=(r==null?void 0:r.firstWeekContainsDate)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(y=n.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,a=rm(s,r),u=sn(s,0);return u.setFullYear(a,0,o),u.setHours(0,0,0,0),ei(u,r)}function Vw(s,r){const n=ut(s),o=+ei(n,r)-+qw(n,r);return Math.round(o/Xh)+1}function Se(s,r){const n=s<0?"-":"",o=Math.abs(s).toString().padStart(r,"0");return n+o}const Er={y(s,r){const n=s.getFullYear(),o=n>0?n:1-n;return Se(r==="yy"?o%100:o,r.length)},M(s,r){const n=s.getMonth();return r==="M"?String(n+1):Se(n+1,2)},d(s,r){return Se(s.getDate(),r.length)},a(s,r){const n=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(s,r){return Se(s.getHours()%12||12,r.length)},H(s,r){return Se(s.getHours(),r.length)},m(s,r){return Se(s.getMinutes(),r.length)},s(s,r){return Se(s.getSeconds(),r.length)},S(s,r){const n=r.length,o=s.getMilliseconds(),a=Math.trunc(o*Math.pow(10,n-3));return Se(a,r.length)}},Wn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uh={G:function(s,r,n){const o=s.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(s,r,n){if(r==="yo"){const o=s.getFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return Er.y(s,r)},Y:function(s,r,n,o){const a=rm(s,o),u=a>0?a:1-a;if(r==="YY"){const d=u%100;return Se(d,2)}return r==="Yo"?n.ordinalNumber(u,{unit:"year"}):Se(u,r.length)},R:function(s,r){const n=tm(s);return Se(n,r.length)},u:function(s,r){const n=s.getFullYear();return Se(n,r.length)},Q:function(s,r,n){const o=Math.ceil((s.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return Se(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(s,r,n){const o=Math.ceil((s.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return Se(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(s,r,n){const o=s.getMonth();switch(r){case"M":case"MM":return Er.M(s,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(s,r,n){const o=s.getMonth();switch(r){case"L":return String(o+1);case"LL":return Se(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(s,r,n,o){const a=Vw(s,o);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Se(a,r.length)},I:function(s,r,n){const o=Hw(s);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):Se(o,r.length)},d:function(s,r,n){return r==="do"?n.ordinalNumber(s.getDate(),{unit:"date"}):Er.d(s,r)},D:function(s,r,n){const o=Ww(s);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):Se(o,r.length)},E:function(s,r,n){const o=s.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(s,r,n,o){const a=s.getDay(),u=(a-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(u);case"ee":return Se(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(s,r,n,o){const a=s.getDay(),u=(a-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(u);case"cc":return Se(u,r.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(s,r,n){const o=s.getDay(),a=o===0?7:o;switch(r){case"i":return String(a);case"ii":return Se(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(s,r,n){const a=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(s,r,n){const o=s.getHours();let a;switch(o===12?a=Wn.noon:o===0?a=Wn.midnight:a=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(s,r,n){const o=s.getHours();let a;switch(o>=17?a=Wn.evening:o>=12?a=Wn.afternoon:o>=4?a=Wn.morning:a=Wn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(s,r,n){if(r==="ho"){let o=s.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Er.h(s,r)},H:function(s,r,n){return r==="Ho"?n.ordinalNumber(s.getHours(),{unit:"hour"}):Er.H(s,r)},K:function(s,r,n){const o=s.getHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):Se(o,r.length)},k:function(s,r,n){let o=s.getHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):Se(o,r.length)},m:function(s,r,n){return r==="mo"?n.ordinalNumber(s.getMinutes(),{unit:"minute"}):Er.m(s,r)},s:function(s,r,n){return r==="so"?n.ordinalNumber(s.getSeconds(),{unit:"second"}):Er.s(s,r)},S:function(s,r){return Er.S(s,r)},X:function(s,r,n){const o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return dh(o);case"XXXX":case"XX":return Xr(o);case"XXXXX":case"XXX":default:return Xr(o,":")}},x:function(s,r,n){const o=s.getTimezoneOffset();switch(r){case"x":return dh(o);case"xxxx":case"xx":return Xr(o);case"xxxxx":case"xxx":default:return Xr(o,":")}},O:function(s,r,n){const o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+ch(o,":");case"OOOO":default:return"GMT"+Xr(o,":")}},z:function(s,r,n){const o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+ch(o,":");case"zzzz":default:return"GMT"+Xr(o,":")}},t:function(s,r,n){const o=Math.trunc(s.getTime()/1e3);return Se(o,r.length)},T:function(s,r,n){const o=s.getTime();return Se(o,r.length)}};function ch(s,r=""){const n=s>0?"-":"+",o=Math.abs(s),a=Math.trunc(o/60),u=o%60;return u===0?n+String(a):n+String(a)+r+Se(u,2)}function dh(s,r){return s%60===0?(s>0?"-":"+")+Se(Math.abs(s)/60,2):Xr(s,r)}function Xr(s,r=""){const n=s>0?"-":"+",o=Math.abs(s),a=Se(Math.trunc(o/60),2),u=Se(o%60,2);return n+a+r+u}const fh=(s,r)=>{switch(s){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},nm=(s,r)=>{switch(s){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Yw=(s,r)=>{const n=s.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return fh(s,r);let u;switch(o){case"P":u=r.dateTime({width:"short"});break;case"PP":u=r.dateTime({width:"medium"});break;case"PPP":u=r.dateTime({width:"long"});break;case"PPPP":default:u=r.dateTime({width:"full"});break}return u.replace("{{date}}",fh(o,r)).replace("{{time}}",nm(a,r))},Kw={p:nm,P:Yw},Gw=/^D+$/,Qw=/^Y+$/,Jw=["D","DD","YY","YYYY"];function Xw(s){return Gw.test(s)}function Zw(s){return Qw.test(s)}function ex(s,r,n){const o=tx(s,r,n);if(console.warn(o),Jw.includes(s))throw new RangeError(o)}function tx(s,r,n){const o=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${r}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sx=/^'([^]*?)'?$/,ix=/''/g,ox=/[a-zA-Z]/;function Le(s,r,n){var v,w,S,E;const o=Do(),a=o.locale??Bw,u=o.firstWeekContainsDate??((w=(v=o.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,d=o.weekStartsOn??((E=(S=o.locale)==null?void 0:S.options)==null?void 0:E.weekStartsOn)??0,m=ut(s);if(!lw(m))throw new RangeError("Invalid time value");let p=r.match(nx).map(N=>{const T=N[0];if(T==="p"||T==="P"){const C=Kw[T];return C(N,a.formatLong)}return N}).join("").match(rx).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const T=N[0];if(T==="'")return{isToken:!1,value:ax(N)};if(uh[T])return{isToken:!0,value:N};if(T.match(ox))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:N}});a.localize.preprocessor&&(p=a.localize.preprocessor(m,p));const y={firstWeekContainsDate:u,weekStartsOn:d,locale:a};return p.map(N=>{if(!N.isToken)return N.value;const T=N.value;(Zw(T)||Xw(T))&&ex(T,r,String(s));const C=uh[T[0]];return C(m,T,a.localize,y)}).join("")}function ax(s){const r=s.match(sx);return r?r[1].replace(ix,"'"):s}function lx(s,r){const n=ut(s),o=ut(r);return n.getTime()>o.getTime()}function ux(s,r){const n=ut(s),o=ut(r);return+n<+o}function Xe(s,r){const o=hx(s);let a;if(o.date){const p=mx(o.date,2);a=px(p.restDateString,p.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const u=a.getTime();let d=0,m;if(o.time&&(d=gx(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(m=vx(o.timezone),isNaN(m))return new Date(NaN)}else{const p=new Date(u+d),y=new Date(0);return y.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),y.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),y}return new Date(u+d+m)}const xo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hx(s){const r={},n=s.split(xo.dateTimeDelimiter);let o;if(n.length>2)return r;if(/:/.test(n[0])?o=n[0]:(r.date=n[0],o=n[1],xo.timeZoneDelimiter.test(r.date)&&(r.date=s.split(xo.timeZoneDelimiter)[0],o=s.substr(r.date.length,s.length))),o){const a=xo.timezone.exec(o);a?(r.time=o.replace(a[1],""),r.timezone=a[1]):r.time=o}return r}function mx(s,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),o=s.match(n);if(!o)return{year:NaN,restDateString:""};const a=o[1]?parseInt(o[1]):null,u=o[2]?parseInt(o[2]):null;return{year:u===null?a:u*100,restDateString:s.slice((o[1]||o[2]).length)}}function px(s,r){if(r===null)return new Date(NaN);const n=s.match(cx);if(!n)return new Date(NaN);const o=!!n[4],a=Bs(n[1]),u=Bs(n[2])-1,d=Bs(n[3]),m=Bs(n[4]),p=Bs(n[5])-1;if(o)return Sx(r,m,p)?yx(r,m,p):new Date(NaN);{const y=new Date(0);return!xx(r,u,d)||!_x(r,a)?new Date(NaN):(y.setUTCFullYear(r,u,Math.max(a,d)),y)}}function Bs(s){return s?parseInt(s):1}function gx(s){const r=s.match(dx);if(!r)return NaN;const n=Wl(r[1]),o=Wl(r[2]),a=Wl(r[3]);return bx(n,o,a)?n*em+o*Zh+a*1e3:NaN}function Wl(s){return s&&parseFloat(s.replace(",","."))||0}function vx(s){if(s==="Z")return 0;const r=s.match(fx);if(!r)return 0;const n=r[1]==="+"?-1:1,o=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return kx(o,a)?n*(o*em+a*Zh):NaN}function yx(s,r,n){const o=new Date(0);o.setUTCFullYear(s,0,4);const a=o.getUTCDay()||7,u=(r-1)*7+n+1-a;return o.setUTCDate(o.getUTCDate()+u),o}const wx=[31,null,31,30,31,30,31,31,30,31,30,31];function sm(s){return s%400===0||s%4===0&&s%100!==0}function xx(s,r,n){return r>=0&&r<=11&&n>=1&&n<=(wx[r]||(sm(s)?29:28))}function _x(s,r){return r>=1&&r<=(sm(s)?366:365)}function Sx(s,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function bx(s,r,n){return s===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&s>=0&&s<25}function kx(s,r){return r>=0&&r<=59}const jx=()=>{const s=[];for(let r=0;r<24;r++)for(let n=0;n<60;n+=15){const o=r.toString().padStart(2,"0"),a=n.toString().padStart(2,"0"),u=`${o}:${a}`,d=Le(new Date(2024,0,1,r,n),"h:mm a");s.push({value:u,label:d})}return s},hh=jx(),Ex=()=>{const{user:s}=Ht(),[r,n]=_.useState("list"),[o,a]=_.useState(null),[u,d]=_.useState({Sunday:{isAvailable:!1,timeSlots:[],duration:30},Monday:{isAvailable:!1,timeSlots:[],duration:30},Tuesday:{isAvailable:!1,timeSlots:[],duration:30},Wednesday:{isAvailable:!1,timeSlots:[],duration:30},Thursday:{isAvailable:!1,timeSlots:[],duration:30},Friday:{isAvailable:!1,timeSlots:[],duration:30},Saturday:{isAvailable:!1,timeSlots:[],duration:30}}),[m,p]=_.useState([]),[y,v]=_.useState(!1),[w,S]=_.useState(""),[E,N]=_.useState("");_.useEffect(()=>{s&&T()},[s]),_.useEffect(()=>{o&&C()},[o]);const T=async()=>{try{const{data:$,error:q}=await ce.from("staff").select("staff_id").eq("user_id",s==null?void 0:s.id).limit(1).single();if(q){if(q.message.includes("no rows")){S("No staff record found. Please complete your staff profile first.");return}throw q}$&&a($.staff_id)}catch($){console.error("Error fetching staff ID:",$),S("Failed to fetch staff information")}},C=async()=>{try{if(!o)return;const{data:$,error:q}=await ce.from("schedules").select("*").eq("staff_id",o).eq("is_weekly",!0);if(q)throw q;if($){const I={...u};$.forEach(Y=>{if(Y.day_of_week){const B=Y.time_rangez.reduce((j,A,le,D)=>(le%2===0&&j.push({start:Le(Xe(A),"HH:mm"),end:Le(Xe(D[le+1]||A),"HH:mm")}),j),[]);I[Y.day_of_week]={isAvailable:!0,timeSlots:B,duration:Y.slot_duration}}}),d(I)}const{data:K,error:Z}=await ce.from("schedules").select("*").eq("staff_id",o).eq("is_weekly",!1);if(Z)throw Z;if(K){const I=K.map(Y=>({date:Y.date,timeSlots:Y.time_rangez.reduce((B,j,A,le)=>(A%2===0&&B.push({start:Le(Xe(j),"HH:mm"),end:Le(Xe(le[A+1]||j),"HH:mm")}),B),[]),duration:Y.slot_duration}));p(I)}}catch($){console.error("Error fetching schedules:",$),S("Failed to load schedules")}},L=$=>{d(q=>({...q,[$]:{...q[$],isAvailable:!q[$].isAvailable,timeSlots:q[$].isAvailable?[]:[{start:"09:00",end:"17:00"}]}}))},H=$=>{d(q=>({...q,[$]:{...q[$],timeSlots:[...q[$].timeSlots,{start:"09:00",end:"17:00"}]}}))},z=($,q,K,Z)=>{d(I=>({...I,[$]:{...I[$],timeSlots:I[$].timeSlots.map((Y,B)=>B===q?{...Y,[K]:Z}:Y)}}))},J=($,q)=>{d(K=>({...K,[$]:{...K[$],duration:q}}))},se=($,q)=>{d(K=>({...K,[$]:{...K[$],timeSlots:K[$].timeSlots.filter((Z,I)=>I!==q)}}))},ve=()=>{E&&(p($=>[...$,{date:E,timeSlots:[{start:"09:00",end:"17:00"}],duration:30}]),N(""),v(!1))},ye=($,q,K,Z)=>{p(I=>I.map(Y=>Y.date===$?{...Y,timeSlots:Y.timeSlots.map((B,j)=>j===q?{...B,[K]:Z}:B)}:Y))},Ee=$=>{p(q=>q.map(K=>K.date===$?{...K,timeSlots:[...K.timeSlots,{start:"09:00",end:"17:00"}]}:K))},ze=($,q)=>{p(K=>K.map(Z=>Z.date===$?{...Z,timeSlots:Z.timeSlots.filter((I,Y)=>Y!==q)}:Z))},Oe=$=>{p(q=>q.filter(K=>K.date!==$))},it=($,q)=>{p(K=>K.map(Z=>Z.date===$?{...Z,duration:q}:Z))},V=async()=>{try{if(!o)throw new Error("Staff ID not found");await ce.from("schedules").delete().eq("staff_id",o);for(const[$,q]of Object.entries(u))if(q.isAvailable&&q.timeSlots.length>0){const K=q.timeSlots.flatMap(Z=>{const I=new Date,[Y,B]=Z.start.split(":");I.setHours(parseInt(Y),parseInt(B),0,0);const j=new Date,[A,le]=Z.end.split(":");return j.setHours(parseInt(A),parseInt(le),0,0),[I.toISOString(),j.toISOString()]});await ce.from("schedules").insert({staff_id:o,is_weekly:!0,day_of_week:$,time_rangez:K,slot_duration:q.duration})}for(const $ of m){const q=$.timeSlots.flatMap(K=>{const[Z,I]=K.start.split(":"),[Y,B]=K.end.split(":"),j=new Date($.date);j.setHours(parseInt(Z),parseInt(I),0,0);const A=new Date($.date);return A.setHours(parseInt(Y),parseInt(B),0,0),[j.toISOString(),A.toISOString()]});await ce.from("schedules").insert({staff_id:o,is_weekly:!1,date:$.date,time_rangez:q,slot_duration:$.duration})}await C()}catch($){console.error("Error saving schedule:",$),S("Failed to save schedule")}},ue=({value:$,onChange:q,className:K=""})=>{const[Z,I]=_.useState(!1),Y=hh.find(B=>B.value===$);return h.jsxs("div",{className:"relative w-36",children:[h.jsxs("button",{type:"button",onClick:()=>I(!Z),className:`w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${K}`,children:[h.jsx("span",{className:"truncate",children:(Y==null?void 0:Y.label)||"Select time"}),h.jsx(I0,{className:"h-4 w-4 ml-2 text-gray-400"})]}),Z&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0",onClick:()=>I(!1)}),h.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:hh.map(B=>h.jsx("button",{className:`w-full text-left px-3 py-2 hover:bg-blue-50 ${$===B.value?"bg-blue-50 text-blue-700":"text-gray-900"}`,onClick:()=>{q(B.value),I(!1)},children:B.label},B.value))})]})]})};return h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Schedule Management"}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsxs("button",{onClick:()=>n("list"),className:`px-4 py-2 rounded-lg flex items-center ${r==="list"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:[h.jsx(U0,{className:"w-5 h-5 mr-2"}),"List View"]}),h.jsxs("button",{onClick:()=>n("calendar"),className:`px-4 py-2 rounded-lg flex items-center ${r==="calendar"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:[h.jsx(jo,{className:"w-5 h-5 mr-2"}),"Calendar View"]})]})]}),w&&h.jsx("div",{className:"mb-4 bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:w}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Weekly Hours"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Set when you are typically available for meetings"}),Object.entries(u).map(([$,q])=>h.jsxs("div",{className:"mb-6 border-b pb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:q.isAvailable,onChange:()=>L($),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx("span",{className:"ml-2 text-lg font-medium",children:$})]}),q.isAvailable&&h.jsxs("button",{onClick:()=>H($),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[h.jsx(If,{className:"w-4 h-4 mr-1"}),"Add Time Slot"]})]}),q.isAvailable&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Default duration:"}),h.jsxs("select",{value:q.duration,onChange:K=>J($,parseInt(K.target.value)),className:"block w-32 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[h.jsx("option",{value:15,children:"15 minutes"}),h.jsx("option",{value:30,children:"30 minutes"}),h.jsx("option",{value:45,children:"45 minutes"}),h.jsx("option",{value:60,children:"1 hour"})]})]}),q.timeSlots.map((K,Z)=>h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(ue,{value:K.start,onChange:I=>z($,Z,"start",I)}),h.jsx("span",{children:"to"}),h.jsx(ue,{value:K.end,onChange:I=>z($,Z,"end",I)}),h.jsx("button",{onClick:()=>se($,Z),className:"text-red-600 hover:text-red-800",children:h.jsx(rn,{className:"w-5 h-5"})})]},Z))]})]},$))]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Date-specific Hours"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Adjust hours for specific days"}),h.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[h.jsx("input",{type:"date",value:E,onChange:$=>N($.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),h.jsx("button",{onClick:ve,disabled:!E,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Date Schedule"})]}),m.map($=>h.jsxs("div",{className:"mb-6 border-b pb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium",children:Le(Xe($.date),"MMMM d, yyyy")}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("button",{onClick:()=>Ee($.date),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[h.jsx(If,{className:"w-4 h-4 mr-1"}),"Add Time Slot"]}),h.jsx("button",{onClick:()=>Oe($.date),className:"text-red-600 hover:text-red-800",children:h.jsx(rn,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Duration:"}),h.jsxs("select",{value:$.duration,onChange:q=>it($.date,parseInt(q.target.value)),className:"block w-32 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[h.jsx("option",{value:15,children:"15 minutes"}),h.jsx("option",{value:30,children:"30 minutes"}),h.jsx("option",{value:45,children:"45 minutes"}),h.jsx("option",{value:60,children:"1 hour"})]})]}),$.timeSlots.map((q,K)=>h.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[h.jsx(ue,{value:q.start,onChange:Z=>ye($.date,K,"start",Z)}),h.jsx("span",{children:"to"}),h.jsx(ue,{value:q.end,onChange:Z=>ye($.date,K,"end",Z)}),h.jsx("button",{onClick:()=>ze($.date,K),className:"text-red-600 hover:text-red-800",children:h.jsx(rn,{className:"w-5 h-5"})})]},K))]},$.date))]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:V,className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save All Changes"})})]})]})};var Nx=Object.defineProperty,Cx=(s,r,n)=>r in s?Nx(s,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[r]=n,Hl=(s,r,n)=>(Cx(s,typeof r!="symbol"?r+"":r,n),n);let Px=class{constructor(){Hl(this,"current",this.detect()),Hl(this,"handoffState","pending"),Hl(this,"currentId",0)}set(r){this.current!==r&&(this.handoffState="pending",this.currentId=0,this.current=r)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},rr=new Px,nr=(s,r)=>{rr.isServer?_.useEffect(s,r):_.useLayoutEffect(s,r)};function Ao(s){let r=_.useRef(s);return nr(()=>{r.current=s},[s]),r}let st=function(s){let r=Ao(s);return ke.useCallback((...n)=>r.current(...n),[r])};function Lo(s){typeof queueMicrotask=="function"?queueMicrotask(s):Promise.resolve().then(s).catch(r=>setTimeout(()=>{throw r}))}function $o(){let s=[],r={addEventListener(n,o,a,u){return n.addEventListener(o,a,u),r.add(()=>n.removeEventListener(o,a,u))},requestAnimationFrame(...n){let o=requestAnimationFrame(...n);return r.add(()=>cancelAnimationFrame(o))},nextFrame(...n){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...n))},setTimeout(...n){let o=setTimeout(...n);return r.add(()=>clearTimeout(o))},microTask(...n){let o={current:!0};return Lo(()=>{o.current&&n[0]()}),r.add(()=>{o.current=!1})},style(n,o,a){let u=n.style.getPropertyValue(o);return Object.assign(n.style,{[o]:a}),this.add(()=>{Object.assign(n.style,{[o]:u})})},group(n){let o=$o();return n(o),this.add(()=>o.dispose())},add(n){return s.push(n),()=>{let o=s.indexOf(n);if(o>=0)for(let a of s.splice(o,1))a()}},dispose(){for(let n of s.splice(0))n()}};return r}function Tx(){let[s]=_.useState($o);return _.useEffect(()=>()=>s.dispose(),[s]),s}function Ox(){let s=typeof document>"u";return"useSyncExternalStore"in Yn?(r=>r.useSyncExternalStore)(Yn)(()=>()=>{},()=>!1,()=>!s):!1}function Io(){let s=Ox(),[r,n]=_.useState(rr.isHandoffComplete);return r&&rr.isHandoffComplete===!1&&n(!1),_.useEffect(()=>{r!==!0&&n(!0)},[r]),_.useEffect(()=>rr.handoff(),[]),s?!1:r}var mh;let Jn=(mh=ke.useId)!=null?mh:function(){let s=Io(),[r,n]=ke.useState(s?()=>rr.nextId():null);return nr(()=>{r===null&&n(rr.nextId())},[r]),r!=null?""+r:void 0};function Lr(s,r,...n){if(s in r){let a=r[s];return typeof a=="function"?a(...n):a}let o=new Error(`Tried to handle "${s}" but there is no handler defined. Only defined handlers are: ${Object.keys(r).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Lr),o}function im(s){return rr.isServer?null:s instanceof Node?s.ownerDocument:s!=null&&s.hasOwnProperty("current")&&s.current instanceof Node?s.current.ownerDocument:document}let au=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(s=>`${s}:not([tabindex='-1'])`).join(",");var en=(s=>(s[s.First=1]="First",s[s.Previous=2]="Previous",s[s.Next=4]="Next",s[s.Last=8]="Last",s[s.WrapAround=16]="WrapAround",s[s.NoScroll=32]="NoScroll",s))(en||{}),om=(s=>(s[s.Error=0]="Error",s[s.Overflow=1]="Overflow",s[s.Success=2]="Success",s[s.Underflow=3]="Underflow",s))(om||{}),Rx=(s=>(s[s.Previous=-1]="Previous",s[s.Next=1]="Next",s))(Rx||{});function Dx(s=document.body){return s==null?[]:Array.from(s.querySelectorAll(au)).sort((r,n)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var am=(s=>(s[s.Strict=0]="Strict",s[s.Loose=1]="Loose",s))(am||{});function Ax(s,r=0){var n;return s===((n=im(s))==null?void 0:n.body)?!1:Lr(r,{0(){return s.matches(au)},1(){let o=s;for(;o!==null;){if(o.matches(au))return!0;o=o.parentElement}return!1}})}var Lx=(s=>(s[s.Keyboard=0]="Keyboard",s[s.Mouse=1]="Mouse",s))(Lx||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",s=>{s.metaKey||s.altKey||s.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",s=>{s.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:s.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function nn(s){s==null||s.focus({preventScroll:!0})}let $x=["textarea","input"].join(",");function Ix(s){var r,n;return(n=(r=s==null?void 0:s.matches)==null?void 0:r.call(s,$x))!=null?n:!1}function Mx(s,r=n=>n){return s.slice().sort((n,o)=>{let a=r(n),u=r(o);if(a===null||u===null)return 0;let d=a.compareDocumentPosition(u);return d&Node.DOCUMENT_POSITION_FOLLOWING?-1:d&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function bo(s,r,{sorted:n=!0,relativeTo:o=null,skipElements:a=[]}={}){let u=Array.isArray(s)?s.length>0?s[0].ownerDocument:document:s.ownerDocument,d=Array.isArray(s)?n?Mx(s):s:Dx(s);a.length>0&&d.length>1&&(d=d.filter(E=>!a.includes(E))),o=o??u.activeElement;let m=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,d.indexOf(o))-1;if(r&4)return Math.max(0,d.indexOf(o))+1;if(r&8)return d.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),y=r&32?{preventScroll:!0}:{},v=0,w=d.length,S;do{if(v>=w||v+w<=0)return 0;let E=p+v;if(r&16)E=(E+w)%w;else{if(E<0)return 3;if(E>=w)return 1}S=d[E],S==null||S.focus(y),v+=m}while(S!==u.activeElement);return r&6&&Ix(S)&&S.select(),2}function lm(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Fx(){return/Android/gi.test(window.navigator.userAgent)}function Ux(){return lm()||Fx()}function _o(s,r,n){let o=Ao(r);_.useEffect(()=>{function a(u){o.current(u)}return document.addEventListener(s,a,n),()=>document.removeEventListener(s,a,n)},[s,n])}function um(s,r,n){let o=Ao(r);_.useEffect(()=>{function a(u){o.current(u)}return window.addEventListener(s,a,n),()=>window.removeEventListener(s,a,n)},[s,n])}function zx(s,r,n=!0){let o=_.useRef(!1);_.useEffect(()=>{requestAnimationFrame(()=>{o.current=n})},[n]);function a(d,m){if(!o.current||d.defaultPrevented)return;let p=m(d);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let y=function v(w){return typeof w=="function"?v(w()):Array.isArray(w)||w instanceof Set?w:[w]}(s);for(let v of y){if(v===null)continue;let w=v instanceof HTMLElement?v:v.current;if(w!=null&&w.contains(p)||d.composed&&d.composedPath().includes(w))return}return!Ax(p,am.Loose)&&p.tabIndex!==-1&&d.preventDefault(),r(d,p)}let u=_.useRef(null);_o("pointerdown",d=>{var m,p;o.current&&(u.current=((p=(m=d.composedPath)==null?void 0:m.call(d))==null?void 0:p[0])||d.target)},!0),_o("mousedown",d=>{var m,p;o.current&&(u.current=((p=(m=d.composedPath)==null?void 0:m.call(d))==null?void 0:p[0])||d.target)},!0),_o("click",d=>{Ux()||u.current&&(a(d,()=>u.current),u.current=null)},!0),_o("touchend",d=>a(d,()=>d.target instanceof HTMLElement?d.target:null),!0),um("blur",d=>a(d,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ni(...s){return _.useMemo(()=>im(...s),[...s])}let cm=Symbol();function Bx(s,r=!0){return Object.assign(s,{[cm]:r})}function ir(...s){let r=_.useRef(s);_.useEffect(()=>{r.current=s},[s]);let n=st(o=>{for(let a of r.current)a!=null&&(typeof a=="function"?a(o):a.current=o)});return s.every(o=>o==null||(o==null?void 0:o[cm]))?void 0:n}function bu(s,r){let n=_.useRef([]),o=st(s);_.useEffect(()=>{let a=[...n.current];for(let[u,d]of r.entries())if(n.current[u]!==d){let m=o(r,a);return n.current=r,m}},[o,...r])}function ph(...s){return Array.from(new Set(s.flatMap(r=>typeof r=="string"?r.split(" "):[]))).filter(Boolean).join(" ")}var lu=(s=>(s[s.None=0]="None",s[s.RenderStrategy=1]="RenderStrategy",s[s.Static=2]="Static",s))(lu||{}),Wx=(s=>(s[s.Unmount=0]="Unmount",s[s.Hidden=1]="Hidden",s))(Wx||{});function qt({ourProps:s,theirProps:r,slot:n,defaultTag:o,features:a,visible:u=!0,name:d,mergeRefs:m}){m=m??Hx;let p=dm(r,s);if(u)return So(p,n,o,d,m);let y=a??0;if(y&2){let{static:v=!1,...w}=p;if(v)return So(w,n,o,d,m)}if(y&1){let{unmount:v=!0,...w}=p;return Lr(v?0:1,{0(){return null},1(){return So({...w,hidden:!0,style:{display:"none"}},n,o,d,m)}})}return So(p,n,o,d,m)}function So(s,r={},n,o,a){let{as:u=n,children:d,refName:m="ref",...p}=ql(s,["unmount","static"]),y=s.ref!==void 0?{[m]:s.ref}:{},v=typeof d=="function"?d(r):d;"className"in p&&p.className&&typeof p.className=="function"&&(p.className=p.className(r));let w={};if(r){let S=!1,E=[];for(let[N,T]of Object.entries(r))typeof T=="boolean"&&(S=!0),T===!0&&E.push(N);S&&(w["data-headlessui-state"]=E.join(" "))}if(u===_.Fragment&&Object.keys(gh(p)).length>0){if(!_.isValidElement(v)||Array.isArray(v)&&v.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(p).map(T=>`  - ${T}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(T=>`  - ${T}`).join(`
`)].join(`
`));let S=v.props,E=typeof(S==null?void 0:S.className)=="function"?(...T)=>ph(S==null?void 0:S.className(...T),p.className):ph(S==null?void 0:S.className,p.className),N=E?{className:E}:{};return _.cloneElement(v,Object.assign({},dm(v.props,gh(ql(p,["ref"]))),w,y,{ref:a(v.ref,y.ref)},N))}return _.createElement(u,Object.assign({},ql(p,["ref"]),u!==_.Fragment&&y,u!==_.Fragment&&w),v)}function Hx(...s){return s.every(r=>r==null)?void 0:r=>{for(let n of s)n!=null&&(typeof n=="function"?n(r):n.current=r)}}function dm(...s){if(s.length===0)return{};if(s.length===1)return s[0];let r={},n={};for(let o of s)for(let a in o)a.startsWith("on")&&typeof o[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(o[a])):r[a]=o[a];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(n).map(o=>[o,void 0])));for(let o in n)Object.assign(r,{[o](a,...u){let d=n[o];for(let m of d){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;m(a,...u)}}});return r}function Vt(s){var r;return Object.assign(_.forwardRef(s),{displayName:(r=s.displayName)!=null?r:s.name})}function gh(s){let r=Object.assign({},s);for(let n in r)r[n]===void 0&&delete r[n];return r}function ql(s,r=[]){let n=Object.assign({},s);for(let o of r)o in n&&delete n[o];return n}let qx="div";var Co=(s=>(s[s.None=1]="None",s[s.Focusable=2]="Focusable",s[s.Hidden=4]="Hidden",s))(Co||{});function Vx(s,r){var n;let{features:o=1,...a}=s,u={ref:r,"aria-hidden":(o&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return qt({ourProps:u,theirProps:a,slot:{},defaultTag:qx,name:"Hidden"})}let uu=Vt(Vx),fm=_.createContext(null);fm.displayName="OpenClosedContext";var Vs=(s=>(s[s.Open=1]="Open",s[s.Closed=2]="Closed",s[s.Closing=4]="Closing",s[s.Opening=8]="Opening",s))(Vs||{});function Yx(){return _.useContext(fm)}function Kx(s){function r(){document.readyState!=="loading"&&(s(),document.removeEventListener("DOMContentLoaded",r))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",r),r())}let Or=[];Kx(()=>{function s(r){r.target instanceof HTMLElement&&r.target!==document.body&&Or[0]!==r.target&&(Or.unshift(r.target),Or=Or.filter(n=>n!=null&&n.isConnected),Or.splice(10))}window.addEventListener("click",s,{capture:!0}),window.addEventListener("mousedown",s,{capture:!0}),window.addEventListener("focus",s,{capture:!0}),document.body.addEventListener("click",s,{capture:!0}),document.body.addEventListener("mousedown",s,{capture:!0}),document.body.addEventListener("focus",s,{capture:!0})});function Gx(s){let r=s.parentElement,n=null;for(;r&&!(r instanceof HTMLFieldSetElement);)r instanceof HTMLLegendElement&&(n=r),r=r.parentElement;let o=(r==null?void 0:r.getAttribute("disabled"))==="";return o&&Qx(n)?!1:o}function Qx(s){if(!s)return!1;let r=s.previousElementSibling;for(;r!==null;){if(r instanceof HTMLLegendElement)return!1;r=r.previousElementSibling}return!0}var hm=(s=>(s.Space=" ",s.Enter="Enter",s.Escape="Escape",s.Backspace="Backspace",s.Delete="Delete",s.ArrowLeft="ArrowLeft",s.ArrowUp="ArrowUp",s.ArrowRight="ArrowRight",s.ArrowDown="ArrowDown",s.Home="Home",s.End="End",s.PageUp="PageUp",s.PageDown="PageDown",s.Tab="Tab",s))(hm||{});function mm(s,r,n,o){let a=Ao(n);_.useEffect(()=>{s=s??window;function u(d){a.current(d)}return s.addEventListener(r,u,o),()=>s.removeEventListener(r,u,o)},[s,r,o])}function pm(){let s=_.useRef(!1);return nr(()=>(s.current=!0,()=>{s.current=!1}),[]),s}function gm(s){let r=st(s),n=_.useRef(!1);_.useEffect(()=>(n.current=!1,()=>{n.current=!0,Lo(()=>{n.current&&r()})}),[r])}var Ys=(s=>(s[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s))(Ys||{});function Jx(){let s=_.useRef(0);return um("keydown",r=>{r.key==="Tab"&&(s.current=r.shiftKey?1:0)},!0),s}function vm(s){if(!s)return new Set;if(typeof s=="function")return new Set(s());let r=new Set;for(let n of s.current)n.current instanceof HTMLElement&&r.add(n.current);return r}let Xx="div";var ym=(s=>(s[s.None=1]="None",s[s.InitialFocus=2]="InitialFocus",s[s.TabLock=4]="TabLock",s[s.FocusLock=8]="FocusLock",s[s.RestoreFocus=16]="RestoreFocus",s[s.All=30]="All",s))(ym||{});function Zx(s,r){let n=_.useRef(null),o=ir(n,r),{initialFocus:a,containers:u,features:d=30,...m}=s;Io()||(d=1);let p=ni(n);r_({ownerDocument:p},!!(d&16));let y=n_({ownerDocument:p,container:n,initialFocus:a},!!(d&2));s_({ownerDocument:p,container:n,containers:u,previousActiveElement:y},!!(d&8));let v=Jx(),w=st(T=>{let C=n.current;C&&(L=>L())(()=>{Lr(v.current,{[Ys.Forwards]:()=>{bo(C,en.First,{skipElements:[T.relatedTarget]})},[Ys.Backwards]:()=>{bo(C,en.Last,{skipElements:[T.relatedTarget]})}})})}),S=Tx(),E=_.useRef(!1),N={ref:o,onKeyDown(T){T.key=="Tab"&&(E.current=!0,S.requestAnimationFrame(()=>{E.current=!1}))},onBlur(T){let C=vm(u);n.current instanceof HTMLElement&&C.add(n.current);let L=T.relatedTarget;L instanceof HTMLElement&&L.dataset.headlessuiFocusGuard!=="true"&&(wm(C,L)||(E.current?bo(n.current,Lr(v.current,{[Ys.Forwards]:()=>en.Next,[Ys.Backwards]:()=>en.Previous})|en.WrapAround,{relativeTo:T.target}):T.target instanceof HTMLElement&&nn(T.target)))}};return ke.createElement(ke.Fragment,null,!!(d&4)&&ke.createElement(uu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:Co.Focusable}),qt({ourProps:N,theirProps:m,defaultTag:Xx,name:"FocusTrap"}),!!(d&4)&&ke.createElement(uu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:Co.Focusable}))}let e_=Vt(Zx),Ws=Object.assign(e_,{features:ym});function t_(s=!0){let r=_.useRef(Or.slice());return bu(([n],[o])=>{o===!0&&n===!1&&Lo(()=>{r.current.splice(0)}),o===!1&&n===!0&&(r.current=Or.slice())},[s,Or,r]),st(()=>{var n;return(n=r.current.find(o=>o!=null&&o.isConnected))!=null?n:null})}function r_({ownerDocument:s},r){let n=t_(r);bu(()=>{r||(s==null?void 0:s.activeElement)===(s==null?void 0:s.body)&&nn(n())},[r]),gm(()=>{r&&nn(n())})}function n_({ownerDocument:s,container:r,initialFocus:n},o){let a=_.useRef(null),u=pm();return bu(()=>{if(!o)return;let d=r.current;d&&Lo(()=>{if(!u.current)return;let m=s==null?void 0:s.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===m){a.current=m;return}}else if(d.contains(m)){a.current=m;return}n!=null&&n.current?nn(n.current):bo(d,en.First)===om.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=s==null?void 0:s.activeElement})},[o]),a}function s_({ownerDocument:s,container:r,containers:n,previousActiveElement:o},a){let u=pm();mm(s==null?void 0:s.defaultView,"focus",d=>{if(!a||!u.current)return;let m=vm(n);r.current instanceof HTMLElement&&m.add(r.current);let p=o.current;if(!p)return;let y=d.target;y&&y instanceof HTMLElement?wm(m,y)?(o.current=y,nn(y)):(d.preventDefault(),d.stopPropagation(),nn(p)):nn(o.current)},!0)}function wm(s,r){for(let n of s)if(n.contains(r))return!0;return!1}let xm=_.createContext(!1);function i_(){return _.useContext(xm)}function cu(s){return ke.createElement(xm.Provider,{value:s.force},s.children)}function o_(s){let r=i_(),n=_.useContext(_m),o=ni(s),[a,u]=_.useState(()=>{if(!r&&n!==null||rr.isServer)return null;let d=o==null?void 0:o.getElementById("headlessui-portal-root");if(d)return d;if(o===null)return null;let m=o.createElement("div");return m.setAttribute("id","headlessui-portal-root"),o.body.appendChild(m)});return _.useEffect(()=>{a!==null&&(o!=null&&o.body.contains(a)||o==null||o.body.appendChild(a))},[a,o]),_.useEffect(()=>{r||n!==null&&u(n.current)},[n,u,r]),a}let a_=_.Fragment;function l_(s,r){let n=s,o=_.useRef(null),a=ir(Bx(v=>{o.current=v}),r),u=ni(o),d=o_(o),[m]=_.useState(()=>{var v;return rr.isServer?null:(v=u==null?void 0:u.createElement("div"))!=null?v:null}),p=_.useContext(du),y=Io();return nr(()=>{!d||!m||d.contains(m)||(m.setAttribute("data-headlessui-portal",""),d.appendChild(m))},[d,m]),nr(()=>{if(m&&p)return p.register(m)},[p,m]),gm(()=>{var v;!d||!m||(m instanceof Node&&d.contains(m)&&d.removeChild(m),d.childNodes.length<=0&&((v=d.parentElement)==null||v.removeChild(d)))}),y?!d||!m?null:Rg.createPortal(qt({ourProps:{ref:a},theirProps:n,defaultTag:a_,name:"Portal"}),m):null}let u_=_.Fragment,_m=_.createContext(null);function c_(s,r){let{target:n,...o}=s,a={ref:ir(r)};return ke.createElement(_m.Provider,{value:n},qt({ourProps:a,theirProps:o,defaultTag:u_,name:"Popover.Group"}))}let du=_.createContext(null);function d_(){let s=_.useContext(du),r=_.useRef([]),n=st(u=>(r.current.push(u),s&&s.register(u),()=>o(u))),o=st(u=>{let d=r.current.indexOf(u);d!==-1&&r.current.splice(d,1),s&&s.unregister(u)}),a=_.useMemo(()=>({register:n,unregister:o,portals:r}),[n,o,r]);return[r,_.useMemo(()=>function({children:u}){return ke.createElement(du.Provider,{value:a},u)},[a])]}let f_=Vt(l_),h_=Vt(c_),fu=Object.assign(f_,{Group:h_});function m_(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}const p_=typeof Object.is=="function"?Object.is:m_,{useState:g_,useEffect:v_,useLayoutEffect:y_,useDebugValue:w_}=Yn;function x_(s,r,n){const o=r(),[{inst:a},u]=g_({inst:{value:o,getSnapshot:r}});return y_(()=>{a.value=o,a.getSnapshot=r,Vl(a)&&u({inst:a})},[s,o,r]),v_(()=>(Vl(a)&&u({inst:a}),s(()=>{Vl(a)&&u({inst:a})})),[s]),w_(o),o}function Vl(s){const r=s.getSnapshot,n=s.value;try{const o=r();return!p_(n,o)}catch{return!0}}function __(s,r,n){return r()}const S_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b_=!S_,k_=b_?__:x_,j_="useSyncExternalStore"in Yn?(s=>s.useSyncExternalStore)(Yn):k_;function E_(s){return j_(s.subscribe,s.getSnapshot,s.getSnapshot)}function N_(s,r){let n=s(),o=new Set;return{getSnapshot(){return n},subscribe(a){return o.add(a),()=>o.delete(a)},dispatch(a,...u){let d=r[a].call(n,...u);d&&(n=d,o.forEach(m=>m()))}}}function C_(){let s;return{before({doc:r}){var n;let o=r.documentElement;s=((n=r.defaultView)!=null?n:window).innerWidth-o.clientWidth},after({doc:r,d:n}){let o=r.documentElement,a=o.clientWidth-o.offsetWidth,u=s-a;n.style(o,"paddingRight",`${u}px`)}}}function P_(){return lm()?{before({doc:s,d:r,meta:n}){function o(a){return n.containers.flatMap(u=>u()).some(u=>u.contains(a))}r.microTask(()=>{var a;if(window.getComputedStyle(s.documentElement).scrollBehavior!=="auto"){let m=$o();m.style(s.documentElement,"scrollBehavior","auto"),r.add(()=>r.microTask(()=>m.dispose()))}let u=(a=window.scrollY)!=null?a:window.pageYOffset,d=null;r.addEventListener(s,"click",m=>{if(m.target instanceof HTMLElement)try{let p=m.target.closest("a");if(!p)return;let{hash:y}=new URL(p.href),v=s.querySelector(y);v&&!o(v)&&(d=v)}catch{}},!0),r.addEventListener(s,"touchstart",m=>{if(m.target instanceof HTMLElement)if(o(m.target)){let p=m.target;for(;p.parentElement&&o(p.parentElement);)p=p.parentElement;r.style(p,"overscrollBehavior","contain")}else r.style(m.target,"touchAction","none")}),r.addEventListener(s,"touchmove",m=>{if(m.target instanceof HTMLElement)if(o(m.target)){let p=m.target;for(;p.parentElement&&p.dataset.headlessuiPortal!==""&&!(p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth);)p=p.parentElement;p.dataset.headlessuiPortal===""&&m.preventDefault()}else m.preventDefault()},{passive:!1}),r.add(()=>{var m;let p=(m=window.scrollY)!=null?m:window.pageYOffset;u!==p&&window.scrollTo(0,u),d&&d.isConnected&&(d.scrollIntoView({block:"nearest"}),d=null)})})}}:{}}function T_(){return{before({doc:s,d:r}){r.style(s.documentElement,"overflow","hidden")}}}function O_(s){let r={};for(let n of s)Object.assign(r,n(r));return r}let tn=N_(()=>new Map,{PUSH(s,r){var n;let o=(n=this.get(s))!=null?n:{doc:s,count:0,d:$o(),meta:new Set};return o.count++,o.meta.add(r),this.set(s,o),this},POP(s,r){let n=this.get(s);return n&&(n.count--,n.meta.delete(r)),this},SCROLL_PREVENT({doc:s,d:r,meta:n}){let o={doc:s,d:r,meta:O_(n)},a=[P_(),C_(),T_()];a.forEach(({before:u})=>u==null?void 0:u(o)),a.forEach(({after:u})=>u==null?void 0:u(o))},SCROLL_ALLOW({d:s}){s.dispose()},TEARDOWN({doc:s}){this.delete(s)}});tn.subscribe(()=>{let s=tn.getSnapshot(),r=new Map;for(let[n]of s)r.set(n,n.documentElement.style.overflow);for(let n of s.values()){let o=r.get(n.doc)==="hidden",a=n.count!==0;(a&&!o||!a&&o)&&tn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&tn.dispatch("TEARDOWN",n)}});function R_(s,r,n){let o=E_(tn),a=s?o.get(s):void 0,u=a?a.count>0:!1;return nr(()=>{if(!(!s||!r))return tn.dispatch("PUSH",s,n),()=>tn.dispatch("POP",s,n)},[r,s]),u}let Yl=new Map,Hs=new Map;function vh(s,r=!0){nr(()=>{var n;if(!r)return;let o=typeof s=="function"?s():s.current;if(!o)return;function a(){var d;if(!o)return;let m=(d=Hs.get(o))!=null?d:1;if(m===1?Hs.delete(o):Hs.set(o,m-1),m!==1)return;let p=Yl.get(o);p&&(p["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",p["aria-hidden"]),o.inert=p.inert,Yl.delete(o))}let u=(n=Hs.get(o))!=null?n:0;return Hs.set(o,u+1),u!==0||(Yl.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0),a},[s,r])}function D_({defaultContainers:s=[],portals:r,mainTreeNodeRef:n}={}){var o;let a=_.useRef((o=n==null?void 0:n.current)!=null?o:null),u=ni(a),d=st(()=>{var m,p,y;let v=[];for(let w of s)w!==null&&(w instanceof HTMLElement?v.push(w):"current"in w&&w.current instanceof HTMLElement&&v.push(w.current));if(r!=null&&r.current)for(let w of r.current)v.push(w);for(let w of(m=u==null?void 0:u.querySelectorAll("html > *, body > *"))!=null?m:[])w!==document.body&&w!==document.head&&w instanceof HTMLElement&&w.id!=="headlessui-portal-root"&&(w.contains(a.current)||w.contains((y=(p=a.current)==null?void 0:p.getRootNode())==null?void 0:y.host)||v.some(S=>w.contains(S))||v.push(w));return v});return{resolveContainers:d,contains:st(m=>d().some(p=>p.contains(m))),mainTreeNodeRef:a,MainTreeNode:_.useMemo(()=>function(){return n!=null?null:ke.createElement(uu,{features:Co.Hidden,ref:a})},[a,n])}}let ku=_.createContext(()=>{});ku.displayName="StackContext";var hu=(s=>(s[s.Add=0]="Add",s[s.Remove=1]="Remove",s))(hu||{});function A_(){return _.useContext(ku)}function L_({children:s,onUpdate:r,type:n,element:o,enabled:a}){let u=A_(),d=st((...m)=>{r==null||r(...m),u(...m)});return nr(()=>{let m=a===void 0||a===!0;return m&&d(0,n,o),()=>{m&&d(1,n,o)}},[d,n,o,a]),ke.createElement(ku.Provider,{value:d},s)}let Sm=_.createContext(null);function bm(){let s=_.useContext(Sm);if(s===null){let r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,bm),r}return s}function $_(){let[s,r]=_.useState([]);return[s.length>0?s.join(" "):void 0,_.useMemo(()=>function(n){let o=st(u=>(r(d=>[...d,u]),()=>r(d=>{let m=d.slice(),p=m.indexOf(u);return p!==-1&&m.splice(p,1),m}))),a=_.useMemo(()=>({register:o,slot:n.slot,name:n.name,props:n.props}),[o,n.slot,n.name,n.props]);return ke.createElement(Sm.Provider,{value:a},n.children)},[r])]}let I_="p";function M_(s,r){let n=Jn(),{id:o=`headlessui-description-${n}`,...a}=s,u=bm(),d=ir(r);nr(()=>u.register(o),[o,u.register]);let m={ref:d,...u.props,id:o};return qt({ourProps:m,theirProps:a,slot:u.slot||{},defaultTag:I_,name:u.name||"Description"})}let F_=Vt(M_),U_=Object.assign(F_,{});var z_=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(z_||{}),B_=(s=>(s[s.SetTitleId=0]="SetTitleId",s))(B_||{});let W_={0(s,r){return s.titleId===r.id?s:{...s,titleId:r.id}}},Po=_.createContext(null);Po.displayName="DialogContext";function si(s){let r=_.useContext(Po);if(r===null){let n=new Error(`<${s} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,si),n}return r}function H_(s,r,n=()=>[document.body]){R_(s,r,o=>{var a;return{containers:[...(a=o.containers)!=null?a:[],n]}})}function q_(s,r){return Lr(r.type,W_,s,r)}let V_="div",Y_=lu.RenderStrategy|lu.Static;function K_(s,r){let n=Jn(),{id:o=`headlessui-dialog-${n}`,open:a,onClose:u,initialFocus:d,role:m="dialog",__demoMode:p=!1,...y}=s,[v,w]=_.useState(0),S=_.useRef(!1);m=function(){return m==="dialog"||m==="alertdialog"?m:(S.current||(S.current=!0,console.warn(`Invalid role [${m}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let E=Yx();a===void 0&&E!==null&&(a=(E&Vs.Open)===Vs.Open);let N=_.useRef(null),T=ir(N,r),C=ni(N),L=s.hasOwnProperty("open")||E!==null,H=s.hasOwnProperty("onClose");if(!L&&!H)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!L)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!H)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof u!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${u}`);let z=a?0:1,[J,se]=_.useReducer(q_,{titleId:null,descriptionId:null,panelRef:_.createRef()}),ve=st(()=>u(!1)),ye=st(je=>se({type:0,id:je})),Ee=Io()?p?!1:z===0:!1,ze=v>1,Oe=_.useContext(Po)!==null,[it,V]=d_(),ue={get current(){var je;return(je=J.panelRef.current)!=null?je:N.current}},{resolveContainers:$,mainTreeNodeRef:q,MainTreeNode:K}=D_({portals:it,defaultContainers:[ue]}),Z=ze?"parent":"leaf",I=E!==null?(E&Vs.Closing)===Vs.Closing:!1,Y=Oe||I?!1:Ee,B=_.useCallback(()=>{var je,bt;return(bt=Array.from((je=C==null?void 0:C.querySelectorAll("body > *"))!=null?je:[]).find(Ge=>Ge.id==="headlessui-portal-root"?!1:Ge.contains(q.current)&&Ge instanceof HTMLElement))!=null?bt:null},[q]);vh(B,Y);let j=ze?!0:Ee,A=_.useCallback(()=>{var je,bt;return(bt=Array.from((je=C==null?void 0:C.querySelectorAll("[data-headlessui-portal]"))!=null?je:[]).find(Ge=>Ge.contains(q.current)&&Ge instanceof HTMLElement))!=null?bt:null},[q]);vh(A,j),zx($,je=>{je.preventDefault(),ve()},!(!Ee||ze));let D=!(ze||z!==0);mm(C==null?void 0:C.defaultView,"keydown",je=>{D&&(je.defaultPrevented||je.key===hm.Escape&&(je.preventDefault(),je.stopPropagation(),ve()))}),H_(C,!(I||z!==0||Oe),$),_.useEffect(()=>{if(z!==0||!N.current)return;let je=new ResizeObserver(bt=>{for(let Ge of bt){let or=Ge.target.getBoundingClientRect();or.x===0&&or.y===0&&or.width===0&&or.height===0&&ve()}});return je.observe(N.current),()=>je.disconnect()},[z,N,ve]);let[ne,ie]=$_(),de=_.useMemo(()=>[{dialogState:z,close:ve,setTitleId:ye},J],[z,J,ve,ye]),pe=_.useMemo(()=>({open:z===0}),[z]),ot={ref:T,id:o,role:m,"aria-modal":z===0?!0:void 0,"aria-labelledby":J.titleId,"aria-describedby":ne};return ke.createElement(L_,{type:"Dialog",enabled:z===0,element:N,onUpdate:st((je,bt)=>{bt==="Dialog"&&Lr(je,{[hu.Add]:()=>w(Ge=>Ge+1),[hu.Remove]:()=>w(Ge=>Ge-1)})})},ke.createElement(cu,{force:!0},ke.createElement(fu,null,ke.createElement(Po.Provider,{value:de},ke.createElement(fu.Group,{target:N},ke.createElement(cu,{force:!1},ke.createElement(ie,{slot:pe,name:"Dialog.Description"},ke.createElement(Ws,{initialFocus:d,containers:$,features:Ee?Lr(Z,{parent:Ws.features.RestoreFocus,leaf:Ws.features.All&~Ws.features.FocusLock}):Ws.features.None},ke.createElement(V,null,qt({ourProps:ot,theirProps:y,slot:pe,defaultTag:V_,features:Y_,visible:z===0,name:"Dialog"}))))))))),ke.createElement(K,null))}let G_="div";function Q_(s,r){let n=Jn(),{id:o=`headlessui-dialog-overlay-${n}`,...a}=s,[{dialogState:u,close:d}]=si("Dialog.Overlay"),m=ir(r),p=st(v=>{if(v.target===v.currentTarget){if(Gx(v.currentTarget))return v.preventDefault();v.preventDefault(),v.stopPropagation(),d()}}),y=_.useMemo(()=>({open:u===0}),[u]);return qt({ourProps:{ref:m,id:o,"aria-hidden":!0,onClick:p},theirProps:a,slot:y,defaultTag:G_,name:"Dialog.Overlay"})}let J_="div";function X_(s,r){let n=Jn(),{id:o=`headlessui-dialog-backdrop-${n}`,...a}=s,[{dialogState:u},d]=si("Dialog.Backdrop"),m=ir(r);_.useEffect(()=>{if(d.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[d.panelRef]);let p=_.useMemo(()=>({open:u===0}),[u]);return ke.createElement(cu,{force:!0},ke.createElement(fu,null,qt({ourProps:{ref:m,id:o,"aria-hidden":!0},theirProps:a,slot:p,defaultTag:J_,name:"Dialog.Backdrop"})))}let Z_="div";function e1(s,r){let n=Jn(),{id:o=`headlessui-dialog-panel-${n}`,...a}=s,[{dialogState:u},d]=si("Dialog.Panel"),m=ir(r,d.panelRef),p=_.useMemo(()=>({open:u===0}),[u]),y=st(v=>{v.stopPropagation()});return qt({ourProps:{ref:m,id:o,onClick:y},theirProps:a,slot:p,defaultTag:Z_,name:"Dialog.Panel"})}let t1="h2";function r1(s,r){let n=Jn(),{id:o=`headlessui-dialog-title-${n}`,...a}=s,[{dialogState:u,setTitleId:d}]=si("Dialog.Title"),m=ir(r);_.useEffect(()=>(d(o),()=>d(null)),[o,d]);let p=_.useMemo(()=>({open:u===0}),[u]);return qt({ourProps:{ref:m,id:o},theirProps:a,slot:p,defaultTag:t1,name:"Dialog.Title"})}let n1=Vt(K_),s1=Vt(X_),i1=Vt(e1),o1=Vt(Q_),a1=Vt(r1),Hn=Object.assign(n1,{Backdrop:s1,Panel:i1,Overlay:o1,Title:a1,Description:U_});const l1=()=>{const{user:s,userRole:r}=Ht(),[n,o]=_.useState([]),[a,u]=_.useState([]),[d,m]=_.useState([]),[p,y]=_.useState(""),[v,w]=_.useState(""),[S,E]=_.useState(""),[N,T]=_.useState([]),[C,L]=_.useState(null),[H,z]=_.useState(!1),[J,se]=_.useState(!1),[ve,ye]=_.useState(""),[Ee,ze]=_.useState(null),[Oe,it]=_.useState(null),[V,ue]=_.useState(!1);_.useEffect(()=>{K(),r==="patient"?(Z(),$()):r==="staff"&&(Z(),q())},[s,r]);const $=async()=>{try{const{data:D,error:ee}=await ce.from("patients").select("patient_id").eq("user_id",s==null?void 0:s.id).single();if(ee)throw ee;ze(D.patient_id)}catch(D){console.error("Error fetching patient ID:",D),ye("Failed to load patient information")}},q=async()=>{try{const{data:D,error:ee}=await ce.from("patients").select(`
          patient_id,
          user_id,
          users (
            first_name,
            last_name
          )
        `);if(ee)throw ee;const ne=D.map(ie=>({patient_id:ie.patient_id,user_id:ie.user_id,first_name:ie.users.first_name,last_name:ie.users.last_name}));m(ne)}catch(D){console.error("Error fetching patients:",D),ye("Failed to load patients")}},K=async()=>{try{se(!0);let D=ce.from("appointments").select(`
          appointment_id,
          patient_id,
          staff_id,
          time_slot_id,
          status,
          time_slots (
            start_time,
            end_time
          ),
          staff:staff_id (
            users (
              first_name,
              last_name
            )
          )
        `);if(r==="patient"){const{data:de,error:pe}=await ce.from("patients").select("patient_id").eq("user_id",s==null?void 0:s.id).single();if(pe)throw pe;D=D.eq("patient_id",de.patient_id)}const{data:ee,error:ne}=await D;if(ne)throw ne;const ie=ee.map(de=>({...de,doctor_name:`${de.staff.users.first_name} ${de.staff.users.last_name}`,start_time:de.time_slots.start_time,end_time:de.time_slots.end_time}));o(ie)}catch(D){console.error("Error fetching appointments:",D),ye("Failed to load appointments")}finally{se(!1)}},Z=async()=>{try{const{data:D,error:ee}=await ce.from("user_role").select("user_id").eq("role_id",4);if(ee)throw ee;if(!D||D.length===0){u([]);return}const{data:ne,error:ie}=await ce.from("staff").select(`
          staff_id,
          user_id,
          specialization,
          users (
            first_name,
            last_name
          )
        `).in("user_id",D.map(pe=>pe.user_id));if(ie)throw ie;u(ne)}catch(D){console.error("Error fetching doctors:",D),ye("Failed to load doctors")}},I=async()=>{if(!(!p||!S))try{const{data:D,error:ee}=await ce.from("schedules").select("*").eq("staff_id",p).eq("date",S).single();if(ee&&!ee.message.includes("no rows"))throw ee;let ne;if(D)ne=D;else{const ie=Le(Xe(S),"EEEE"),{data:de,error:pe}=await ce.from("schedules").select("*").eq("staff_id",p).eq("is_weekly",!0).eq("day_of_week",ie).single();if(pe&&!pe.message.includes("no rows"))throw pe;ne=de}if(ne){const{data:ie,error:de}=await ce.from("time_slots").select("*").eq("schedule_id",ne.schedule_id).eq("status","available");if(de)throw de;T(ie||[])}else T([])}catch(D){console.error("Error fetching time slots:",D),ye("Failed to load available time slots")}},Y=async()=>{if(!(!C||!p))try{se(!0),ye("");let D;if(r==="patient"){if(!Ee)throw new Error("Patient information not found");D=Ee}else{if(!v)throw new Error("Please select a patient");D=v}const{error:ee}=await ce.from("time_slots").update({status:"booked"}).eq("time_slot_id",C.time_slot_id);if(ee)throw ee;const{error:ne}=await ce.from("appointments").insert({patient_id:D,staff_id:p,time_slot_id:C.time_slot_id,status:"confirmed"});if(ne)throw ne;z(!1),K()}catch(D){console.error("Error booking appointment:",D),ye("Failed to book appointment: "+D.message)}finally{se(!1)}},B=async D=>{try{se(!0);const{data:ee}=await ce.from("appointments").select("time_slot_id").eq("appointment_id",D).single();if(!ee)throw new Error("Appointment not found");const{error:ne}=await ce.from("appointments").update({status:"cancelled"}).eq("appointment_id",D);if(ne)throw ne;const{error:ie}=await ce.from("time_slots").update({status:"available"}).eq("time_slot_id",ee.time_slot_id);if(ie)throw ie;K()}catch(ee){console.error("Error cancelling appointment:",ee),ye("Failed to cancel appointment")}finally{se(!1)}},j=D=>{it(D),ue(!0)},A=D=>{const ee=new Date(D.start_time),ne=new Date(D.end_time),ie={text:`Medical Appointment with ${D.doctor_name}`,dates:`${ee.toISOString()}/${ne.toISOString()}`,details:`Medical appointment at SmartMed Systems
Doctor: ${D.doctor_name}
Status: ${D.status}`},de=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(ie.text)}&dates=${encodeURIComponent(ie.dates.replace(/[-:]/g,""))}&details=${encodeURIComponent(ie.details)}`;window.open(de,"_blank")},le=D=>n.filter(ee=>{const ne=Xe(ee.start_time),ie=new Date;switch(D){case"upcoming":return lx(ne,ie)&&ee.status==="confirmed";case"pending":return ee.status==="pending";case"past":return ux(ne,ie)||ee.status==="cancelled";default:return!1}});return h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Appointments"}),(r==="patient"||r==="staff")&&h.jsx("button",{onClick:()=>z(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Book Appointment"})]}),ve&&h.jsx("div",{className:"mb-4 bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:ve}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("section",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Upcoming Appointments"}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:le("upcoming").map(D=>h.jsxs("div",{className:"p-4 border-b last:border-b-0 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900",children:D.doctor_name}),h.jsxs("p",{className:"text-gray-600",children:[Le(Xe(D.start_time),"PPP")," at"," ",Le(Xe(D.start_time),"p")]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>j(D),className:"px-3 py-1 text-gray-600 border border-gray-600 rounded hover:bg-gray-50 flex items-center",children:[h.jsx(F0,{className:"w-4 h-4 mr-1"}),"Details"]}),h.jsxs("button",{onClick:()=>A(D),className:"px-3 py-1 text-green-600 border border-green-600 rounded hover:bg-green-50 flex items-center",children:[h.jsx(jo,{className:"w-4 h-4 mr-1"}),"Add to Calendar"]}),h.jsx("button",{onClick:()=>{},className:"px-3 py-1 text-blue-600 border border-blue-600 rounded hover:bg-blue-50",children:"Reschedule"}),h.jsx("button",{onClick:()=>B(D.appointment_id),className:"px-3 py-1 text-red-600 border border-red-600 rounded hover:bg-red-50",children:"Cancel"})]})]},D.appointment_id))})]}),h.jsxs("section",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pending Appointments"}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:le("pending").map(D=>h.jsxs("div",{className:"p-4 border-b last:border-b-0 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900",children:D.doctor_name}),h.jsxs("p",{className:"text-gray-600",children:[Le(Xe(D.start_time),"PPP")," at"," ",Le(Xe(D.start_time),"p")]})]}),h.jsx("div",{className:"flex space-x-2",children:h.jsx("button",{onClick:()=>B(D.appointment_id),className:"px-3 py-1 text-red-600 border border-red-600 rounded hover:bg-red-50",children:"Cancel"})})]},D.appointment_id))})]}),h.jsxs("section",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Past Appointments"}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:le("past").map(D=>h.jsxs("div",{className:"p-4 border-b last:border-b-0",children:[h.jsx("p",{className:"font-medium text-gray-900",children:D.doctor_name}),h.jsxs("p",{className:"text-gray-600",children:[Le(Xe(D.start_time),"PPP")," at"," ",Le(Xe(D.start_time),"p")]}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Status: ",D.status]})]},D.appointment_id))})]})]}),h.jsx(Hn,{open:V,onClose:()=>ue(!1),className:"fixed inset-0 z-10 overflow-y-auto",children:h.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[h.jsx(Hn.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),h.jsxs("div",{className:"relative bg-white rounded-lg max-w-md w-full mx-4 p-6",children:[h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx("button",{onClick:()=>ue(!1),className:"text-gray-400 hover:text-gray-500",children:h.jsx(rn,{className:"h-6 w-6"})})}),Oe&&h.jsxs("div",{children:[h.jsx(Hn.Title,{className:"text-lg font-medium text-gray-900 mb-4",children:"Appointment Details"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Doctor"}),h.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Oe.doctor_name})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Date & Time"}),h.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Le(Xe(Oe.start_time),"PPP")}),h.jsxs("p",{className:"text-sm text-gray-900",children:[Le(Xe(Oe.start_time),"p")," - ",Le(Xe(Oe.end_time),"p")]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Status"}),h.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:Oe.status})]}),h.jsx("div",{className:"pt-4 flex justify-end space-x-3",children:h.jsxs("button",{onClick:()=>A(Oe),className:"flex items-center px-4 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-md hover:bg-green-100",children:[h.jsx(jo,{className:"w-4 h-4 mr-2"}),"Add to Google Calendar"]})})]})]})]})]})}),h.jsx(Hn,{open:H,onClose:()=>z(!1),className:"fixed inset-0 z-10 overflow-y-auto",children:h.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[h.jsx(Hn.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),h.jsxs("div",{className:"relative bg-white rounded-lg max-w-md w-full mx-4 p-6",children:[h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-500",children:h.jsx(rn,{className:"h-6 w-6"})})}),h.jsx(Hn.Title,{className:"text-lg font-medium text-gray-900 mb-4",children:"Book an Appointment"}),h.jsxs("div",{className:"space-y-4",children:[r==="staff"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Patient"}),h.jsxs("select",{value:v,onChange:D=>w(D.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"",children:"Choose a patient"}),d.map(D=>h.jsxs("option",{value:D.patient_id,children:[D.first_name," ",D.last_name]},D.patient_id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Doctor"}),h.jsxs("select",{value:p,onChange:D=>y(D.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"",children:"Choose a doctor"}),a.map(D=>h.jsxs("option",{value:D.staff_id,children:["Dr. ",D.users.first_name," ",D.users.last_name," - ",D.specialization]},D.staff_id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Date"}),h.jsx("input",{type:"date",value:S,min:Le(new Date,"yyyy-MM-dd"),onChange:D=>{E(D.target.value),I()},className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),N.length>0&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Time Slots"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.map(D=>h.jsx("button",{onClick:()=>L(D),className:`p-2 text-sm rounded-md ${(C==null?void 0:C.time_slot_id)===D.time_slot_id?"bg-blue-600 text-white":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:Le(Xe(D.start_time),"p")},D.time_slot_id))})]}),h.jsx("button",{onClick:Y,disabled:!C||J||r==="staff"&&!v,className:"w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Booking...":"Confirm Booking"})]})]})]})})]})},u1=["Prescription","Symptoms","Appointment","Insurance","Other"],c1=()=>{const{user:s,userRole:r}=Ht(),[n,o]=_.useState([]),[a,u]=_.useState(null),[d,m]=_.useState([]),[p,y]=_.useState(""),[v,w]=_.useState(!1),[S,E]=_.useState(""),[N,T]=_.useState(!1),[C,L]=_.useState(""),[H,z]=_.useState(""),J=_.useRef(null),se=()=>{var V;(V=J.current)==null||V.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{s&&ve()},[s]),_.useEffect(()=>{if(a){ye(a.thread_id);const V=ce.channel(`thread_${a.thread_id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`thread_id=eq.${a.thread_id}`},ue=>{const $=ue.new;m(q=>[...q,$]),se()}).subscribe();return()=>{V.unsubscribe()}}},[a]),_.useEffect(()=>{se()},[d]);const ve=async()=>{try{w(!0);let V=ce.from("threads").select(`
          *,
          participants!inner(user_id),
          patients:participants!inner(
            users(first_name, last_name)
          )
        `);if(r==="patient")V=V.eq("participants.user_id",s==null?void 0:s.id);else{const{data:K}=await ce.from("participants").select("thread_id").eq("user_id",s==null?void 0:s.id),Z=(K==null?void 0:K.map(I=>I.thread_id))||[];V=V.or(`status.eq.open,thread_id.in.(${Z.join(",")})`)}const{data:ue,error:$}=await V;if($)throw $;const q=ue.map(K=>({...K,patient_name:`${K.patients[0].users.first_name} ${K.patients[0].users.last_name}`}));o(q)}catch(V){console.error("Error fetching threads:",V),E("Failed to load chat threads")}finally{w(!1)}},ye=async V=>{try{const{data:ue,error:$}=await ce.from("messages").select(`
          *,
          users(first_name, last_name)
        `).eq("thread_id",V).order("sent_at",{ascending:!0});if($)throw $;const q=ue.map(K=>({...K,sender_name:K.users?`${K.users.first_name} ${K.users.last_name}`:"System",is_system:K.content.includes("Patient is waiting for a nurse")||K.content.includes("Nurse has joined the chat")||K.content.includes("Chat closed by")}));m(q)}catch(ue){console.error("Error fetching messages:",ue),E("Failed to load messages")}},Ee=async()=>{try{w(!0),E("");const{data:V,error:ue}=await ce.from("threads").insert({subject:C,description:H,status:"open",created_at:new Date().toISOString()}).select().single();if(ue)throw ue;const{error:$}=await ce.from("participants").insert({thread_id:V.thread_id,user_id:s==null?void 0:s.id,updated_at:new Date().toISOString()});if($)throw $;const{error:q}=await ce.from("messages").insert({thread_id:V.thread_id,user_id:s==null?void 0:s.id,content:"Patient is waiting for a nurse.",sent_at:new Date().toISOString()});if(q)throw q;T(!1),ve()}catch(V){console.error("Error starting new chat:",V),E("Failed to start new chat")}finally{w(!1)}},ze=async V=>{try{w(!0),E("");const{error:ue}=await ce.from("participants").insert({thread_id:V.thread_id,user_id:s==null?void 0:s.id,updated_at:new Date().toISOString()});if(ue)throw ue;const{error:$}=await ce.from("threads").update({status:"in_progress"}).eq("thread_id",V.thread_id);if($)throw $;const{error:q}=await ce.from("messages").insert({thread_id:V.thread_id,user_id:s==null?void 0:s.id,content:"Nurse has joined the chat.",sent_at:new Date().toISOString()});if(q)throw q;ve(),u(V)}catch(ue){console.error("Error accepting chat:",ue),E("Failed to accept chat")}finally{w(!1)}},Oe=async V=>{if(V.preventDefault(),!(!a||!p.trim()))try{const{error:ue}=await ce.from("messages").insert({thread_id:a.thread_id,user_id:s==null?void 0:s.id,content:p.trim(),sent_at:new Date().toISOString()});if(ue)throw ue;y("")}catch(ue){console.error("Error sending message:",ue),E("Failed to send message")}},it=async()=>{if(a)try{w(!0),E("");const{error:V}=await ce.from("messages").insert({thread_id:a.thread_id,user_id:s==null?void 0:s.id,content:`Chat closed by ${r==="patient"?"patient":"nurse"}.`,sent_at:new Date().toISOString()});if(V)throw V;const{error:ue}=await ce.from("threads").update({status:"closed"}).eq("thread_id",a.thread_id);if(ue)throw ue;u(null),ve()}catch(V){console.error("Error ending chat:",V),E("Failed to end chat")}finally{w(!1)}};return h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"flex h-[calc(100vh-12rem)]",children:[h.jsxs("div",{className:"w-1/3 bg-white rounded-lg shadow-lg mr-4 flex flex-col",children:[h.jsx("div",{className:"p-4 border-b",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Chats"}),r==="patient"&&h.jsx("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"New Chat"})]})}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:n.map(V=>h.jsxs("div",{className:`p-4 border-b cursor-pointer hover:bg-gray-50 ${(a==null?void 0:a.thread_id)===V.thread_id?"bg-blue-50":""}`,onClick:()=>u(V),children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium",children:V.subject}),h.jsx("p",{className:"text-sm text-gray-600",children:V.patient_name})]}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${V.status==="open"?"bg-yellow-100 text-yellow-800":V.status==="in_progress"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:V.status})]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Le(new Date(V.created_at),"MMM d, yyyy h:mm a")}),r!=="patient"&&V.status==="open"&&h.jsx("button",{onClick:ue=>{ue.stopPropagation(),ze(V)},className:"mt-2 px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Accept Chat"})]},V.thread_id))})]}),a?h.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow-lg flex flex-col",children:[h.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold",children:a.subject}),h.jsx("p",{className:"text-sm text-gray-600",children:a.patient_name})]}),a.status==="in_progress"&&h.jsx("button",{onClick:it,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"End Chat"})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[d.map(V=>h.jsx("div",{className:`mb-4 ${V.is_system?"flex justify-center":V.user_id===(s==null?void 0:s.id)?"flex justify-end":"flex justify-start"}`,children:V.is_system?h.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2 text-sm text-gray-600",children:V.content}):h.jsxs("div",{className:`max-w-[70%] ${V.user_id===(s==null?void 0:s.id)?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"} rounded-lg px-4 py-2`,children:[h.jsx("p",{className:"text-sm font-medium mb-1",children:V.sender_name}),h.jsx("p",{children:V.content}),h.jsx("p",{className:"text-xs mt-1 opacity-75",children:Le(new Date(V.sent_at),"h:mm a")})]})},V.message_id)),h.jsx("div",{ref:J})]}),a.status==="in_progress"&&h.jsx("form",{onSubmit:Oe,className:"p-4 border-t",children:h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("input",{type:"text",value:p,onChange:V=>y(V.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsx("button",{type:"submit",disabled:!p.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:h.jsx(W0,{className:"h-5 w-5"})})]})})]}):h.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg flex items-center justify-center",children:h.jsx("p",{className:"text-gray-500",children:"Select a chat to start messaging"})})]}),N&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Start New Chat"}),h.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700",children:h.jsx(rn,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"What do you need help with?"}),h.jsxs("select",{value:C,onChange:V=>L(V.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"",children:"Select a category"}),u1.map(V=>h.jsx("option",{value:V,children:V},V))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),h.jsx("textarea",{value:H,onChange:V=>z(V.target.value),rows:3,className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Briefly describe your issue..."})]}),h.jsx("button",{onClick:Ee,disabled:!C||v,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:v?"Starting Chat...":"Start Chat"})]})]})})]})},d1=()=>{const{user:s,userRole:r}=Ht(),[n,o]=_.useState(null),[a,u]=_.useState(null),[d,m]=_.useState(null),[p,y]=_.useState(!0),[v,w]=_.useState("");_.useEffect(()=>{s&&(S(),r==="patient"?E():r==="staff"&&N())},[s,r]);const S=async()=>{try{const{data:T,error:C}=await ce.from("users").select("*").eq("user_id",s==null?void 0:s.id).single();if(C)throw C;o(T)}catch(T){console.error("Error fetching user profile:",T),w("Failed to load user profile")}},E=async()=>{try{const{data:T,error:C}=await ce.from("patients").select(`
          *,
          staff:primary_provider_id (
            users (
              first_name,
              last_name
            )
          )
        `).eq("user_id",s==null?void 0:s.id).single();if(C)throw C;u({...T,primary_provider_name:T.staff?`Dr. ${T.staff.users.first_name} ${T.staff.users.last_name}`:"Not assigned"})}catch(T){console.error("Error fetching patient details:",T),w("Failed to load patient details")}finally{y(!1)}},N=async()=>{var T;try{const{data:C,error:L}=await ce.from("staff").select(`
          *,
          departments!fk_staff_department (
            name
          )
        `).eq("user_id",s==null?void 0:s.id).single();if(L)throw L;m({department_name:((T=C.departments)==null?void 0:T.name)||"Not assigned",specialization:C.specialization,hire_date:C.hire_date})}catch(C){console.error("Error fetching staff details:",C),w("Failed to load staff details")}finally{y(!1)}};return p?h.jsx("div",{className:"flex justify-center items-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsx("div",{className:"max-w-3xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[h.jsx("div",{className:"bg-blue-600 px-6 py-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-white bg-opacity-25 rounded-full",children:h.jsx(q0,{className:"h-6 w-6 text-white"})}),h.jsx("h1",{className:"ml-3 text-2xl font-bold text-white",children:"Profile"})]})}),v&&h.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 text-red-700",children:v}),h.jsxs("div",{className:"p-6 border-b",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Basic Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Name"}),h.jsxs("p",{className:"font-medium",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Email"}),h.jsx("p",{className:"font-medium",children:n==null?void 0:n.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Phone Number"}),h.jsx("p",{className:"font-medium",children:n==null?void 0:n.phone_number})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Member Since"}),h.jsx("p",{className:"font-medium",children:(n==null?void 0:n.created_at)&&Le(new Date(n.created_at),"MMMM d, yyyy")})]})]})]}),r==="patient"&&a&&h.jsxs("div",{className:"p-6 border-b",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Patient Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Date of Birth"}),h.jsx("p",{className:"font-medium",children:Le(new Date(a.date_of_birth),"MMMM d, yyyy")})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Gender"}),h.jsx("p",{className:"font-medium",children:a.gender})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Blood Type"}),h.jsx("p",{className:"font-medium",children:a.blood_type})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Insurance Provider"}),h.jsx("p",{className:"font-medium",children:a.insurance_provider||"Not provided"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Primary Care Provider"}),h.jsx("p",{className:"font-medium",children:a.primary_provider_name})]})]})]}),r==="staff"&&d&&h.jsxs("div",{className:"p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Staff Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Department"}),h.jsx("p",{className:"font-medium",children:d.department_name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Specialization"}),h.jsx("p",{className:"font-medium",children:d.specialization||"Not specified"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Hire Date"}),h.jsx("p",{className:"font-medium",children:Le(new Date(d.hire_date),"MMMM d, yyyy")})]})]})]})]})})})},f1=ke.lazy(()=>Ar(()=>import("./Home-Dscp3HsS.js"),[])),h1=ke.lazy(()=>Ar(()=>import("./Dashboard-kGvvkgzp.js"),[])),m1=()=>{const s=sr();return h.jsx(Zy,{onSignupSuccess:()=>s("/role-selection")})};function p1(){return h.jsx(T0,{children:h.jsx(Qy,{children:h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(Jy,{}),h.jsxs(b0,{children:[h.jsx(_t,{path:"/login",element:h.jsx(Xy,{})}),h.jsx(_t,{path:"/signup",element:h.jsx(m1,{})}),h.jsx(_t,{path:"/role-selection",element:h.jsx(ew,{})}),h.jsx(_t,{path:"/patient-data",element:h.jsx(tw,{})}),h.jsx(_t,{path:"/staff-data",element:h.jsx(rw,{})}),h.jsx(_t,{path:"/patient-home",element:h.jsx(Bn,{requiredRole:"patient",children:h.jsx(_.Suspense,{fallback:h.jsx("div",{children:"Loading..."}),children:h.jsx(f1,{})})})}),h.jsx(_t,{path:"/staff-dashboard",element:h.jsx(Bn,{requiredRole:"staff",children:h.jsx(_.Suspense,{fallback:h.jsx("div",{children:"Loading..."}),children:h.jsx(h1,{})})})}),h.jsx(_t,{path:"/schedule",element:h.jsx(Bn,{requiredRole:"staff",children:h.jsx(Ex,{})})}),h.jsx(_t,{path:"/appointments",element:h.jsx(Bn,{children:h.jsx(l1,{})})}),h.jsx(_t,{path:"/chat",element:h.jsx(Bn,{children:h.jsx(c1,{})})}),h.jsx(_t,{path:"/profile",element:h.jsx(Bn,{children:h.jsx(d1,{})})}),h.jsx(_t,{path:"/",element:h.jsx(g1,{})})]})]})})})}const g1=()=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative bg-white overflow-hidden",children:[h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx("div",{className:"relative z-10 pb-8 bg-white sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32",children:h.jsx("main",{className:"mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28",children:h.jsxs("div",{className:"sm:text-center lg:text-left",children:[h.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[h.jsx("span",{className:"block",children:"Your Health Care"}),h.jsx("span",{className:"block text-blue-600",children:"Made Simple"})]}),h.jsx("p",{className:"mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0",children:"Take control of your health with our comprehensive healthcare platform. Book appointments, have live chat and video with top healthcare professionals."}),h.jsxs("div",{className:"mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start",children:[h.jsx("div",{className:"rounded-md shadow",children:h.jsx("a",{href:"/signup",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 md:py-4 md:text-lg md:px-10",children:"Get Started"})}),h.jsx("div",{className:"mt-3 sm:mt-0 sm:ml-3",children:h.jsx("a",{href:"/login",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-blue-100 hover:bg-blue-200 md:py-4 md:text-lg md:px-10",children:"Log In"})})]})]})})})}),h.jsx("div",{className:"lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:h.jsx("img",{className:"h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full",src:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",alt:"Healthcare professionals"})})]}),h.jsx("div",{className:"py-12 bg-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"lg:text-center",children:[h.jsx("h2",{className:"text-base text-blue-600 font-semibold tracking-wide uppercase",children:"Features"}),h.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Everything you need in one place"})]}),h.jsx("div",{className:"mt-10",children:h.jsxs("div",{className:"grid grid-cols-1 gap-10 sm:grid-cols-2 lg:grid-cols-3",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:h.jsx(jo,{className:"h-6 w-6"})}),h.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Appointment Scheduling"}),h.jsx("p",{className:"mt-2 text-base text-gray-500 text-center",children:"Effortlessly schedule your next online appointment with one of our trusted medical professionals"})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:h.jsx(B0,{className:"h-6 w-6"})}),h.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Live Chat"}),h.jsx("p",{className:"mt-2 text-base text-gray-500 text-center",children:"Ask common health-related questions via live chat and get quick answers"})]}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-blue-500 text-white",children:h.jsx(V0,{className:"h-6 w-6"})}),h.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Video Call"}),h.jsx("p",{className:"mt-2 text-base text-gray-500 text-center",children:"Join video calls with your provider and attend appointments remotely"})]})]})})]})}),h.jsx("div",{className:"bg-blue-600",children:h.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between",children:[h.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight text-white sm:text-4xl",children:[h.jsx("span",{className:"block",children:"Ready to get started?"}),h.jsx("span",{className:"block text-blue-200",children:"Sign up today!"})]}),h.jsx("div",{className:"mt-8 flex lg:mt-0 lg:flex-shrink-0",children:h.jsx("div",{className:"inline-flex rounded-md shadow",children:h.jsxs("a",{href:"/signup",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50",children:["Get Started",h.jsx($0,{className:"ml-2 h-5 w-5"})]})})})]})})]});Pg.createRoot(document.getElementById("root")).render(h.jsx(_.StrictMode,{children:h.jsx(p1,{})}));export{vu as A,jo as C,B0 as M,Ze as c,yh as g,h as j,sr as u};
